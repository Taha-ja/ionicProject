(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(Xt,rt,N)=>{"use strict";N.d(rt,{nm:()=>Y});var a=N(6351);N(6435),N(5867);var Qe=N(5861),we=N(9681),We=N(4859),lt=N(2090),Be=N(1877);const Ct=new Map,le={activated:!1,tokenObservers:[]},Pe={initialized:!1,enabled:!1};function ae(Ye){return Ct.get(Ye)||le}function be(Ye,je){Ct.set(Ye,je)}function qe(){return Pe}class Ze{constructor(je,ot,Tt,Wt,bn){if(this.operation=je,this.retryPolicy=ot,this.getWaitDuration=Tt,this.lowerBound=Wt,this.upperBound=bn,this.pending=null,this.nextErrorWaitInterval=Wt,Wt>bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var ot=this;return(0,Qe.Z)(function*(){ot.stop();try{ot.pending=new lt.BH,yield function tt(Ye){return new Promise(je=>{setTimeout(je,Ye)})}(ot.getNextRun(je)),ot.pending.resolve(),yield ot.pending.promise,ot.pending=new lt.BH,yield ot.operation(),ot.pending.resolve(),yield ot.pending.promise,ot.process(!0).catch(()=>{})}catch(Tt){ot.retryPolicy(Tt)?ot.process(!1).catch(()=>{}):ot.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ot}}}const Ke=new lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ft(Ye){if(!ae(Ye).activated)throw Ke.create("use-before-activation",{appName:Ye.name})}function sn(Ye,je){return vn.apply(this,arguments)}function vn(){return(vn=(0,Qe.Z)(function*({url:Ye,body:je},ot){const Tt={"Content-Type":"application/json"},Wt=ot.getImmediate({optional:!0});if(Wt){const Zi=yield Wt.getHeartbeatsHeader();Zi&&(Tt["X-Firebase-Client"]=Zi)}const bn={method:"POST",body:JSON.stringify(je),headers:Tt};let xr,Kr;try{xr=yield fetch(Ye,bn)}catch(Zi){throw Ke.create("fetch-network-error",{originalErrorMessage:Zi.message})}if(200!==xr.status)throw Ke.create("fetch-status-error",{httpStatus:xr.status});try{Kr=yield xr.json()}catch(Zi){throw Ke.create("fetch-parse-error",{originalErrorMessage:Zi.message})}const _r=Kr.ttl.match(/^([\d.]+)(s)$/);if(!_r||!_r[2]||isNaN(Number(_r[1])))throw Ke.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Kr.ttl}`});const oi=1e3*Number(_r[1]),Ci=Date.now();return{token:Kr.attestationToken,expireTimeMillis:Ci+oi,issuedAtTimeMillis:Ci}})).apply(this,arguments)}function Kn(Ye,je){const{projectId:ot,appId:Tt,apiKey:Wt}=Ye.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ot}/apps/${Tt}:exchangeDebugToken?key=${Wt}`,body:{debug_token:je}}}const kn="firebase-app-check-store";let Rn=null;function Vn(){return Rn||(Rn=new Promise((Ye,je)=>{try{const ot=indexedDB.open("firebase-app-check-database",1);ot.onsuccess=Tt=>{Ye(Tt.target.result)},ot.onerror=Tt=>{var Wt;je(Ke.create("storage-open",{originalErrorMessage:null===(Wt=Tt.target.error)||void 0===Wt?void 0:Wt.message}))},ot.onupgradeneeded=Tt=>{0===Tt.oldVersion&&Tt.target.result.createObjectStore(kn,{keyPath:"compositeKey"})}}catch(ot){je(Ke.create("storage-open",{originalErrorMessage:ot.message}))}}),Rn)}function jn(){return(jn=(0,Qe.Z)(function*(Ye,je){const Tt=(yield Vn()).transaction(kn,"readwrite"),bn=Tt.objectStore(kn).put({compositeKey:Ye,value:je});return new Promise((xr,Kr)=>{bn.onsuccess=_r=>{xr()},Tt.onerror=_r=>{var oi;Kr(Ke.create("storage-set",{originalErrorMessage:null===(oi=_r.target.error)||void 0===oi?void 0:oi.message}))}})})).apply(this,arguments)}const qr=new Be.Yd("@firebase/app-check");function pr(Ye,je){return(0,lt.hl)()?function En(Ye,je){return function Dr(Ye,je){return jn.apply(this,arguments)}(function Rr(Ye){return`${Ye.options.appId}-${Ye.name}`}(Ye),je)}(Ye,je).catch(ot=>{qr.warn(`Failed to write token to IndexedDB. Error: ${ot}`)}):Promise.resolve()}function Pn(){return qe().enabled}function Jn(){return zt.apply(this,arguments)}function zt(){return(zt=(0,Qe.Z)(function*(){const Ye=qe();if(Ye.enabled&&Ye.token)return Ye.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lt={error:"UNKNOWN_ERROR"};function yn(Ye){return lt.US.encodeString(JSON.stringify(Ye),!1)}function en(Ye){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,Qe.Z)(function*(Ye,je=!1){const ot=Ye.app;ft(ot);const Tt=ae(ot);let bn,Wt=Tt.token;if(!Wt){const _r=yield Tt.cachedTokenPromise;_r&&he(_r)&&(Wt=_r)}if(!je&&Wt&&he(Wt))return{token:Wt.token};let Kr,xr=!1;if(Pn()){Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=sn(Kn(ot,yield Jn()),Ye.heartbeatServiceProvider).then(oi=>(Tt.exchangeTokenPromise=void 0,oi)),xr=!0);const _r=yield Tt.exchangeTokenPromise;return yield pr(ot,_r),be(ot,Object.assign(Object.assign({},Tt),{token:_r})),{token:_r.token}}try{Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Tt.provider.getToken().then(_r=>(Tt.exchangeTokenPromise=void 0,_r)),xr=!0),Wt=yield Tt.exchangeTokenPromise}catch(_r){"appCheck/throttled"===_r.code?qr.warn(_r.message):qr.error(_r),bn=_r}return Wt?(Kr={token:Wt.token},be(ot,Object.assign(Object.assign({},Tt),{token:Wt})),yield pr(ot,Wt)):Kr=_e(bn),xr&&se(ot,Kr),Kr})).apply(this,arguments)}function ge(Ye,je){const ot=ae(Ye),Tt=ot.tokenObservers.filter(Wt=>Wt.next!==je);0===Tt.length&&ot.tokenRefresher&&ot.tokenRefresher.isRunning()&&ot.tokenRefresher.stop(),be(Ye,Object.assign(Object.assign({},ot),{tokenObservers:Tt}))}function $e(Ye){const{app:je}=Ye,ot=ae(je);let Tt=ot.tokenRefresher;Tt||(Tt=function dt(Ye){const{app:je}=Ye;return new Ze((0,Qe.Z)(function*(){let Tt;if(Tt=ae(je).token?yield en(Ye,!0):yield en(Ye),Tt.error)throw Tt.error}),()=>!0,()=>{const ot=ae(je);if(ot.token){let Tt=ot.token.issuedAtTimeMillis+.5*(ot.token.expireTimeMillis-ot.token.issuedAtTimeMillis)+3e5;return Tt=Math.min(Tt,ot.token.expireTimeMillis-3e5),Math.max(0,Tt-Date.now())}return 0},3e4,96e4)}(Ye),be(je,Object.assign(Object.assign({},ot),{tokenRefresher:Tt}))),!Tt.isRunning()&&ot.isTokenAutoRefreshEnabled&&Tt.start()}function se(Ye,je){const ot=ae(Ye).tokenObservers;for(const Tt of ot)try{"EXTERNAL"===Tt.type&&null!=je.error?Tt.error(je.error):Tt.next(je)}catch(Wt){}}function he(Ye){return Ye.expireTimeMillis-Date.now()>0}function _e(Ye){return{token:yn(Lt),error:Ye}}class mt{constructor(je,ot){this.app=je,this.heartbeatServiceProvider=ot}_delete(){const{tokenObservers:je}=ae(this.app);for(const ot of je)ge(this.app,ot.next);return Promise.resolve()}}const jr="app-check-internal";!function xn(){(0,we._registerComponent)(new We.wA("app-check",Ye=>function Vt(Ye,je){return new mt(Ye,je)}(Ye.getProvider("app").getImmediate(),Ye.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ye,je,ot)=>{Ye.getProvider(jr).initialize()})),(0,we._registerComponent)(new We.wA(jr,Ye=>function hn(Ye){return{getToken:je=>en(Ye,je),addTokenListener:je=>function Ne(Ye,je,ot,Tt){const{app:Wt}=Ye,bn=ae(Wt),xr={next:ot,error:Tt,type:je};if(be(Wt,Object.assign(Object.assign({},bn),{tokenObservers:[...bn.tokenObservers,xr]})),bn.token&&he(bn.token)){const Kr=bn.token;Promise.resolve().then(()=>{ot({token:Kr.token}),$e(Ye)}).catch(()=>{})}bn.cachedTokenPromise.then(()=>$e(Ye))}(Ye,"INTERNAL",je),removeTokenListener:je=>ge(Ye.app,je)}}(Ye.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.5.5")}();class Y{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},4941:(Xt,rt,N)=>{"use strict";N.d(rt,{zQ:()=>at,ww:()=>it,rT:()=>qe,f7:()=>kt,L6:()=>ae,_Q:()=>be,lh:()=>Ve,Qv:()=>Pe,nw:()=>Yt});var a=N(6435),$=N(8929),V=N(1086),Se=N(2916),Ie=N(5254),ne=N(6787),me=N(341),Ee=N(2654),ce=N(2102),re=N(5279),oe=N(5283);class ue extends $.xQ{constructor(Ze=Number.POSITIVE_INFINITY,tt=Number.POSITIVE_INFINITY,Me){super(),this.scheduler=Me,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Ze<1?1:Ze,this._windowTime=tt<1?1:tt,tt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Ze){if(!this.isStopped){const tt=this._events;tt.push(Ze),tt.length>this._bufferSize&&tt.shift()}super.next(Ze)}nextTimeWindow(Ze){this.isStopped||(this._events.push(new Z(this._getNow(),Ze)),this._trimBufferThenGetEvents()),super.next(Ze)}_subscribe(Ze){const tt=this._infiniteTimeWindow,Me=tt?this._events:this._trimBufferThenGetEvents(),Ke=this.scheduler,ct=Me.length;let ft;if(this.closed)throw new re.N;if(this.isStopped||this.hasError?ft=Ee.w.EMPTY:(this.observers.push(Ze),ft=new oe.W(this,Ze)),Ke&&Ze.add(Ze=new ce.ht(Ze,Ke)),tt)for(let $t=0;$t<ct&&!Ze.closed;$t++)Ze.next(Me[$t]);else for(let $t=0;$t<ct&&!Ze.closed;$t++)Ze.next(Me[$t].value);return this.hasError?Ze.error(this.thrownError):this.isStopped&&Ze.complete(),ft}_getNow(){return(this.scheduler||me.c).now()}_trimBufferThenGetEvents(){const Ze=this._getNow(),tt=this._bufferSize,Me=this._windowTime,Ke=this._events,ct=Ke.length;let ft=0;for(;ft<ct&&!(Ze-Ke[ft].time<Me);)ft++;return ct>tt&&(ft=Math.max(ft,ct-tt)),ft>0&&Ke.splice(0,ft),Ke}}class Z{constructor(Ze,tt){this.time=Ze,this.value=tt}}function Fe(et,Ze,tt){let Me;return Me=et&&"object"==typeof et?et:{bufferSize:et,windowTime:Ze,refCount:!1,scheduler:tt},Ke=>Ke.lift(function ke({bufferSize:et=Number.POSITIVE_INFINITY,windowTime:Ze=Number.POSITIVE_INFINITY,refCount:tt,scheduler:Me}){let Ke,ft,ct=0,$t=!1,cn=!1;return function(sn){let vn;ct++,!Ke||$t?($t=!1,Ke=new ue(et,Ze,Me),vn=Ke.subscribe(this),ft=sn.subscribe({next(Gn){Ke.next(Gn)},error(Gn){$t=!0,Ke.error(Gn)},complete(){cn=!0,ft=void 0,Ke.complete()}}),cn&&(ft=void 0)):vn=Ke.subscribe(this),this.add(()=>{ct--,vn.unsubscribe(),vn=void 0,ft&&!cn&&tt&&0===ct&&(ft.unsubscribe(),ft=void 0,Ke=void 0)})}}(Me))}var ie=N(7545);function Ae(et,Ze){return Ze?(0,ie.w)(()=>et,Ze):(0,ie.w)(()=>et)}var fe=N(4850),Je=N(7224),J=N(8915),Qe=N(2198),we=N(6351),We=N(2011),lt=N(9808),Be=N(440),Ct=N(127);const Pe=new a.OlP("angularfire2.auth.use-emulator"),ae=new a.OlP("angularfire2.auth.settings"),be=new a.OlP("angularfire2.auth.tenant-id"),qe=new a.OlP("angularfire2.auth.langugage-code"),Ve=new a.OlP("angularfire2.auth.use-device-language"),kt=new a.OlP("angularfire.auth.persistence"),Yt=(et,Ze,tt,Me,Ke,ct,ft,$t)=>(0,We.cc)(`${et.name}.auth`,"AngularFireAuth",et.name,()=>{const cn=Ze.runOutsideAngular(()=>et.auth());if(tt&&cn.useEmulator(...tt),Me&&(cn.tenantId=Me),cn.languageCode=Ke,ct&&cn.useDeviceLanguage(),ft)for(const[rn,sn]of Object.entries(ft))cn.settings[rn]=sn;return $t&&cn.setPersistence($t),cn},[tt,Me,Ke,ct,ft,$t]);let at=(()=>{class et{constructor(tt,Me,Ke,ct,ft,$t,cn,rn,sn,vn,Gn,Un){const Kn=new $.xQ,er=(0,V.of)(void 0).pipe((0,ce.QV)(ft.outsideAngular),(0,ie.w)(()=>ct.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,fe.U)(()=>(0,We.on)(tt,ct,Me)),(0,fe.U)(In=>Yt(In,ct,$t,rn,sn,vn,cn,Gn)),Fe({bufferSize:1,refCount:!1}));if((0,lt.PM)(Ke))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,V.of)(null);else{er.pipe((0,Je.P)()).subscribe();const kn=er.pipe((0,ie.w)(Vn=>Vn.getRedirectResult().then(tn=>tn,()=>null)),we.iC,Fe({bufferSize:1,refCount:!1})),dr=er.pipe((0,ie.w)(Vn=>new Se.y(tn=>({unsubscribe:ct.runOutsideAngular(()=>Vn.onAuthStateChanged(En=>tn.next(En),En=>tn.error(En),()=>tn.complete()))})))),Rn=er.pipe((0,ie.w)(Vn=>new Se.y(tn=>({unsubscribe:ct.runOutsideAngular(()=>Vn.onIdTokenChanged(En=>tn.next(En),En=>tn.error(En),()=>tn.complete()))}))));this.authState=kn.pipe(Ae(dr),(0,J.R)(ft.outsideAngular),(0,ce.QV)(ft.insideAngular)),this.user=kn.pipe(Ae(Rn),(0,J.R)(ft.outsideAngular),(0,ce.QV)(ft.insideAngular)),this.idToken=this.user.pipe((0,ie.w)(Vn=>Vn?(0,Ie.D)(Vn.getIdToken()):(0,V.of)(null))),this.idTokenResult=this.user.pipe((0,ie.w)(Vn=>Vn?(0,Ie.D)(Vn.getIdTokenResult()):(0,V.of)(null))),this.credential=(0,ne.T)(kn,Kn,this.authState.pipe((0,Qe.h)(Vn=>!Vn))).pipe((0,fe.U)(Vn=>(null==Vn?void 0:Vn.user)?Vn:null),(0,J.R)(ft.outsideAngular),(0,ce.QV)(ft.insideAngular))}return(0,We.pX)(this,er,ct,{spy:{apply:(In,kn,dr)=>{(In.startsWith("signIn")||In.startsWith("createUser"))&&dr.then(Rn=>Kn.next(Rn))}}})}}return et.\u0275fac=function(tt){return new(tt||et)(a.LFG(We.Dh),a.LFG(We.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(we.HU),a.LFG(Pe,8),a.LFG(ae,8),a.LFG(be,8),a.LFG(qe,8),a.LFG(Ve,8),a.LFG(kt,8),a.LFG(Be.nm,8))},et.\u0275prov=a.Yz7({token:et,factory:et.\u0275fac,providedIn:"any"}),et})(),it=(()=>{class et{constructor(){Ct.Z.registerVersion("angularfire",we.q4.full,"auth-compat")}}return et.\u0275fac=function(tt){return new(tt||et)},et.\u0275mod=a.oAB({type:et}),et.\u0275inj=a.cJS({providers:[at]}),et})()},2796:(Xt,rt,N)=>{"use strict";N.d(rt,{ST:()=>md});var a=N(6435),$=N(353),V=N(2916),Se=N(5254),Ie=N(1086),ne=N(6351),me=N(3489);function Ee(){return i=>i.lift(new ce)}class ce{call(e,t){return t.subscribe(new re(e))}}class re extends me.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var le,oe=N(1059),ue=N(4850),Z=N(2014),Fe=N(5778),ke=N(2198),ie=N(2011),Ae=N(9808),Je=(N(5881),N(3942)),J=N(5861),Qe=N(9681),we=N(4859),We=N(1877),lt=N(2090),Be="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ct={},Pe=Pe||{},ae=Be||self;function be(){}function qe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ve(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Yt="closure_uid_"+(1e9*Math.random()>>>0),at=0;function it(i,e,t){return i.call.apply(i.bind,arguments)}function et(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Ze(i,e,t){return(Ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?it:et).apply(null,arguments)}function tt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Me(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,l,h){for(var v=Array(arguments.length-2),C=2;C<arguments.length;C++)v[C-2]=arguments[C];return e.prototype[l].apply(o,v)}}function Ke(){this.s=this.s,this.o=this.o}var ft={};Ke.prototype.s=!1,Ke.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function kt(i){return Object.prototype.hasOwnProperty.call(i,Yt)&&i[Yt]||(i[Yt]=++at)}(this);delete ft[i]}},Ke.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $t=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},cn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in l&&e.call(t,l[h],h,i)};function sn(i){return Array.prototype.concat.apply([],arguments)}function vn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Gn(i){return/^[\s\xa0]*$/.test(i)}var In,Un=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Kn(i,e){return-1!=i.indexOf(e)}function er(i,e){return i<e?-1:i>e?1:0}e:{var kn=ae.navigator;if(kn){var dr=kn.userAgent;if(dr){In=dr;break e}}In=""}function Rn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Vn(i){const e={};for(const t in i)e[t]=i[t];return e}var tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function En(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let h=0;h<tn.length;h++)t=tn[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function $r(i){return $r[" "](i),i}$r[" "]=be;var Ur,i,Dr=Kn(In,"Opera"),jn=Kn(In,"Trident")||Kn(In,"MSIE"),on=Kn(In,"Edge"),Kt=on||jn,Rr=Kn(In,"Gecko")&&!(Kn(In.toLowerCase(),"webkit")&&!Kn(In,"Edge"))&&!(Kn(In,"Trident")||Kn(In,"MSIE"))&&!Kn(In,"Edge"),qr=Kn(In.toLowerCase(),"webkit")&&!Kn(In,"Edge");function ir(){var i=ae.document;return i?i.documentMode:void 0}e:{var pr="",dn=(i=In,Rr?/rv:([^\);]+)(\)|;)/.exec(i):on?/Edge\/([\d\.]+)/.exec(i):jn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):qr?/WebKit\/(\S+)/.exec(i):Dr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(dn&&(pr=dn?dn[1]:""),jn){var ur=ir();if(null!=ur&&ur>parseFloat(pr)){Ur=String(ur);break e}}Ur=pr}var Pn={};var Lt=ae.document&&jn&&(ir()||parseInt(Ur,10))||void 0,yn=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ae.addEventListener("test",be,e),ae.removeEventListener("test",be,e)}catch(t){}return i}();function en(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Tn(i,e){if(en.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Rr){e:{try{$r(e.nodeName);var l=!0;break e}catch(h){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ne[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Tn.Z.h.call(this)}}en.prototype.h=function(){this.defaultPrevented=!0},Me(Tn,en);var Ne={2:"touch",3:"pen",4:"mouse"};Tn.prototype.h=function(){Tn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),$e=0;function dt(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=l,this.key=++$e,this.ca=this.fa=!1}function se(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function he(i){this.src=i,this.g={},this.h=0}function _e(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],l=$t(o,e);(h=0<=l)&&Array.prototype.splice.call(o,l,1),h&&(se(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function mt(i,e,t,o){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==o)return l}return-1}he.prototype.add=function(i,e,t,o,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var v=mt(i,e,o,l);return-1<v?(e=i[v],t||(e.fa=!1)):((e=new dt(e,this.src,h,!!o,l)).fa=t,i.push(e)),e};var Vt="closure_lm_"+(1e6*Math.random()|0),hn={};function Bn(i,e,t,o,l){if(o&&o.once)return gr(i,e,t,o,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)Bn(i,e[h],t,o,l);return null}return t=Qt(t),i&&i[ge]?i.N(e,t,Ve(o)?!!o.capture:!!o,l):pn(i,e,t,!1,o,l)}function pn(i,e,t,o,l,h){if(!e)throw Error("Invalid event type");var v=Ve(l)?!!l.capture:!!l,C=pt(i);if(C||(i[Vt]=C=new he(i)),(t=C.add(e,t,o,v,h)).proxy)return t;if(o=function zn(){var e=ye;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)yn||(l=v),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(De(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function gr(i,e,t,o,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)gr(i,e[h],t,o,l);return null}return t=Qt(t),i&&i[ge]?i.O(e,t,Ve(o)?!!o.capture:!!o,l):pn(i,e,t,!0,o,l)}function Wn(i,e,t,o,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)Wn(i,e[h],t,o,l);else o=Ve(o)?!!o.capture:!!o,t=Qt(t),i&&i[ge]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=mt(h=i.g[e],t,o,l))&&(se(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=pt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mt(e,t,o,l)),(t=-1<i?e[i]:null)&&Le(t))}function Le(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[ge])_e(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(De(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=pt(e))?(_e(t,i),0==t.h&&(t.src=null,e[Vt]=null)):se(i)}}}function De(i){return i in hn?hn[i]:hn[i]="on"+i}function ye(i,e){if(i.ca)i=!0;else{e=new Tn(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Le(i),i=t.call(o,e)}return i}function pt(i){return(i=i[Vt])instanceof he?i:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(i){return"function"==typeof i?i:(i[Dt]||(i[Dt]=function(e){return i.handleEvent(e)}),i[Dt])}function an(){Ke.call(this),this.i=new he(this),this.P=this,this.I=null}function qn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new en(e,i);else if(e instanceof en)e.target=e.target||i;else{var l=e;En(e=new en(o,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var v=e.g=t[h];l=Zn(v,o,!0,e)&&l}if(l=Zn(v=e.g=i,o,!0,e)&&l,l=Zn(v,o,!1,e)&&l,t)for(h=0;h<t.length;h++)l=Zn(v=e.g=t[h],o,!1,e)&&l}function Zn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var v=e[h];if(v&&!v.ca&&v.capture==t){var C=v.listener,j=v.ia||v.src;v.fa&&_e(i.i,v),l=!1!==C.call(j,o)&&l}}return l&&!o.defaultPrevented}Me(an,Ke),an.prototype[ge]=!0,an.prototype.removeEventListener=function(i,e,t,o){Wn(this,i,e,t,o)},an.prototype.M=function(){if(an.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)se(t[o]);delete i.g[e],i.h--}}this.I=null},an.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},an.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Cr=ae.JSON.stringify;function Er(){var i=hi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Tr,An=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new hr,i=>i.reset());class hr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sr(i){ae.setTimeout(()=>{throw i},0)}function Yr(i,e){Tr||function ei(){var i=ae.Promise.resolve(void 0);Tr=function(){i.then(jr)}}(),vr||(Tr(),vr=!0),hi.add(i,e)}var vr=!1,hi=new class Jt{constructor(){this.h=this.g=null}add(e,t){const o=An.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function jr(){for(var i;i=Er();){try{i.h.call(i.g)}catch(t){sr(t)}var e=An;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}vr=!1}function xn(i,e){an.call(this),this.h=i||1,this.g=e||ae,this.j=Ze(this.kb,this),this.l=Date.now()}function ti(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function si(i,e,t){if("function"==typeof i)t&&(i=Ze(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ze(i.handleEvent,i)}return 2147483647<Number(e)?-1:ae.setTimeout(i,e||0)}function Y(i){i.g=si(()=>{i.g=null,i.i&&(i.i=!1,Y(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Me(xn,an),(le=xn.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qn(this,"tick"),this.da&&(ti(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){xn.Z.M.call(this),ti(this),delete this.g};class de extends Ke{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y(this)}M(){super.M(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function K(i){Ke.call(this),this.h=i,this.g={}}Me(K,Ke);var Ce=[];function He(i,e,t,o){Array.isArray(t)||(t&&(Ce[0]=t.toString()),t=Ce);for(var l=0;l<t.length;l++){var h=Bn(e,t[l],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function Xe(i){Rn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Le(e)},i),i.g={}}function st(){this.g=!0}function Mt(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _n(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var v=1;v<l.length;v++)l[v]=""}}}return Cr(t)}catch(C){return e}}(i,t)+(o?" "+o:"")})}K.prototype.M=function(){K.Z.M.call(this),Xe(this)},K.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},st.prototype.Aa=function(){this.g=!1},st.prototype.info=function(){};var Mn={},nr=null;function Sr(){return nr=nr||new an}function Br(i){en.call(this,Mn.Ma,i)}function Ye(i){const e=Sr();qn(e,new Br(e,i))}function je(i,e){en.call(this,Mn.STAT_EVENT,i),this.stat=e}function ot(i){const e=Sr();qn(e,new je(e,i))}function Tt(i,e){en.call(this,Mn.Na,i),this.size=e}function Wt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){i()},e)}Mn.Ma="serverreachability",Me(Br,en),Mn.STAT_EVENT="statevent",Me(je,en),Mn.Na="timingevent",Me(Tt,en);var bn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kr(){}function oi(){}Kr.prototype.h=null;var fo,Ci={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zi(){en.call(this,"d")}function Xi(){en.call(this,"c")}function Qi(){}function fi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new K(this),this.P=es,this.W=new xn(i=Kt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}Me(Zi,en),Me(Xi,en),Me(Qi,Kr),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},fo=new Qi;var es=45e3,Os={},ms={};function Es(i,e,t){i.K=1,i.v=Nt(O(e)),i.s=t,i.U=!0,Ws(i,null)}function Ws(i,e){i.F=Date.now(),bi(i),i.A=O(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),T(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Rs,i.g=uo(i.l,t?e:null,!i.s),0<i.O&&(i.L=new de(Ze(i.Ia,i,i.g),i.O)),He(i.V,i.g,"readystatechange",i.gb),e=i.H?Vn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ye(1),function wt(i,e,t,o,l,h){i.info(function(){if(i.g)if(h)for(var v="",C=h.split("&"),j=0;j<C.length;j++){var q=C[j].split("=");if(1<q.length){var xe=q[0];q=q[1];var Ge=xe.split("_");v=2<=Ge.length&&"type"==Ge[1]?v+(xe+"=")+q+"&":v+(xe+"=redacted&")}}else v=null;else v=h;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ei(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function po(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=pi(i,t),l==ms){4==e&&(i.o=4,ot(14),o=!1),Mt(i.j,i.m,null,"[Incomplete Response]");break}if(l==Os){i.o=4,ot(15),Mt(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Mt(i.j,i.m,l,null),ts(i,l)}Ei(i)&&l!=ms&&l!=Os&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,ot(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Di(e),e.L=!0,ot(11))):(Mt(i.j,i.m,t,"[Invalid Chunked Response]"),Mi(i),ni(i))}function pi(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?ms:(t=Number(e.substring(t,o)),isNaN(t)?Os:(o+=1)+t>e.length?ms:(e=e.substr(o,t),i.C=o+t,e))}function bi(i){i.Y=Date.now()+i.P,go(i,i.P)}function go(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Wt(Ze(i.eb,i),e)}function Ii(i){i.B&&(ae.clearTimeout(i.B),i.B=null)}function ni(i){0==i.l.G||i.I||To(i.l,i)}function Mi(i){Ii(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ti(i.W),Xe(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ts(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Zt(t.i,i)))if(t.I=i.N,!i.J&&Zt(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(q){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=Wt(Ze(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;ao(t),la(t)}Ma(t),ot(18)}if(1>=yt(t.i)&&t.ka){try{t.ka()}catch(q){}t.ka=void 0}}else vs(t,11)}else if((i.J||t.g==i)&&ao(t),!Gn(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let q=l[e];if(t.U=q[0],q=q[1],2==t.G)if("c"==q[0]){t.J=q[1],t.la=q[2];const xe=q[3];null!=xe&&(t.ma=xe,t.h.info("VER="+t.ma));const Ge=q[4];null!=Ge&&(t.za=Ge,t.h.info("SVER="+t.za));const Et=q[5];null!=Et&&"number"==typeof Et&&0<Et&&(t.K=o=1.5*Et,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ft=i.g;if(Ft){const Gt=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gt){var h=o.i;!h.g&&(Kn(Gt,"spdy")||Kn(Gt,"quic")||Kn(Gt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ut(h,h.h),h.h=null))}if(o.D){const Nn=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Nn&&(o.sa=Nn,gt(o.F,o.D,Nn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var v=i;if((o=t).oa=Oa(o,o.H?o.la:null,o.W),v.J){mn(o.i,v);var C=v,j=o.K;j&&C.setTimeout(j),C.B&&(Ii(C),bi(C)),o.g=v}else xu(o);0<t.l.length&&ns(t)}else"stop"!=q[0]&&"close"!=q[0]||vs(t,7);else 3==t.G&&("stop"==q[0]||"close"==q[0]?"stop"==q[0]?vs(t,7):Ja(t):"noop"!=q[0]&&t.j&&t.j.wa(q),t.A=0)}Ye(4)}catch(q){}}function Zr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(qe(i)||"string"==typeof i)cn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(qe(i)||"string"==typeof i){t=[];for(var o=i.length,l=0;l<o;l++)t.push(l)}else for(l in t=[],o=0,i)t[o++]=l;o=function ys(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(qe(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length;for(var h=0;h<l;h++)e.call(void 0,o[h],t&&t[h],i)}}function ai(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ai)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function bs(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Ti(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)Ti(l,o=i.g[e])||(i.g[t++]=o,l[o]=1),e++;i.g.length=t}}function Ti(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(le=fi.prototype).setTimeout=function(i){this.P=i},le.gb=function(i){i=i.target;const e=this.L;e&&3==so(i)?e.l():this.Ia(i)},le.Ia=function(i){try{if(i==this.g)e:{const xe=so(this.g);var e=this.g.Da();const Ge=this.g.ba();if(!(3>xe)&&(3!=xe||Kt||this.g&&(this.h.h||this.g.ga()||oa(this.g)))){this.I||4!=xe||7==e||Ye(8==e||0>=Ge?3:2),Ii(this);var t=this.g.ba();this.N=t;t:if(Ei(this)){var o=oa(this.g);i="";var l=o.length,h=4==so(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Mi(this),ni(this);var v="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==t,function At(i,e,t,o,l,h,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+v})}(this.j,this.u,this.A,this.m,this.X,xe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var C,j=this.g;if((C=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gn(C)){var q=C;break t}}q=null}if(!(t=q)){this.i=!1,this.o=3,ot(12),Mi(this),ni(this);break e}Mt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ts(this,t)}this.U?(po(this,xe,v),Kt&&this.i&&3==xe&&(He(this.V,this.W,"tick",this.fb),this.W.start())):(Mt(this.j,this.m,v,null),ts(this,v)),4==xe&&Mi(this),this.i&&!this.I&&(4==xe?To(this.l,this):(this.i=!1,bi(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,ot(12)):(this.o=0,ot(13)),Mi(this),ni(this)}}}catch(xe){}},le.fb=function(){if(this.g){var i=so(this.g),e=this.g.ga();this.C<e.length&&(Ii(this),po(this,i,e),this.i&&4!=i&&bi(this))}},le.cancel=function(){this.I=!0,Mi(this)},le.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function nn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ye(3),ot(17)),Mi(this),this.o=2,ni(this)):go(this,this.Y-i)},(le=ai.prototype).R=function(){bs(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},le.T=function(){return bs(this),this.g.concat()},le.get=function(i,e){return Ti(this.h,i)?this.h[i]:e},le.set=function(i,e){Ti(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},le.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var l=t[o],h=this.get(l);i.call(e,h,l,this)}};var cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof wi){this.g=void 0!==e?e:i.g,W(this,i.j),this.s=i.s,F(this,i.i),ee(this,i.m),this.l=i.l,e=i.h;var t=new $i;t.i=e.i,e.g&&(t.g=new ai(e.g),t.h=e.h),Oe(this,t),this.o=i.o}else i&&(t=String(i).match(cs))?(this.g=!!e,W(this,t[1]||"",!0),this.s=tr(t[2]||""),F(this,t[3]||"",!0),ee(this,t[4]),this.l=tr(t[5]||"",!0),Oe(this,t[6]||"",!0),this.o=tr(t[7]||"")):(this.g=!!e,this.h=new $i(null,this.g))}function O(i){return new wi(i)}function W(i,e,t){i.j=t?tr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function F(i,e,t){i.i=t?tr(e,!0):e}function ee(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Oe(i,e,t){e instanceof $i?(i.h=e,function p(i,e){e&&!i.j&&(li(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(k(this,o),T(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Ir(e,Xr)),i.h=new $i(e,i.g))}function gt(i,e,t){i.h.set(e,t)}function Nt(i){return gt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function tr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ir(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Yn),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Yn(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}wi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ir(e,Qr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ir(e,Qr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ir(t,"/"==t.charAt(0)?zr:br,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ir(t,Bi)),i.join("")};var Qr=/[#\/\?@]/g,br=/[#\?:]/g,zr=/[#\?]/g,Xr=/[#\?@]/g,Bi=/#/g;function $i(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function li(i){i.g||(i.g=new ai,i.h=0,i.i&&function ds(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var h=i[t].substring(0,o);l=i[t].substring(o+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function k(i,e){li(i),e=H(i,e),Ti(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Ti((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&bs(i)))}function x(i,e){return li(i),e=H(i,e),Ti(i.g.h,e)}function T(i,e,t){k(i,e),0<t.length&&(i.i=null,i.g.set(H(i,e),vn(t)),i.h+=t.length)}function H(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function m(i){this.l=i||P,i=ae.PerformanceNavigationTiming?0<(i=ae.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ae.g&&ae.g.Ea&&ae.g.Ea()&&ae.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=$i.prototype).add=function(i,e){li(this),this.i=null,i=H(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},le.forEach=function(i,e){li(this),this.g.forEach(function(t,o){cn(t,function(l){i.call(e,l,o,this)},this)},this)},le.T=function(){li(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var l=i[o],h=0;h<l.length;h++)t.push(e[o]);return t},le.R=function(i){li(this);var e=[];if("string"==typeof i)x(this,i)&&(e=sn(e,this.g.get(H(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=sn(e,i[t])}return e},le.set=function(i,e){return li(this),this.i=null,x(this,i=H(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},le.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],l=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var v=l;""!==o[h]&&(v+="="+encodeURIComponent(String(o[h]))),i.push(v)}}return this.i=i.join("&")};var P=10;function te(i){return!!i.h||!!i.g&&i.g.size>=i.j}function yt(i){return i.h?1:i.g?i.g.size:0}function Zt(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ut(i,e){i.g?i.g.add(e):i.h=e}function mn(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Pr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return vn(i.i)}function or(){}function gi(){this.g=new or}function Ui(i,e,t){const o=t||"";try{Zr(i,function(l,h){let v=l;Ve(l)&&(v=Cr(l)),e.push(o+h+"="+encodeURIComponent(v))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function hs(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(h){}}function ci(i){this.l=i.$b||null,this.j=i.ib||!1}function Go(i,e){an.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=no,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}m.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},or.prototype.stringify=function(i){return ae.JSON.stringify(i,void 0)},or.prototype.parse=function(i){return ae.JSON.parse(i,void 0)},Me(ci,Kr),ci.prototype.g=function(){return new Go(this.l,this.j)},ci.prototype.i=function(i){return function(){return i}}({}),Me(Go,an);var no=0;function ro(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ps(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ri(i)}function Ri(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(le=Go.prototype).open=function(i,e){if(this.readyState!=no)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ri(this)},le.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ae).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ps(this)),this.readyState=no},le.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ae.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ro(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ps(this):Ri(this),3==this.readyState&&ro(this)}},le.Ua=function(i){this.g&&(this.response=this.responseText=i,Ps(this))},le.Ta=function(i){this.g&&(this.response=i,Ps(this))},le.ha=function(){this.g&&Ps(this)},le.setRequestHeader=function(i,e){this.v.append(i,e)},le.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Go.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Is=ae.JSON.parse;function mi(i){an.call(this),this.headers=new ai,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$s,this.K=this.L=!1}Me(mi,an);var $s="",io=/^https?$/i,ra=["POST","PUT"];function Ju(i){return"content-type"==i.toLowerCase()}function zo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Co(i),qs(i)}function Co(i){i.D||(i.D=!0,qn(i,"complete"),qn(i,"error"))}function ia(i){if(i.h&&void 0!==Pe&&(!i.C[1]||4!=so(i)||2!=i.ba()))if(i.v&&4==so(i))si(i.Fa,0,i);else if(qn(i,"readystatechange"),4==so(i)){i.h=!1;try{const C=i.ba();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===C){var l=String(i.H).match(cs)[1]||null;if(!l&&ae.self&&ae.self.location){var h=ae.self.location.protocol;l=h.substr(0,h.length-1)}o=!io.test(l?l.toLowerCase():"")}t=o}if(t)qn(i,"complete"),qn(i,"success");else{i.m=6;try{var v=2<so(i)?i.g.statusText:""}catch(j){v=""}i.j=v+" ["+i.ba()+"]",Co(i)}}finally{qs(i)}}}function qs(i,e){if(i.g){sa(i);const t=i.g,o=i.C[0]?be:null;i.g=null,i.C=null,e||qn(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function sa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ae.clearTimeout(i.A),i.A=null)}function so(i){return i.g?i.g.readyState:0}function oa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case $s:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ua(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function aa(i){let e="";return Rn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):gt(i,e,t))}function oo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Qa(i){this.za=0,this.l=[],this.h=new st,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oo("baseRetryDelayMs",5e3,i),this.$a=oo("retryDelaySeedMs",1e4,i),this.Ya=oo("forwardChannelMaxRetries",2,i),this.ra=oo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new m(i&&i.concurrentRequestLimit),this.Ca=new gi,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ja(i){if(eu(i),3==i.G){var e=i.V++,t=O(i.F);gt(t,"SID",i.J),gt(t,"RID",e),gt(t,"TYPE","terminate"),ws(i,t),(e=new fi(i,i.h,e,void 0)).K=2,e.v=Nt(O(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon&&(t=ae.navigator.sendBeacon(e.v.toString(),"")),!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=uo(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bi(e)}ha(i)}function la(i){i.g&&(Di(i),i.g.cancel(),i.g=null)}function eu(i){la(i),i.u&&(ae.clearTimeout(i.u),i.u=null),ao(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ae.clearTimeout(i.m),i.m=null)}function el(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&ns(i)}function ns(i){te(i.i)||i.m||(i.m=!0,Yr(i.Ha,i),i.C=0)}function ii(i,e){var t;t=e?e.m:i.V++;const o=O(i.F);gt(o,"SID",i.J),gt(o,"RID",t),gt(o,"AID",i.U),ws(i,o),i.o&&i.s&&ua(o,i.o,i.s),t=new fi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=ca(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ut(i.i,t),Es(t,o,e)}function ws(i,e){i.j&&Zr({},function(t,o){gt(e,o,t)})}function ca(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Ze(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const v=["count="+t];-1==h?0<t?(h=l[0].h,v.push("ofs="+h)):h=0:v.push("ofs="+h);let C=!0;for(let j=0;j<t;j++){let q=l[j].h;const xe=l[j].g;if(q-=h,0>q)h=Math.max(0,l[j].h-100),C=!1;else try{Ui(xe,v,"req"+q+"_")}catch(Ge){o&&o(xe)}}if(C){o=v.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function xu(i){i.g||i.u||(i.Y=1,Yr(i.Ga,i),i.A=0)}function Ma(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Wt(Ze(i.Ga,i),da(i,i.A)),i.A++,0))}function Di(i){null!=i.B&&(ae.clearTimeout(i.B),i.B=null)}function Ra(i){i.g=new fi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=O(i.oa);gt(e,"RID","rpc"),gt(e,"SID",i.J),gt(e,"CI",i.N?"0":"1"),gt(e,"AID",i.U),ws(i,e),gt(e,"TYPE","xmlhttp"),i.o&&i.s&&ua(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Nt(O(e)),t.s=null,t.U=!0,Ws(t,i)}function ao(i){null!=i.v&&(ae.clearTimeout(i.v),i.v=null)}function To(i,e){var t=null;if(i.g==e){ao(i),Di(i),i.g=null;var o=2}else{if(!Zt(i.i,e))return;t=e.D,mn(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;qn(o=Sr(),new Tt(o,t,e,l)),ns(i)}else xu(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function Us(i,e){return!(yt(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Wt(Ze(i.Ha,i,e),da(i,i.C)),i.C++,0)))}(i,e)||2==o&&Ma(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:vs(i,5);break;case 4:vs(i,10);break;case 3:vs(i,6);break;default:vs(i,2)}}function da(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function vs(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Ze(i.jb,i);t||(t=new wi("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||W(t,"https"),Nt(t)),function ri(i,e){const t=new st;if(ae.Image){const o=new Image;o.onload=tt(hs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=tt(hs,t,o,"TestLoadImage: error",!1,e),o.onabort=tt(hs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=tt(hs,t,o,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else ot(2);i.G=0,i.j&&i.j.va(e),ha(i),eu(i)}function ha(i){i.G=0,i.I=-1,i.j&&((0!=Pr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,vn(i.l),i.l.length=0),i.j.ua())}function Oa(i,e,t){let o=function jt(i){return i instanceof wi?O(i):new wi(i,void 0)}(t);if(""!=o.i)e&&F(o,e+"."+o.i),ee(o,o.m);else{const l=ae.location;o=function Or(i,e,t,o){var l=new wi(null,void 0);return i&&W(l,i),e&&F(l,e),t&&ee(l,t),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&Rn(i.aa,function(l,h){gt(o,h,l)}),t=i.sa,(e=i.D)&&t&&gt(o,e,t),gt(o,"VER",i.ma),ws(i,o),o}function uo(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mi(t&&i.Ba&&!i.qa?new ci({ib:!0}):i.qa)).L=i.H,e}function Oi(){}function tu(){if(jn&&!(10<=Number(Lt)))throw Error("Environmental error: no available transport.")}function fs(i,e){an.call(this),this.g=new Qa(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Gn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new js(this)}function Si(i){Zi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function mo(){Xi.call(this),this.status=1}function js(i){this.g=i}(le=mi.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fo.g(),this.C=function _r(i){return i.h||(i.h=i.i())}(this.u?this.u:fo),this.g.onreadystatechange=Ze(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void zo(this,h)}i=t||"";const l=new ai(this.headers);o&&Zr(o,function(h,v){l.set(v,h)}),o=function rn(i){e:{var e=Ju;const t=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=ae.FormData&&i instanceof ae.FormData,!(0<=$t(ra,e))||o||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,v){this.g.setRequestHeader(v,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sa(this),0<this.B&&((this.K=function Au(i){return jn&&function Jn(){return function Ot(i){var e=Pn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Un(String(Ur)).split("."),t=Un("9").split("."),o=Math.max(e.length,t.length);for(let v=0;0==i&&v<o;v++){var l=e[v]||"",h=t[v]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=er(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||er(0==l[2].length,0==h[2].length)||er(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ze(this.pa,this)):this.A=si(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){zo(this,h)}},le.pa=function(){void 0!==Pe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))},le.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,qn(this,"complete"),qn(this,"abort"),qs(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qs(this,!0)),mi.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?ia(this):this.cb())},le.cb=function(){ia(this)},le.ba=function(){try{return 2<so(this)?this.g.status:-1}catch(i){return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},le.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Is(e)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=Qa.prototype).ma=8,le.G=1,le.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},le.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new fi(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Vn(h),En(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ca(this,l,e),gt(t=O(this.F),"RID",i),gt(t,"CVER",22),this.D&&gt(t,"X-HTTP-Session-Id",this.D),ws(this,t),this.o&&h&&ua(t,this.o,h),ut(this.i,l),this.Ra&&gt(t,"TYPE","init"),this.ja?(gt(t,"$req",e),gt(t,"SID","null"),l.$=!0,Es(l,t,null)):Es(l,t,e),this.G=2}}else 3==this.G&&(i?ii(this,i):0==this.l.length||te(this.i)||ii(this))},le.Ga=function(){if(this.u=null,Ra(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Wt(Ze(this.bb,this),i)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ot(10),la(this),Ra(this))},le.ab=function(){null!=this.v&&(this.v=null,la(this),Ma(this),ot(19))},le.jb=function(i){i?(this.h.info("Successfully pinged google.com"),ot(2)):(this.h.info("Failed to ping google.com"),ot(1))},(le=Oi.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},tu.prototype.g=function(i,e){return new fs(i,e)},Me(fs,an),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Yr(Ze(i.hb,i,e))),ot(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Oa(i,null,i.W),ns(i)},fs.prototype.close=function(){Ja(this.g)},fs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,el(this.g,e)}else this.v?((e={}).__data__=Cr(i),el(this.g,e)):el(this.g,i)},fs.prototype.M=function(){this.g.j=null,delete this.j,Ja(this.g),delete this.g,fs.Z.M.call(this)},Me(Si,Zi),Me(mo,Xi),Me(js,Oi),js.prototype.xa=function(){qn(this.g,"a")},js.prototype.wa=function(i){qn(this.g,new Si(i))},js.prototype.va=function(i){qn(this.g,new mo(i))},js.prototype.ua=function(){qn(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,bn.NO_ERROR=0,bn.TIMEOUT=8,bn.HTTP_ERROR=6,xr.COMPLETE="complete",oi.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",an.prototype.listen=an.prototype.N,mi.prototype.listenOnce=mi.prototype.O,mi.prototype.getLastError=mi.prototype.La,mi.prototype.getLastErrorCode=mi.prototype.Da,mi.prototype.getStatus=mi.prototype.ba,mi.prototype.getResponseJson=mi.prototype.Qa,mi.prototype.getResponseText=mi.prototype.ga,mi.prototype.send=mi.prototype.ea;var tl=Ct.createWebChannelTransport=function(){return new tu},fa=Ct.getStatEventTarget=function(){return Sr()},nu=Ct.ErrorCode=bn,di=Ct.EventType=xr,pa=Ct.Event=Mn,So=Ct.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yo=Ct.FetchXmlHttpFactory=ci,Ao=Ct.WebChannel=oi,Ys=Ct.XhrIo=mi;const vo="@firebase/firestore";class ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid"),ji.MOCK_USER=new ji("mock-user");let Hs="9.6.10";const Ds=new We.Yd("@firebase/firestore");function lo(){return Ds.logLevel}function qt(i,...e){if(Ds.logLevel<=We.in.DEBUG){const t=e.map(ga);Ds.debug(`Firestore (${Hs}): ${i}`,...t)}}function yi(i,...e){if(Ds.logLevel<=We.in.ERROR){const t=e.map(ga);Ds.error(`Firestore (${Hs}): ${i}`,...t)}}function ps(i,...e){if(Ds.logLevel<=We.in.WARN){const t=e.map(ga);Ds.warn(`Firestore (${Hs}): ${i}`,...t)}}function ga(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Dn(i="Unexpected state"){const e=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+i;throw yi(e),new Error(e)}function Hn(i,e){i||Dn()}function fn(i,e){return i}const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends lt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class D{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ji.UNAUTHENTICATED))}shutdown(){}}class _{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class R{constructor(e){this.t=e,this.currentUser=ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const h=q=>this.i!==l?(l=this.i,t(q)):Promise.resolve();let v=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new rs,e.enqueueRetryable(()=>h(this.currentUser))};const C=()=>{const q=v;e.enqueueRetryable((0,J.Z)(function*(){yield q.promise,yield h(o.currentUser)}))},j=q=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=q,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(q=>j(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?j(q):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new rs)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Hn("string"==typeof o.accessToken),new D(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Hn(null===e||"string"==typeof e),new ji(e)}}class B{constructor(e,t,o){this.type="FirstParty",this.user=ji.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class X{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new B(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Te{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ue{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=h=>{null!=h.error&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const v=h.token!==this.p;return this.p=h.token,qt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?l(h):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Hn("string"==typeof t.token),this.p=t.token,new Te(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ln{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function fr(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}ln.A=-1;class On{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=fr(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<t&&(o+=e.charAt(l[h]%e.length))}return o}}function Sn(i,e){return i<e?-1:i>e?1:0}function Ar(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function Hi(i){return i+"\0"}class Mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mr.fromMillis(Date.now())}static fromDate(e){return Mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Mr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sn(this.nanoseconds,e.nanoseconds):Sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $n(e)}static min(){return new $n(new Mr(0,0))}static max(){return new $n(new Mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ru(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ns(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function qo(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class iu{constructor(e,t,o){void 0===t?t=0:t>e.length&&Dn(),void 0===o?o=e.length-t:o>e.length-t&&Dn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===iu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const h=e.get(l),v=t.get(l);if(h<v)return-1;if(h>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nr extends iu{construct(e,t,o){return new Nr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Bt(bt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Nr(t)}static emptyPath(){return new Nr([])}}const Ai=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends iu{construct(e,t,o){return new is(e,t,o)}static isValidIdentifier(e){return Ai.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new is(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const h=()=>{if(0===o.length)throw new Bt(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let v=!1;for(;l<e.length;){const C=e[l];if("\\"===C){if(l+1===e.length)throw new Bt(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[l+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new Bt(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,l+=2}else"`"===C?(v=!v,l++):"."!==C||v?(o+=C,l++):(h(),l++)}if(h(),v)throw new Bt(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new is(t)}static emptyPath(){return new is([])}}class ma{constructor(e){this.fields=e,e.sort(is.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ar(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Gi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const Ed=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(i){if(Hn(!!i),"string"==typeof i){let e=0;const t=Ed.exec(i);if(Hn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Cs(i){return"string"==typeof i?Gi.fromBase64String(i):Gi.fromUint8Array(i)}function ya(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vi(i){const e=i.mapValue.fields.__previous_value__;return ya(e)?vi(e):e}function Mo(i){const e=xo(i.mapValue.fields.__local_write_time__.timestampValue);return new Mr(e.seconds,e.nanos)}class Ro{constructor(e,t,o,l,h,v,C,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=v,this.autoDetectLongPolling=C,this.useFetchStreams=j}}class _o{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _o("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}function Ts(i){return null==i}function gs(i){return 0===i&&1/i==-1/0}function Eo(i){return"number"==typeof i&&Number.isInteger(i)&&!gs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(Nr.fromString(e))}static fromName(e){return new gn(Nr.fromString(e).popFirst(5))}static empty(){return new gn(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new Nr(e.slice()))}}const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yo={nullValue:"NULL_VALUE"};function ks(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ya(i)?4:L(i)?9:10:Dn()}function co(i,e){if(i===e)return!0;const t=ks(i);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Mo(i).isEqual(Mo(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=xo(o.timestampValue),v=xo(l.timestampValue);return h.seconds===v.seconds&&h.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Cs(i.bytesValue).isEqual(Cs(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Pi(o.geoPointValue.latitude)===Pi(l.geoPointValue.latitude)&&Pi(o.geoPointValue.longitude)===Pi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Pi(o.integerValue)===Pi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Pi(o.doubleValue),v=Pi(l.doubleValue);return h===v?gs(h)===gs(v):isNaN(h)&&isNaN(v)}return!1}(i,e);case 9:return Ar(i.arrayValue.values||[],e.arrayValue.values||[],co);case 10:return function(o,l){const h=o.mapValue.fields||{},v=l.mapValue.fields||{};if(ru(h)!==ru(v))return!1;for(const C in h)if(h.hasOwnProperty(C)&&(void 0===v[C]||!co(h[C],v[C])))return!1;return!0}(i,e);default:return Dn()}var l}function ou(i,e){return void 0!==(i.values||[]).find(t=>co(t,e))}function Oo(i,e){if(i===e)return 0;const t=ks(i),o=ks(e);if(t!==o)return Sn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Sn(i.booleanValue,e.booleanValue);case 2:return function(l,h){const v=Pi(l.integerValue||l.doubleValue),C=Pi(h.integerValue||h.doubleValue);return v<C?-1:v>C?1:v===C?0:isNaN(v)?isNaN(C)?0:-1:1}(i,e);case 3:return va(i.timestampValue,e.timestampValue);case 4:return va(Mo(i),Mo(e));case 5:return Sn(i.stringValue,e.stringValue);case 6:return function(l,h){const v=Cs(l),C=Cs(h);return v.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const v=l.split("/"),C=h.split("/");for(let j=0;j<v.length&&j<C.length;j++){const q=Sn(v[j],C[j]);if(0!==q)return q}return Sn(v.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const v=Sn(Pi(l.latitude),Pi(h.latitude));return 0!==v?v:Sn(Pi(l.longitude),Pi(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const v=l.values||[],C=h.values||[];for(let j=0;j<v.length&&j<C.length;++j){const q=Oo(v[j],C[j]);if(q)return q}return Sn(v.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){const v=l.fields||{},C=Object.keys(v),j=h.fields||{},q=Object.keys(j);C.sort(),q.sort();for(let xe=0;xe<C.length&&xe<q.length;++xe){const Ge=Sn(C[xe],q[xe]);if(0!==Ge)return Ge;const Et=Oo(v[C[xe]],j[q[xe]]);if(0!==Et)return Et}return Sn(C.length,q.length)}(i.mapValue,e.mapValue);default:throw Dn()}}function va(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Sn(i,e);const t=xo(i),o=xo(e),l=Sn(t.seconds,o.seconds);return 0!==l?l:Sn(t.nanos,o.nanos)}function Po(i){return Ni(i)}function Ni(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=xo(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Cs(i.bytesValue).toBase64():"referenceValue"in i?gn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",h=!0;for(const v of o.values||[])h?h=!1:l+=",",l+=Ni(v);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let h="{",v=!0;for(const C of l)v?v=!1:h+=",",h+=`${C}:${Ni(o.fields[C])}`;return h+"}"}(i.mapValue):Dn();var e}function No(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ko(i){return!!i&&"integerValue"in i}function au(i){return!!i&&"arrayValue"in i}function Na(i){return!!i&&"nullValue"in i}function Ul(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nl(i){return!!i&&"mapValue"in i}function A(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ns(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=A(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=A(i.arrayValue.values[t]);return e}return Object.assign({},i)}function L(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Q(i,e){return void 0===i?e:void 0===e||Oo(i,e)>0?i:e}function Re(i,e){return void 0===i?e:void 0===e||Oo(i,e)<0?i:e}class nt{constructor(e){this.value=e}static empty(){return new nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!nl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=A(t)}setAll(e){let t=is.emptyPath(),o={},l=[];e.forEach((v,C)=>{if(!t.isImmediateParentOf(C)){const j=this.getFieldsMap(t);this.applyChanges(j,o,l),o={},l=[],t=C.popLast()}v?o[C.lastSegment()]=A(v):l.push(C.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,l)}delete(e){const t=this.field(e.popLast());nl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];nl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){Ns(t,(l,h)=>e[l]=h);for(const l of o)delete e[l]}clone(){return new nt(A(this.value))}}function _t(i){const e=[];return Ns(i.fields,(t,o)=>{const l=new is([t]);if(nl(o)){const h=_t(o.mapValue).fields;if(0===h.length)e.push(l);else for(const v of h)e.push(l.child(v))}else e.push(l)}),new ma(e)}class Pt{constructor(e,t,o,l,h,v){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.data=h,this.documentState=v}static newInvalidDocument(e){return new Pt(e,0,$n.min(),$n.min(),nt.empty(),0)}static newFoundDocument(e,t,o){return new Pt(e,1,t,$n.min(),o,0)}static newNoDocument(e,t){return new Pt(e,2,t,$n.min(),nt.empty(),0)}static newUnknownDocument(e,t){return new Pt(e,3,t,$n.min(),nt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cn{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function rr(i){return i.fields.find(e=>2===e.kind)}function Xn(i){return i.fields.filter(e=>2!==e.kind)}Cn.UNKNOWN_ID=-1;class kr{constructor(e,t){this.fieldPath=e,this.kind=t}}class lr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new lr(0,Fs.min())}}function Gs(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=$n.fromTimestamp(1e9===o?new Mr(t+1,0):new Mr(t,o));return new Fs(l,gn.empty(),e)}function ss(i){return new Fs(i.readTime,i.key,-1)}class Fs{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Fs($n.min(),gn.empty(),-1)}static max(){return new Fs($n.max(),gn.empty(),-1)}}function _a(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(i.documentKey,e.documentKey),0!==t?t:Sn(i.largestBatchId,e.largestBatchId))}class Ko{constructor(e,t=null,o=[],l=[],h=null,v=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=h,this.startAt=v,this.endAt=C,this.P=null}}function bo(i,e=null,t=[],o=[],l=null,h=null,v=null){return new Ko(i,e,t,o,l,h,v)}function Hr(i){const e=fn(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+Po(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),Ts(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Po(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Po(o)).join(",")),e.P=t}return e.P}function uu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Ic(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(o=e.filters[l]).op||!t.field.isEqual(o.field)||!co(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sl(i.startAt,e.startAt)&&sl(i.endAt,e.endAt)}function Ru(i){return gn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ea(i,e){return i.filters.filter(t=>t instanceof _s&&t.field.isEqual(e))}class _s extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new bd(e,t,o):"array-contains"===t?new Id(e,o):"in"===t?new il(e,o):"not-in"===t?new Oh(e,o):"array-contains-any"===t?new jl(e,o):new _s(e,t,o)}static V(e,t,o){return"in"===t?new Rh(e,o):new rl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Oo(t,this.value)):null!==t&&ks(this.value)===ks(t)&&this.v(Oo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bd extends _s{constructor(e,t,o){super(e,t,o),this.key=gn.fromName(o.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.v(t)}}class Rh extends _s{constructor(e,t){super(e,"in",t),this.keys=ka(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rl extends _s{constructor(e,t){super(e,"not-in",t),this.keys=ka(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ka(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>gn.fromName(o.referenceValue))}class Id extends _s{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return au(t)&&ou(t.arrayValue,this.value)}}class il extends _s{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ou(this.value.arrayValue,t)}}class Oh extends _s{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ou(this.value.arrayValue,t)}}class jl extends _s{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!au(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>ou(this.value.arrayValue,o))}}class Zo{constructor(e,t){this.position=e,this.inclusive=t}}class ba{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ic(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function wd(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const h=e[l],v=i.position[l];if(o=h.field.isKeyField()?gn.comparator(gn.fromName(v.referenceValue),t.key):Oo(v,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function sl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!co(i.position[t],e.position[t]))return!1;return!0}class Ks{constructor(e,t=null,o=[],l=[],h=null,v="F",C=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=v,this.startAt=C,this.endAt=j,this.D=null,this.C=null}}function Ou(i,e,t,o,l,h,v,C){return new Ks(i,e,t,o,l,h,v,C)}function Pu(i){return new Ks(i)}function wc(i){return!Ts(i.limit)&&"F"===i.limitType}function ol(i){return!Ts(i.limit)&&"L"===i.limitType}function Dc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Dd(i){for(const e of i.filters)if(e.S())return e.field;return null}function Cc(i){return null!==i.collectionGroup}function Fa(i){const e=fn(i);if(null===e.D){e.D=[];const t=Dd(e),o=Dc(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new ba(t)),e.D.push(new ba(is.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ba(is.keyField(),h))}}}return e.D}function Io(i){const e=fn(i);if(!e.C)if("F"===e.limitType)e.C=bo(e.path,e.collectionGroup,Fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of Fa(e))t.push(new ba(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new Zo(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new Zo(e.startAt.position,!e.startAt.inclusive):null;e.C=bo(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.C}function al(i,e,t){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function lu(i,e){return uu(Io(i),Io(e))&&i.limitType===e.limitType}function cu(i){return`${Hr(Io(i))}|lt:${i.limitType}`}function Tc(i){return`Query(target=${function Mu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Po(o.value)}`;var o}).join(", ")}]`),Ts(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Po(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Po(t)).join(",")),`Target(${e})`}(Io(i))}; limitType=${i.limitType})`}function Hl(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):gn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,h,v){const C=wd(l,h,v);return l.inclusive?C<=0:C<0}(t.startAt,Fa(t),o)||t.endAt&&!function(l,h,v){const C=wd(l,h,v);return l.inclusive?C>=0:C>0}(t.endAt,Fa(t),o)));var t,o}function Ph(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ul(i){return(e,t)=>{let o=!1;for(const l of Fa(i)){const h=Sc(l,e,t);if(0!==h)return h;o=o||l.field.isKeyField()}return 0}}function Sc(i,e,t){const o=i.field.isKeyField()?gn.comparator(e.key,t.key):function(l,h,v){const C=h.data.field(l),j=v.data.field(l);return null!==C&&null!==j?Oo(C,j):Dn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Dn()}}function Ac(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gs(e)?"-0":e}}function ll(i){return{integerValue:""+i}}function xc(i,e){return Eo(e)?ll(e):Ac(i,e)}class du{constructor(){this._=void 0}}function Nh(i,e,t){return i instanceof La?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof hu?Xo(i,e):i instanceof wo?Sd(i,e):function(o,l){const h=Td(o,l),v=kh(h)+kh(o.k);return ko(h)&&ko(o.k)?ll(v):Ac(o.M,v)}(i,e)}function Cd(i,e,t){return i instanceof hu?Xo(i,e):i instanceof wo?Sd(i,e):t}function Td(i,e){return i instanceof cl?ko(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class La extends du{}class hu extends du{constructor(e){super(),this.elements=e}}function Xo(i,e){const t=Gp(e);for(const o of i.elements)t.some(l=>co(l,o))||t.push(o);return{arrayValue:{values:t}}}class wo extends du{constructor(e){super(),this.elements=e}}function Sd(i,e){let t=Gp(e);for(const o of i.elements)t=t.filter(l=>!co(l,o));return{arrayValue:{values:t}}}class cl extends du{constructor(e,t){super(),this.M=e,this.k=t}}function kh(i){return Pi(i.integerValue||i.doubleValue)}function Gp(i){return au(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class b{constructor(e,t){this.field=e,this.transform=t}}class g{constructor(e,t){this.version=e,this.transformResults=t}}class w{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new w}static exists(e){return new w(void 0,e)}static updateTime(e){return new w(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function G(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class pe{}function vt(i,e,t){i instanceof Fr?function(o,l,h){const v=o.value.clone(),C=Nu(o.fieldTransforms,l,h.transformResults);v.setAll(C),l.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(i,e,t):i instanceof os?function(o,l,h){if(!G(o.precondition,l))return void l.convertToUnknownDocument(h.version);const v=Nu(o.fieldTransforms,l,h.transformResults),C=l.data;C.setAll(Qo(o)),C.setAll(v),l.convertToFoundDocument(h.version,C).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ht(i,e,t){var l;i instanceof Fr?function(o,l,h){if(!G(o.precondition,l))return;const v=o.value.clone(),C=Gl(o.fieldTransforms,h,l);v.setAll(C),l.convertToFoundDocument(wr(l),v).setHasLocalMutations()}(i,e,t):i instanceof os?function(o,l,h){if(!G(o.precondition,l))return;const v=Gl(o.fieldTransforms,h,l),C=l.data;C.setAll(Qo(o)),C.setAll(v),l.convertToFoundDocument(wr(l),C).setHasLocalMutations()}(i,e,t):G(i.precondition,l=e)&&l.convertToNoDocument($n.min())}function Fn(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),h=Td(o.transform,l||null);null!=h&&(null==t&&(t=nt.empty()),t.set(o.field,h))}return t||null}function Qn(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Ar(t,o,(l,h)=>function f(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof hu&&o instanceof hu||t instanceof wo&&o instanceof wo?Ar(t.elements,o.elements,co):t instanceof cl&&o instanceof cl?co(t.k,o.k):t instanceof La&&o instanceof La);var t,o}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function wr(i){return i.isFoundDocument()?i.version:$n.min()}class Fr extends pe{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}}class os extends pe{constructor(e,t,o,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=h,this.type=1}}function Qo(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Nu(i,e,t){const o=new Map;Hn(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],v=h.transform,C=e.data.field(h.field);o.set(h.field,Cd(v,C,t[l]))}return o}function Gl(i,e,t){const o=new Map;for(const l of i){const h=l.transform,v=t.data.field(l.field);o.set(l.field,Nh(h,v,e))}return o}class ku extends pe{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Mc extends pe{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Fh{constructor(e){this.count=e}}var xi,Lr;function dl(i){switch(i){default:return Dn();case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0}}function Rc(i){if(void 0===i)return yi("GRPC error has no .code"),bt.UNKNOWN;switch(i){case xi.OK:return bt.OK;case xi.CANCELLED:return bt.CANCELLED;case xi.UNKNOWN:return bt.UNKNOWN;case xi.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case xi.INTERNAL:return bt.INTERNAL;case xi.UNAVAILABLE:return bt.UNAVAILABLE;case xi.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case xi.NOT_FOUND:return bt.NOT_FOUND;case xi.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case xi.ABORTED:return bt.ABORTED;case xi.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case xi.DATA_LOSS:return bt.DATA_LOSS;default:return Dn()}}(Lr=xi||(xi={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,h]of o)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,o)=>{for(const[l,h]of o)e(l,h)})}isEmpty(){return qo(this.inner)}size(){return this.innerSize}}class zi{constructor(e,t){this.comparator=e,this.root=t||Ss.EMPTY}insert(e,t){return new zi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}}class Fu{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,t,o,l,h){this.key=e,this.value=t,this.color=null!=o?o:Ss.RED,this.left=null!=l?l:Ss.EMPTY,this.right=null!=h?h:Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,h){return new Ss(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Ss.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Ss(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ki{constructor(e){this.comparator=e,this.data=new zi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zp(this.data.getIterator())}getIteratorFrom(e){return new zp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ki(this.comparator);return t.data=e,t}}class zp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hl(i){return i.hasNext()?i.getNext():void 0}const Ad=new zi(gn.comparator);function Jo(){return Ad}const Lh=new zi(gn.comparator);function Vh(){return Lh}function Wi(){return new Va(i=>i.toString(),(i,e)=>i.isEqual(e))}const _y=new zi(gn.comparator),Ey=new ki(gn.comparator);function Jr(...i){let e=Ey;for(const t of i)e=e.add(t);return e}const Wp=new ki(Sn);function xd(){return Wp}class Oc{constructor(e,t,o,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,t)),new Oc($n.min(),o,xd(),Jo(),Jr())}}class Pc{constructor(e,t,o,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Pc(Gi.EMPTY_BYTE_STRING,t,Jr(),Jr(),Jr())}}class Md{constructor(e,t,o,l){this.O=e,this.removedTargetIds=t,this.key=o,this.F=l}}class qp{constructor(e,t){this.targetId=e,this.$=t}}class by{constructor(e,t,o=Gi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Iy{constructor(){this.B=0,this.L=Rd(),this.U=Gi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Jr(),t=Jr(),o=Jr();return this.L.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:Dn()}}),new Pc(this.U,this.q,e,t,o)}J(){this.G=!1,this.L=Rd()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Nc{constructor(e){this.nt=e,this.st=new Map,this.it=Jo(),this.rt=Zs(),this.ot=new ki(Sn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.K||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.K||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:Dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,o=e.$.count,l=this.wt(t);if(l){const h=l.target;if(Ru(h))if(0===o){const v=new gn(h.path);this.ct(t,v,Pt.newNoDocument(v,$n.min()))}else Hn(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((h,v)=>{const C=this.wt(v);if(C){if(h.current&&Ru(C.target)){const j=new gn(C.target.path);null!==this.it.get(j)||this.It(v,j)||this.ct(v,j,Pt.newNoDocument(j,e))}h.j&&(t.set(v,h.H()),h.J())}});let o=Jr();this.rt.forEach((h,v)=>{let C=!0;v.forEachWhile(j=>{const q=this.wt(j);return!q||2===q.purpose||(C=!1,!1)}),C&&(o=o.add(h))}),this.it.forEach((h,v)=>v.setReadTime(e));const l=new Oc(e,t,this.ot,this.it,o);return this.it=Jo(),this.rt=Zs(),this.ot=new ki(Sn),l}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Iy,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ki(Sn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||qt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Iy),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Zs(){return new zi(gn.comparator)}function Rd(){return new zi(gn.comparator)}const Yp={asc:"ASCENDING",desc:"DESCENDING"},Kp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Xs{constructor(e,t){this.databaseId=e,this.N=t}}function fu(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Od(i,e){return i.N?e.toBase64():e.toUint8Array()}function wy(i,e){return fu(i,e.toTimestamp())}function Ls(i){return Hn(!!i),$n.fromTimestamp(function(e){const t=xo(e);return new Mr(t.seconds,t.nanos)}(i))}function Pd(i,e){return(t=i,new Nr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Zp(i){const e=Nr.fromString(i);return Hn(rg(e)),e}function zl(i,e){return Pd(i.databaseId,e.path)}function Ba(i,e){const t=Zp(e);if(t.get(1)!==i.databaseId.projectId)throw new Bt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Bt(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gn(kd(t))}function Nd(i,e){return Pd(i.databaseId,e)}function Xp(i){const e=Zp(i);return 4===e.length?Nr.emptyPath():kd(e)}function kc(i){return new Nr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kd(i){return Hn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Qp(i,e,t){return{name:zl(i,e),fields:t.value.mapValue.fields}}function Jp(i,e,t){const o=Ba(i,e.name),l=Ls(e.updateTime),h=new nt({mapValue:{fields:e.fields}}),v=Pt.newFoundDocument(o,l,h);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function Fc(i,e){let t;if(e instanceof Fr)t={update:Qp(i,e.key,e.value)};else if(e instanceof ku)t={delete:zl(i,e.key)};else if(e instanceof os)t={update:Qp(i,e.key,e.data),updateMask:Ry(e.fieldMask)};else{if(!(e instanceof Mc))return Dn();t={verify:zl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const v=h.transform;if(v instanceof La)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof hu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof wo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof cl)return{fieldPath:h.field.canonicalString(),increment:v.k};throw Dn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:wy(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Dn()),t;var l}function Wl(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?w.updateTime(Ls(l.updateTime)):void 0!==l.exists?w.exists(l.exists):w.none():w.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(h,v){let C=null;"setToServerValue"in v?(Hn("REQUEST_TIME"===v.setToServerValue),C=new La):"appendMissingElements"in v?C=new hu(v.appendMissingElements.values||[]):"removeAllFromArray"in v?C=new wo(v.removeAllFromArray.values||[]):"increment"in v?C=new cl(h,v.increment):Dn();const j=is.fromServerFormat(v.fieldPath);return new b(j,C)}(i,l)):[];var l;if(e.update){const l=Ba(i,e.update.name),h=new nt({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new ma((e.updateMask.fieldPaths||[]).map(q=>is.fromServerFormat(q)));return new os(l,h,v,t,o)}return new Fr(l,h,t,o)}if(e.delete){const l=Ba(i,e.delete);return new ku(l,t)}if(e.verify){const l=Ba(i,e.verify);return new Mc(l,t)}return Dn()}function eg(i,e){return{documents:[Nd(i,e.path)]}}function tg(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Nd(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nd(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(j){if(0===j.length)return;const q=j.map(xe=>function(Ge){if("=="===Ge.op){if(Ul(Ge.value))return{unaryFilter:{field:ql(Ge.field),op:"IS_NAN"}};if(Na(Ge.value))return{unaryFilter:{field:ql(Ge.field),op:"IS_NULL"}}}else if("!="===Ge.op){if(Ul(Ge.value))return{unaryFilter:{field:ql(Ge.field),op:"IS_NOT_NAN"}};if(Na(Ge.value))return{unaryFilter:{field:ql(Ge.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(Ge.field),op:Ay(Ge.op),value:Ge.value}}}(xe));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(e.filters);l&&(t.structuredQuery.where=l);const h=function(j){if(0!==j.length)return j.map(q=>{return{field:ql((xe=q).field),direction:Sy(xe.dir)};var xe})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const v=(q=e.limit,i.N||Ts(q)?q:{value:q});var q,C,j;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function ng(i){let e=Xp(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){Hn(1===o);const xe=t.from[0];xe.allDescendants?l=xe.collectionId:e=e.child(xe.collectionId)}let h=[];t.where&&(h=$h(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(xe=>{return new ba(Yl((Ge=xe).field),function(Et){switch(Et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ge.direction));var Ge}));let C=null;t.limit&&(C=function(xe){let Ge;return Ge="object"==typeof xe?xe.value:xe,Ts(Ge)?null:Ge}(t.limit));let j=null;var xe;t.startAt&&(j=new Zo((xe=t.startAt).values||[],!!xe.before));let q=null;return t.endAt&&(q=function(xe){return new Zo(xe.values||[],!xe.before)}(t.endAt)),Ou(e,l,v,h,C,"F",j,q)}function $h(i){return i?void 0!==i.unaryFilter?[My(i)]:void 0!==i.fieldFilter?[xy(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>$h(e)).reduce((e,t)=>e.concat(t)):Dn():[]}function Sy(i){return Yp[i]}function Ay(i){return Kp[i]}function ql(i){return{fieldPath:i.canonicalString()}}function Yl(i){return is.fromServerFormat(i.fieldPath)}function xy(i){return _s.create(Yl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(i.fieldFilter.op),i.fieldFilter.value)}function My(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Yl(i.unaryFilter.field);return _s.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Yl(i.unaryFilter.field);return _s.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yl(i.unaryFilter.field);return _s.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Yl(i.unaryFilter.field);return _s.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}function Ry(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rg(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ji(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Oy(e)),e=$a(i.get(t),e);return Oy(e)}function $a(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const h=i.charAt(l);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function Oy(i){return i+"\x01\x01"}function Ua(i){const e=i.length;if(Hn(e>=2),2===e)return Hn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Nr.emptyPath();const t=e-2,o=[];let l="";for(let h=0;h<e;){const v=i.indexOf("\x01",h);switch((v<0||v>t)&&Dn(),i.charAt(v+1)){case"\x01":const C=i.substring(h,v);let j;0===l.length?j=C:(l+=C,j=l,l=""),o.push(j);break;case"\x10":l+=i.substring(h,v),l+="\0";break;case"\x11":l+=i.substring(h,v+1);break;default:Dn()}h=v+2}return new Nr(o)}const Uh=["userId","batchId"];function jh(i,e){return[i,Ji(e)]}function Ia(i,e,t){return[i,Ji(e),t]}const Hh={},Gh=["prefixPath","collectionGroup","readTime","documentId"],Py=["prefixPath","collectionGroup","documentId"],ig=["collectionGroup","readTime","prefixPath","documentId"],Lc=["canonicalId","targetId"],sg=["targetId","path"],og=["path","targetId"],zh=["collectionId","parent"],Wh=["indexId","uid"],ag=["uid","sequenceNumber"],B_=["indexId","uid","arrayValue","directionalValue","documentKey"],Kl=["indexId","uid","documentKey"],qh=["userId","collectionPath","documentId"],ug=["userId","collectionPath","largestBatchId"],Ny=["userId","collectionGroup","largestBatchId"],Fd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ky=[...Fd,"documentOverlays"],lg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fy=[...lg,"indexConfiguration","indexState","indexEntries"],cg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class St{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new St((o,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof St?t:St.resolve(t)}catch(t){return St.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):St.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):St.reject(t)}static resolve(e){return new St((t,o)=>{t(e)})}static reject(e){return new St((t,o)=>{o(e)})}static waitFor(e){return new St((t,o)=>{let l=0,h=0,v=!1;e.forEach(C=>{++l,C.next(()=>{++h,v&&h===l&&t()},j=>o(j))}),v=!0,h===l&&t()})}static or(e){let t=St.resolve(!1);for(const o of e)t=t.next(l=>l?St.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,h)=>{o.push(t.call(this,l,h))}),this.waitFor(o)}}class Vc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new rs,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new fl(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=pu(o.target.error);this.At.reject(new fl(e,l))}}static open(e,t,o,l){try{return new Vc(t,e.transaction(l,o))}catch(h){throw new fl(t,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ly(t)}}class Fo{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===Fo.Vt((0,lt.z$)())&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qt("SimpleDb","Removing database:",e),Lu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,lt.hl)())return!1;if(Fo.St())return!0;const e=(0,lt.z$)(),t=Fo.Vt(e),o=0<t&&t<10,l=Fo.Dt(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,J.Z)(function*(){return t.db||(qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=v=>{o(v.target.result)},h.onblocked=()=>{l(new fl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=v=>{const C=v.target.error;l("VersionError"===C.name?new Bt(bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Bt(bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new fl(e,C))},h.onupgradeneeded=v=>{qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.Pt.kt(v.target.result,h.transaction,v.oldVersion,t.version).next(()=>{qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var h=this;return(0,J.Z)(function*(){const v="readonly"===t;let C=0;for(;;){++C;try{h.db=yield h.Nt(e);const j=Vc.open(h.db,e,v?"readonly":"readwrite",o),q=l(j).next(xe=>(j.bt(),xe)).catch(xe=>(j.abort(xe),St.reject(xe))).toPromise();return q.catch(()=>{}),yield j.Rt,q}catch(j){const q="FirebaseError"!==j.name&&C<3;if(qt("SimpleDb","Transaction failed with error:",j.message,"Retrying:",q),h.close(),!q)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hg{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Lu(this.Ft.delete())}}class fl extends Bt{constructor(e,t){super(bt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pl(i){return"IndexedDbTransactionError"===i.name}class Ly{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(qt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Lu(o)}add(e){return qt("SimpleDb","ADD",this.store.name,e,e),Lu(this.store.add(e))}get(e){return Lu(this.store.get(e)).next(t=>(void 0===t&&(t=null),qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return qt("SimpleDb","DELETE",this.store.name,e),Lu(this.store.delete(e))}count(){return qt("SimpleDb","COUNT",this.store.name),Lu(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),h=[];return this.Gt(l,(v,C)=>{h.push(C)}).next(()=>h)}{const l=this.store.getAll(o.range);return new St((h,v)=>{l.onerror=C=>{v(C.target.error)},l.onsuccess=C=>{h(C.target.result)}})}}Kt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new St((l,h)=>{o.onerror=v=>{h(v.target.error)},o.onsuccess=v=>{l(v.target.result)}})}Qt(e,t){qt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const l=this.cursor(o);return this.Gt(l,(h,v,C)=>C.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.Gt(l,t)}zt(e){const t=this.cursor({});return new St((o,l)=>{t.onerror=h=>{const v=pu(h.target.error);l(v)},t.onsuccess=h=>{const v=h.target.result;v?e(v.primaryKey,v.value).next(C=>{C?v.continue():o()}):o()}})}Gt(e,t){const o=[];return new St((l,h)=>{e.onerror=v=>{h(v.target.error)},e.onsuccess=v=>{const C=v.target.result;if(!C)return void l();const j=new hg(C),q=t(C.primaryKey,C.value,j);if(q instanceof St){const xe=q.catch(Ge=>(j.done(),St.reject(Ge)));o.push(xe)}j.isDone?l():null===j.Lt?C.continue():C.continue(j.Lt)}}).next(()=>St.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Lu(i){return new St((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=pu(o.target.error);t(l)}})}let Yh=!1;function pu(i){const e=Fo.Vt((0,lt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yh||(Yh=!0,setTimeout(()=>{throw o},0)),o}}return i}class Kh extends dg{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function As(i,e){const t=fn(i);return Fo.xt(t.Ht,e)}class Zh{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&vt(h,e,o[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ht(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ht(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument($n.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jr())}isEqual(e){return this.batchId===e.batchId&&Ar(this.mutations,e.mutations,(t,o)=>Qn(t,o))&&Ar(this.baseMutations,e.baseMutations,(t,o)=>Qn(t,o))}}class Zl{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){Hn(e.mutations.length===o.length);let l=_y;const h=e.mutations;for(let v=0;v<h.length;v++)l=l.insert(h[v].key,o[v].version);return new Zl(e,t,o,l)}}class Xh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gu{constructor(e,t,o,l,h=$n.min(),v=$n.min(),C=Gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=C}withSequenceNumber(e){return new gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Qh{constructor(e){this.Jt=e}}function Ld(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:zl(l=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:fu(l,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ja(e.version)};else{if(!e.isUnknownDocument())return Dn();o.unknownDocument={path:t.path.toArray(),version:ja(e.version)}}var l,h;return o}function Bc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ja(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ha(i){const e=new Mr(i.seconds,i.nanoseconds);return $n.fromTimestamp(e)}function gl(i,e){const t=(e.baseMutations||[]).map(h=>Wl(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const v=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(v.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>Wl(i.Jt,h)),l=Mr.fromMillis(e.localWriteTimeMs);return new Zh(e.batchId,l,t,o)}function ml(i){const e=Ha(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ha(i.lastLimboFreeSnapshotVersion):$n.min();let o;var l;return void 0!==i.query.documents?(Hn(1===(l=i.query).documents.length),o=Io(Pu(Xp(l.documents[0])))):o=Io(ng(i.query)),new gu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Gi.fromBase64String(i.resumeToken))}function Jh(i,e){const t=ja(e.snapshotVersion),o=ja(e.lastLimboFreeSnapshotVersion);let l;l=Ru(e.target)?eg(i.Jt,e.target):tg(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hr(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function $c(i){const e=ng({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?al(e,e.limit,"L"):e}function yl(i,e){return new Xh(e.largestBatchId,Wl(i.Jt,e.overlayMutation))}function pg(i,e){const t=e.path.lastSegment();return[i,Ji(e.path.popLast()),t]}class gg{getBundleMetadata(e,t){return mg(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Ha(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return mg(e).put({bundleId:(o=t).id,createTime:ja(Ls(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return yg(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:$c(l.bundledQuery),readTime:Ha(l.readTime)};var l})}saveNamedQuery(e,t){return yg(e).put({name:(o=t).name,readTime:ja(Ls(o.readTime)),bundledQuery:o.bundledQuery});var o}}function mg(i){return As(i,"bundles")}function yg(i){return As(i,"namedQueries")}class Vd{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Vd(e,t.uid||"")}getOverlay(e,t){return vl(e).get(pg(this.userId,t)).next(o=>o?yl(this.M,o):null)}saveOverlays(e,t,o){const l=[];return o.forEach((h,v)=>{const C=new Xh(t,v);l.push(this.Xt(e,C))}),St.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(v=>l.add(Ji(v.getCollectionPath())));const h=[];return l.forEach(v=>{const C=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);h.push(vl(e).Qt("collectionPathOverlayIndex",C))}),St.waitFor(h)}getOverlaysForCollection(e,t,o){const l=Wi(),h=Ji(t),v=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return vl(e).qt("collectionPathOverlayIndex",v).next(C=>{for(const j of C){const q=yl(this.M,j);l.set(q.getKey(),q)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const h=Wi();let v;const C=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vl(e).Wt({index:"collectionGroupOverlayIndex",range:C},(j,q,xe)=>{const Ge=yl(this.M,q);h.size()<l||Ge.largestBatchId===v?(h.set(Ge.getKey(),Ge),v=Ge.largestBatchId):xe.done()}).next(()=>h)}Xt(e,t){return vl(e).put(function(o,l,h){const[v,C,j]=pg(l,h.mutation.key);return{userId:l,collectionPath:C,documentId:j,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Fc(o.Jt,h.mutation)}}(this.M,this.userId,t))}}function vl(i){return As(i,"documentOverlays")}class _l{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Pi(e.integerValue));else if("doubleValue"in e){const o=Pi(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),gs(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Cs(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?L(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Dn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const l of Object.keys(o))this.re(l,t),this.te(o[l],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const l of o)this.te(l,t)}ae(e,t){this.ne(t,37),gn.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function $_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function ef(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const h=$_(255&t[l]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}_l.fe=new _l;class Vy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=t.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=t.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const t=this.Ee(e),o=ef(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Re(e){const t=this.Ee(e),o=ef(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,l,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class vg{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class By{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Bd{constructor(){this.De=new Vy,this.Ce=new vg(this.De),this.xe=new By(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Vs{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Vs(this.indexId,this.documentKey,this.arrayValue,o)}}function El(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=tf(i.arrayValue,e.arrayValue),0!==t?t:(t=tf(i.directionalValue,e.directionalValue),0!==t?t:gn.comparator(i.documentKey,e.documentKey)))}function tf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class $y{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=rr(e);if(void 0!==t&&!this.Be(t))return!1;const o=Xn(e);let l=0,h=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const v=o[l];if(!this.Le(this.Fe,v)||!this.Ue(this.Me[h++],v))return!1;++l}for(;l<o.length;++l){const v=o[l];if(h>=this.Me.length||!this.Ue(this.Me[h++],v))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Uy{constructor(){this.qe=new nf}addToCollectionParentIndex(e,t){return this.qe.add(t),St.resolve()}getCollectionParents(e,t){return St.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return St.resolve()}deleteFieldIndex(e,t){return St.resolve()}getDocumentsMatchingTarget(e,t){return St.resolve(null)}getFieldIndex(e,t){return St.resolve(null)}getFieldIndexes(e,t){return St.resolve([])}getNextCollectionGroupToUpdate(e){return St.resolve(null)}updateCollectionGroup(e,t,o){return St.resolve()}updateIndexEntries(e,t){return St.resolve()}}class nf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new ki(Nr.comparator),h=!l.has(o);return this.index[t]=l.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new ki(Nr.comparator)).toArray()}}const $d=new Uint8Array(0);class _g{constructor(e){this.user=e,this.Ge=new nf,this.Ke=new Va(t=>Hr(t),(t,o)=>uu(t,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const h={collectionId:o,parent:Ji(l)};return Eg(e).put(h)}return St.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[Hi(t),""],!1,!0);return Eg(e).qt(l).next(h=>{for(const v of h){if(v.collectionId!==t)break;o.push(Ua(v.parent))}return o})}addFieldIndex(e,t){const o=Ud(e),l={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])};var h;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,t){const o=Ud(e),l=mr(e),h=Uc(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Uc(e);let l=!0;const h=new Map;return St.forEach(this.Qe(t),v=>this.getFieldIndex(e,v).next(C=>{l&&(l=!!C),h.set(v,C)})).next(()=>{if(l){let v=Jr();return St.forEach(h,(C,j)=>{var q;qt("IndexedDbIndexManager",`Using index ${q=C,`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map(Vr=>`${Vr.fieldPath}:${Vr.kind}`).join(",")}`} to execute ${Hr(t)}`);const xe=function(Vr,Bs){const Yi=rr(Bs);if(void 0===Yi)return null;for(const Vi of Ea(Vr,Yi.fieldPath))switch(Vi.op){case"array-contains-any":return Vi.value.arrayValue.values||[];case"array-contains":return[Vi.value]}return null}(j,C),Ge=function(Vr,Bs){const Yi=new Map;for(const Vi of Xn(Bs))for(const ui of Ea(Vr,Vi.fieldPath))switch(ui.op){case"==":case"in":Yi.set(Vi.fieldPath.canonicalString(),ui.value);break;case"not-in":case"!=":return Yi.set(Vi.fieldPath.canonicalString(),ui.value),Array.from(Yi.values())}return null}(j,C),Et=function(Vr,Bs){const Yi=[];let Vi=!0;for(const Aa of Xn(Bs)){let to,$l=!0;for(const Ms of Ea(Vr,Aa.fieldPath)){let Ki,Xa=!0;switch(Ms.op){case"<":case"<=":Ki="nullValue"in(ui=Ms.value)?Yo:"booleanValue"in ui?{booleanValue:!1}:"integerValue"in ui||"doubleValue"in ui?{doubleValue:NaN}:"timestampValue"in ui?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in ui?{stringValue:""}:"bytesValue"in ui?{bytesValue:""}:"referenceValue"in ui?No(_o.empty(),gn.empty()):"geoPointValue"in ui?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in ui?{arrayValue:{}}:"mapValue"in ui?{mapValue:{}}:Dn();break;case"==":case"in":case">=":Ki=Ms.value;break;case">":Ki=Ms.value,Xa=!1;break;case"!=":case"not-in":Ki=Yo}Q(to,Ki)===Ki&&(to=Ki,$l=Xa)}if(null!==Vr.startAt)for(let Ms=0;Ms<Vr.orderBy.length;++Ms)if(Vr.orderBy[Ms].field.isEqual(Aa.fieldPath)){const Ki=Vr.startAt.position[Ms];Q(to,Ki)===Ki&&(to=Ki,$l=Vr.startAt.inclusive);break}if(void 0===to)return null;Yi.push(to),Vi&&(Vi=$l)}var ui;return new Zo(Yi,Vi)}(j,C),Ft=function(Vr,Bs){const Yi=[];let Vi=!0;for(const Aa of Xn(Bs)){let to,$l=!0;for(const Ms of Ea(Vr,Aa.fieldPath)){let Ki,Xa=!0;switch(Ms.op){case">=":case">":Ki="nullValue"in(ui=Ms.value)?{booleanValue:!1}:"booleanValue"in ui?{doubleValue:NaN}:"integerValue"in ui||"doubleValue"in ui?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in ui?{stringValue:""}:"stringValue"in ui?{bytesValue:""}:"bytesValue"in ui?No(_o.empty(),gn.empty()):"referenceValue"in ui?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in ui?{arrayValue:{}}:"arrayValue"in ui?{mapValue:{}}:"mapValue"in ui?su:Dn(),Xa=!1;break;case"==":case"in":case"<=":Ki=Ms.value;break;case"<":Ki=Ms.value,Xa=!1;break;case"!=":case"not-in":Ki=su}Re(to,Ki)===Ki&&(to=Ki,$l=Xa)}if(null!==Vr.endAt)for(let Ms=0;Ms<Vr.orderBy.length;++Ms)if(Vr.orderBy[Ms].field.isEqual(Aa.fieldPath)){const Ki=Vr.endAt.position[Ms];Re(to,Ki)===Ki&&(to=Ki,$l=Vr.endAt.inclusive);break}if(void 0===to)return null;Yi.push(to),Vi&&(Vi=$l)}var ui;return new Zo(Yi,Vi)}(j,C),Gt=this.je(C,j,Et),Nn=this.je(C,j,Ft),yr=this.We(C,j,Ge),qi=this.ze(C.indexId,xe,Gt,!!Et&&Et.inclusive,Nn,!!Ft&&Ft.inclusive,yr);return St.forEach(qi,Vr=>o.Kt(Vr,t.limit).next(Bs=>{Bs.forEach(Yi=>{v=v.add(new gn(Ua(Yi.documentKey)))})}))}).next(()=>v)}return St.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,o,l,h,v,C){const j=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=h?h.length:1),q=j/(null!=t?t.length:1),xe=[];for(let Ge=0;Ge<j;++Ge){const Et=t?this.He(t[Ge/q]):$d,Ft=o?this.Je(e,Et,o[Ge%q],l):this.Ye(e),Gt=h?this.Xe(e,Et,h[Ge%q],v):this.Ye(e+1);xe.push(...this.createRange(Ft,Gt,C.map(Nn=>this.Je(e,Et,Nn,!0))))}return xe}Je(e,t,o,l){const h=new Vs(e,gn.empty(),t,o);return l?h:h.ke()}Xe(e,t,o,l){const h=new Vs(e,gn.empty(),t,o);return l?h.ke():h}Ye(e){return new Vs(e,gn.empty(),$d,$d)}getFieldIndex(e,t){const o=new $y(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(h=>{const v=h.filter(C=>o.$e(C));return v.sort((C,j)=>j.fields.length-C.fields.length),v.length>0?v[0]:null})}Ze(e,t){const o=new Bd;for(const l of Xn(e)){const h=t.data.field(l.fieldPath);if(null==h)return null;const v=o.Ne(l.kind);_l.fe.Zt(h,v)}return o.Se()}He(e){const t=new Bd;return _l.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,o){if(null===o)return[];let l=[];l.push(new Bd);let h=0;for(const v of Xn(e)){const C=o[h++];for(const j of l)if(this.tn(t,v.fieldPath)&&au(C))l=this.en(l,v,C);else{const q=j.Ne(v.kind);_l.fe.Zt(C,q)}}return this.nn(l)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}nn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}en(e,t,o){const l=[...e],h=[];for(const v of o.arrayValue.values||[])for(const C of l){const j=new Bd;j.seed(C.Se()),_l.fe.Zt(v,j.Ne(t.kind)),h.push(j)}return h}tn(e,t){return!!e.filters.find(o=>o instanceof _s&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Ud(e),l=mr(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(h=>{const v=[];return St.forEach(h,C=>l.get([C.indexId,this.uid]).next(j=>{v.push(function(q,xe){const Ge=xe?new lr(xe.sequenceNumber,new Fs(Ha(xe.readTime),new gn(Ua(xe.documentKey)),xe.largestBatchId)):lr.empty(),Et=q.fields.map(([Ft,Gt])=>new kr(is.fromServerFormat(Ft),Gt));return new Cn(q.indexId,q.collectionGroup,Et,Ge)}(C,j))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const h=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==h?h:Sn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=Ud(e),h=mr(e);return this.sn(e).next(v=>l.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>St.forEach(C,j=>{return h.put({indexId:j.indexId,uid:this.user.uid||"",sequenceNumber:v,readTime:ja((Et=o).readTime),documentKey:Ji(Et.documentKey.path),largestBatchId:Et.largestBatchId});var Et})))}updateIndexEntries(e,t){const o=new Map;return St.forEach(t,(l,h)=>{const v=o.get(l.collectionGroup);return(v?St.resolve(v):this.getFieldIndexes(e,l.collectionGroup)).next(C=>(o.set(l.collectionGroup,C),St.forEach(C,j=>this.rn(e,l,j).next(q=>{const xe=this.on(h,j);return q.isEqual(xe)?St.resolve():this.un(e,h,q,xe)}))))})}an(e,t,o){return Uc(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,documentKey:Ji(t.key.path)})}cn(e,t,o){return Uc(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,Ji(t.key.path)])}rn(e,t,o){const l=Uc(e);let h=new ki(El);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,Ji(t.path)])},(v,C)=>{h=h.add(new Vs(o.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>h)}on(e,t){let o=new ki(El);const l=this.Ze(t,e);if(null==l)return o;const h=rr(t);if(null!=h){const v=e.data.field(h.fieldPath);if(au(v))for(const C of v.arrayValue.values||[])o=o.add(new Vs(t.indexId,e.key,this.He(C),l))}else o=o.add(new Vs(t.indexId,e.key,$d,l));return o}un(e,t,o,l){qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(v,C,j,q,xe){const Ge=v.getIterator(),Et=C.getIterator();let Ft=hl(Ge),Gt=hl(Et);for(;Ft||Gt;){let Nn=!1,yr=!1;if(Ft&&Gt){const qi=j(Ft,Gt);qi<0?yr=!0:qi>0&&(Nn=!0)}else null!=Ft?yr=!0:Nn=!0;Nn?(q(Gt),Gt=hl(Et)):yr?(xe(Ft),Ft=hl(Ge)):(Ft=hl(Ge),Gt=hl(Et))}}(o,l,El,v=>{h.push(this.an(e,t,v))},v=>{h.push(this.cn(e,t,v))}),St.waitFor(h)}sn(e){let t=1;return mr(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,h)=>{h.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((v,C)=>El(v,C)).filter((v,C,j)=>!C||0!==El(v,j[C-1]));const l=[];l.push(e);for(const v of o){const C=El(v,e),j=El(v,t);if(0===C)l[0]=e.ke();else if(C>0&&j<0)l.push(v),l.push(v.ke());else if(j>0)break}l.push(t);const h=[];for(let v=0;v<l.length;v+=2)h.push(IDBKeyRange.bound([l[v].indexId,this.uid,l[v].arrayValue,l[v].directionalValue,""],[l[v+1].indexId,this.uid,l[v+1].arrayValue,l[v+1].directionalValue,""]));return h}}function Eg(i){return As(i,"collectionParents")}function Uc(i){return As(i,"indexEntries")}function Ud(i){return As(i,"indexConfiguration")}function mr(i){return As(i,"indexState")}const rf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ho{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sf(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),h=[],v=IDBKeyRange.only(t.batchId);let C=0;const j=o.Wt({range:v},(xe,Ge,Et)=>(C++,Et.delete()));h.push(j.next(()=>{Hn(1===C)}));const q=[];for(const xe of t.mutations){const Ge=Ia(e,xe.key.path,t.batchId);h.push(l.delete(Ge)),q.push(xe.key)}return St.waitFor(h).next(()=>q)}function bl(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Dn();e=i.noDocument}return JSON.stringify(e).length}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class Lo{constructor(e,t,o,l){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=l,this.hn={}}static Yt(e,t,o,l){Hn(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new Lo(h,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).Wt({index:"userMutationsIndex",range:o},(l,h,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const h=Bu(e),v=Vu(e);return v.add({}).next(C=>{Hn("number"==typeof C);const j=new Zh(C,t,o,l),q=function(Et,Ft,Gt){const Nn=Gt.baseMutations.map(qi=>Fc(Et.Jt,qi)),yr=Gt.mutations.map(qi=>Fc(Et.Jt,qi));return{userId:Ft,batchId:Gt.batchId,localWriteTimeMs:Gt.localWriteTime.toMillis(),baseMutations:Nn,mutations:yr}}(this.M,this.userId,j),xe=[];let Ge=new ki((Et,Ft)=>Sn(Et.canonicalString(),Ft.canonicalString()));for(const Et of l){const Ft=Ia(this.userId,Et.key.path,C);Ge=Ge.add(Et.key.path.popLast()),xe.push(v.put(q)),xe.push(h.put(Ft,Hh))}return Ge.forEach(Et=>{xe.push(this.indexManager.addToCollectionParentIndex(e,Et))}),e.addOnCommittedListener(()=>{this.hn[C]=j.keys()}),St.waitFor(xe).next(()=>j)})}lookupMutationBatch(e,t){return Vu(e).get(t).next(o=>o?(Hn(o.userId===this.userId),gl(this.M,o)):null)}ln(e,t){return this.hn[t]?St.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.hn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return Vu(e).Wt({index:"userMutationsIndex",range:l},(v,C,j)=>{C.userId===this.userId&&(Hn(C.batchId>=o),h=gl(this.M,C)),j.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Vu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(l,h,v)=>{o=h.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vu(e).qt("userMutationsIndex",t).next(o=>o.map(l=>gl(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=jh(this.userId,t.path),l=IDBKeyRange.lowerBound(o),h=[];return Bu(e).Wt({range:l},(v,C,j)=>{const[q,xe,Ge]=v,Et=Ua(xe);if(q===this.userId&&t.path.isEqual(Et))return Vu(e).get(Ge).next(Ft=>{if(!Ft)throw Dn();Hn(Ft.userId===this.userId),h.push(gl(this.M,Ft))});j.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ki(Sn);const l=[];return t.forEach(h=>{const v=jh(this.userId,h.path),C=IDBKeyRange.lowerBound(v),j=Bu(e).Wt({range:C},(q,xe,Ge)=>{const[Et,Ft,Gt]=q,Nn=Ua(Ft);Et===this.userId&&h.path.isEqual(Nn)?o=o.add(Gt):Ge.done()});l.push(j)}),St.waitFor(l).next(()=>this.fn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,h=jh(this.userId,o),v=IDBKeyRange.lowerBound(h);let C=new ki(Sn);return Bu(e).Wt({range:v},(j,q,xe)=>{const[Ge,Et,Ft]=j,Gt=Ua(Et);Ge===this.userId&&o.isPrefixOf(Gt)?Gt.length===l&&(C=C.add(Ft)):xe.done()}).next(()=>this.fn(e,C))}fn(e,t){const o=[],l=[];return t.forEach(h=>{l.push(Vu(e).get(h).next(v=>{if(null===v)throw Dn();Hn(v.userId===this.userId),o.push(gl(this.M,v))}))}),St.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return sf(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),St.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return St.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Bu(e).Wt({range:o},(h,v,C)=>{if(h[0]===this.userId){const j=Ua(h[1]);l.push(j)}else C.done()}).next(()=>{Hn(0===l.length)})})}containsKey(e,t){return of(e,this.userId,t)}_n(e){return Ga(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function of(i,e,t){const o=jh(e,t.path),l=o[1],h=IDBKeyRange.lowerBound(o);let v=!1;return Bu(i).Wt({range:h,jt:!0},(C,j,q)=>{const[xe,Ge,Et]=C;xe===e&&Ge===l&&(v=!0),q.done()}).next(()=>v)}function Vu(i){return As(i,"mutations")}function Bu(i){return As(i,"documentMutations")}function Ga(i){return As(i,"mutationQueues")}class mu{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new mu(0)}static gn(){return new mu(-1)}}class bg{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const o=new mu(t.highestTargetId);return t.highestTargetId=o.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>$n.fromTimestamp(new Mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.yn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.pn(e,l)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(o=>(o.targetCount+=1,this.Tn(t,o),this.pn(e,o))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$u(e).delete(t.targetId)).next(()=>this.yn(e)).next(o=>(Hn(o.targetCount>0),o.targetCount-=1,this.pn(e,o)))}removeTargets(e,t,o){let l=0;const h=[];return $u(e).Wt((v,C)=>{const j=ml(C);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(l++,h.push(this.removeTargetData(e,j)))}).next(()=>St.waitFor(h)).next(()=>l)}forEachTarget(e,t){return $u(e).Wt((o,l)=>{const h=ml(l);t(h)})}yn(e){return jy(e).get("targetGlobalKey").next(t=>(Hn(null!==t),t))}pn(e,t){return jy(e).put("targetGlobalKey",t)}In(e,t){return $u(e).put(Jh(this.M,t))}Tn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Hr(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return $u(e).Wt({range:l,index:"queryTargetsIndex"},(v,C,j)=>{const q=ml(C);uu(t,q.target)&&(h=q,j.done())}).next(()=>h)}addMatchingKeys(e,t,o){const l=[],h=yu(e);return t.forEach(v=>{const C=Ji(v.path);l.push(h.put({targetId:o,path:C})),l.push(this.referenceDelegate.addReference(e,o,v))}),St.waitFor(l)}removeMatchingKeys(e,t,o){const l=yu(e);return St.forEach(t,h=>{const v=Ji(h.path);return St.waitFor([l.delete([o,v]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=yu(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=yu(e);let h=Jr();return l.Wt({range:o,jt:!0},(v,C,j)=>{const q=Ua(v[1]),xe=new gn(q);h=h.add(xe)}).next(()=>h)}containsKey(e,t){const o=Ji(t.path),l=IDBKeyRange.bound([o],[Hi(o)],!1,!0);let h=0;return yu(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([v,C],j,q)=>{0!==v&&(h++,q.done())}).next(()=>h>0)}Et(e,t){return $u(e).get(t).next(o=>o?ml(o):null)}}function $u(i){return As(i,"targets")}function jy(i){return As(i,"targetGlobal")}function yu(i){return As(i,"targetDocuments")}function Xl(i){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,J.Z)(function*(i){if(i.code!==bt.FAILED_PRECONDITION||i.message!==cg)throw i;qt("LocalStore","Unexpectedly lost primary lease")}),Ql.apply(this,arguments)}function jc([i,e],[t,o]){const l=Sn(i,t);return 0===l?Sn(e,o):l}class af{constructor(e){this.En=e,this.buffer=new ki(jc),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();jc(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uf{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const o=this.Pn?3e5:6e4;qt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,J.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){pl(l)?qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Xl(l)}yield t.vn(e)}))}}class lf{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return St.resolve(ln.A);const o=new af(t);return this.Sn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Sn.Cn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Sn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(rf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rf):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let o,l,h,v,C,j,q;const xe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ge=>(Ge>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ge}`),l=this.params.maximumSequenceNumbersToCollect):l=Ge,v=Date.now(),this.nthSequenceNumber(e,l))).next(Ge=>(o=Ge,C=Date.now(),this.removeTargets(e,o,t))).next(Ge=>(h=Ge,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ge=>(q=Date.now(),lo()<=We.in.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-xe}ms\n\tDetermined least recently used ${l} in `+(C-v)+`ms\n\tRemoved ${h} targets in `+(j-C)+`ms\n\tRemoved ${Ge} documents in `+(q-j)+`ms\nTotal Duration: ${q-xe}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:Ge})))}}class U_{constructor(e,t){this.db=e,this.garbageCollector=new lf(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Nn(e){let t=0;return this.Cn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(o,l)=>t(l))}addReference(e,t,o){return jd(e,o)}removeReference(e,t,o){return jd(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return jd(e,t)}Mn(e,t){return function(o,l){let h=!1;return Ga(o).zt(v=>of(o,v,l).next(C=>(C&&(h=!0),St.resolve(!C)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.kn(e,(v,C)=>{if(C<=t){const j=this.Mn(e,v).next(q=>{if(!q)return h++,o.getEntry(e,v).next(()=>(o.removeEntry(v,$n.min()),yu(e).delete([0,Ji(v.path)])))});l.push(j)}}).next(()=>St.waitFor(l)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return jd(e,t)}kn(e,t){const o=yu(e);let l,h=ln.A;return o.Wt({index:"documentTargetsIndex"},([v,C],{path:j,sequenceNumber:q})=>{0===v?(h!==ln.A&&t(new gn(Ua(l)),h),h=q,l=j):h=ln.A}).next(()=>{h!==ln.A&&t(new gn(Ua(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jd(i,e){return yu(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ji(e.path),sequenceNumber:o}));var o}class Ig{constructor(){this.changes=new Va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?St.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hy{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Jl(e).put(o)}removeEntry(e,t,o){return Jl(e).delete(function(l,h){const v=l.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Bc(h),v[v.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.On(e,o)))}getEntry(e,t){let o=Pt.newInvalidDocument(t);return Jl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(t))},(l,h)=>{o=this.Fn(t,h)}).next(()=>o)}$n(e,t){let o={size:0,document:Pt.newInvalidDocument(t)};return Jl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hc(t))},(l,h)=>{o={document:this.Fn(t,h),size:bl(h)}}).next(()=>o)}getEntries(e,t){let o=Jo();return this.Bn(e,t,(l,h)=>{const v=this.Fn(l,h);o=o.insert(l,v)}).next(()=>o)}Ln(e,t){let o=Jo(),l=new zi(gn.comparator);return this.Bn(e,t,(h,v)=>{const C=this.Fn(h,v);o=o.insert(h,C),l=l.insert(h,bl(v))}).next(()=>({documents:o,Un:l}))}Bn(e,t,o){if(t.isEmpty())return St.resolve();let l=new ki(df);t.forEach(j=>l=l.add(j));const h=IDBKeyRange.bound(Hc(l.first()),Hc(l.last())),v=l.getIterator();let C=v.getNext();return Jl(e).Wt({index:"documentKeyIndex",range:h},(j,q,xe)=>{const Ge=gn.fromSegments([...q.prefixPath,q.collectionGroup,q.documentId]);for(;C&&df(C,Ge)<0;)o(C,null),C=v.getNext();C&&C.isEqual(Ge)&&(o(C,q),C=v.hasNext()?v.getNext():null),C?xe.Ut(Hc(C)):xe.done()}).next(()=>{for(;C;)o(C,null),C=v.hasNext()?v.getNext():null})}getAllFromCollection(e,t,o){const l=[t.popLast().toArray(),t.lastSegment(),Bc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jl(e).qt(IDBKeyRange.bound(l,h,!0)).next(v=>{let C=Jo();for(const j of v){const q=this.Fn(gn.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);C=C.insert(q.key,q)}return C})}getAllFromCollectionGroup(e,t,o,l){let h=Jo();const v=zy(t,o),C=zy(t,Fs.max());return Jl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,C,!0)},(j,q,xe)=>{const Ge=this.Fn(gn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);h=h.insert(Ge.key,Ge),h.size===l&&xe.done()}).next(()=>h)}newChangeBuffer(e){return new Gy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cf(e).get("remoteDocumentGlobalKey").next(t=>(Hn(!!t),t))}On(e,t){return cf(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const o=function fg(i,e){let t;if(e.document)t=Jp(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=gn.fromSegments(e.noDocument.path),l=Ha(e.noDocument.readTime);t=Pt.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dn();{const o=gn.fromSegments(e.unknownDocument.path),l=Ha(e.unknownDocument.version);t=Pt.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Mr(o[0],o[1]);return $n.fromTimestamp(l)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual($n.min()))return o}return Pt.newInvalidDocument(e)}}class Gy extends Ig{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Va(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new ki((h,v)=>Sn(h.canonicalString(),v.canonicalString()));return this.changes.forEach((h,v)=>{const C=this.Gn.get(h);if(t.push(this.qn.removeEntry(e,h,C.readTime)),v.isValidDocument()){const j=Ld(this.qn.M,v);l=l.add(h.path.popLast()),o+=bl(j)-C.size,t.push(this.qn.addEntry(e,h,j))}else if(o-=C.size,this.trackRemovals){const j=Ld(this.qn.M,v.convertToNoDocument($n.min()));t.push(this.qn.addEntry(e,h,j))}}),l.forEach(h=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.qn.updateMetadata(e,o)),St.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:o,Un:l})=>(l.forEach((h,v)=>{this.Gn.set(h,{size:v,readTime:o.get(h).readTime})}),o))}}function cf(i){return As(i,"remoteDocumentGlobal")}function Jl(i){return As(i,"remoteDocumentsV14")}function Hc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zy(i,e){const t=e.documentKey.path.toArray();return[i,Bc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function df(i,e){const t=i.path.length-e.path.length;return 0!==t?t:gn.comparator(i,e)}class wg{constructor(e){this.M=e}kt(e,t,o,l){const h=new Vc("createOrUpgrade",t);var C;o<1&&l>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uh,{unique:!0}),C.createObjectStore("documentMutations"),Dg(e),function(C){C.createObjectStore("remoteDocuments")}(e));let v=St.resolve();return o<3&&l>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Dg(e)),v=v.next(()=>function(C){const j=C.store("targetGlobal"),q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$n.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",q)}(h))),o<4&&l>=4&&(0!==o&&(v=v.next(()=>function(C,j){return j.store("mutations").qt().next(q=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Uh,{unique:!0});const xe=j.store("mutations"),Ge=q.map(Et=>xe.put(Et));return St.waitFor(Ge)})}(e,h))),v=v.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(v=v.next(()=>this.Kn(h))),o<6&&l>=6&&(v=v.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(h)))),o<7&&l>=7&&(v=v.next(()=>this.jn(h))),o<8&&l>=8&&(v=v.next(()=>this.Wn(e,h))),o<9&&l>=9&&(v=v.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(v=v.next(()=>this.zn(h))),o<11&&l>=11&&(v=v.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(v=v.next(()=>{!function(C){const j=C.createObjectStore("documentOverlays",{keyPath:qh});j.createIndex("collectionPathOverlayIndex",ug,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Ny,{unique:!1})}(e)})),o<13&&l>=13&&(v=v.next(()=>function(C){const j=C.createObjectStore("remoteDocumentsV14",{keyPath:Gh});j.createIndex("documentKeyIndex",Py),j.createIndex("collectionGroupIndex",ig)}(e)).next(()=>this.Hn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(v=v.next(()=>{!function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:Wh}).createIndex("sequenceNumberIndex",ag,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:B_}).createIndex("documentKeyIndex",Kl,{unique:!1})}(e)})),v}Qn(e){let t=0;return e.store("remoteDocuments").Wt((o,l)=>{t+=bl(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Kn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(l=>St.forEach(l,h=>{const v=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",v).next(C=>St.forEach(C,j=>{Hn(j.userId===h.userId);const q=gl(this.M,j);return sf(e,h.userId,q).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const h=[];return o.Wt((v,C)=>{const j=new Nr(v),q=[0,Ji(j)];h.push(t.get(q).next(xe=>xe?St.resolve():t.put({targetId:0,path:Ji(j),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>St.waitFor(h))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:zh});const o=t.store("collectionParents"),l=new nf,h=v=>{if(l.add(v)){const C=v.lastSegment(),j=v.popLast();return o.put({collectionId:C,parent:Ji(j)})}};return t.store("remoteDocuments").Wt({jt:!0},(v,C)=>{const j=new Nr(v);return h(j.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([v,C,j],q)=>{const xe=Ua(C);return h(xe.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((o,l)=>{const h=ml(l),v=Jh(this.M,h);return t.put(v)})}Hn(e,t){const o=t.store("remoteDocuments"),l=[];return o.Wt((h,v)=>{const C=t.store("remoteDocumentsV14"),j=(q=v,q.document?new gn(Nr.fromString(q.document.name).popFirst(5)):q.noDocument?gn.fromSegments(q.noDocument.path):q.unknownDocument?gn.fromSegments(q.unknownDocument.path):Dn()).path.toArray();var q;const xe={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};l.push(C.put(xe))}).next(()=>St.waitFor(l))}}function Dg(i){i.createObjectStore("targetDocuments",{keyPath:sg}).createIndex("documentTargetsIndex",og,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lc,{unique:!0}),i.createObjectStore("targetGlobal")}const Gc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cg{constructor(e,t,o,l,h,v,C,j,q,xe,Ge=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Jn=h,this.window=v,this.document=C,this.Yn=q,this.Xn=xe,this.Zn=Ge,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Et=>Promise.resolve(),!Cg.vt())throw new Bt(bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new U_(this,l),this.cs=t+"main",this.M=new Qh(j),this.hs=new Fo(this.cs,this.Zn,new wg(this.M)),this.ls=new bg(this.referenceDelegate,this.M),this.fs=new Hy(this.M),this.ds=new gg,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===xe&&yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(bt.FAILED_PRECONDITION,Gc);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new ln(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var o=(0,J.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,J.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,J.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(pl(e))return qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Hd(e).get("owner").next(t=>St.resolve(this.bs(t)))}Ps(e){return hf(e).delete(this.clientId)}Vs(){var e=this;return(0,J.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=As(o,"clientMetadata");return l.qt().next(h=>{const v=e.Ss(h,18e5),C=h.filter(j=>-1===v.indexOf(j));return St.forEach(C,j=>l.delete(j.clientId)).next(()=>C)})}).catch(()=>[]);if(e._s)for(const o of t)e._s.removeItem(e.Ds(o.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?St.resolve(!0):Hd(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Bt(bt.FAILED_PRECONDITION,Gc);return!1}}return!(!this.networkEnabled||!this.inForeground)||hf(e).qt().next(o=>void 0===this.Ss(o,5e3).find(l=>{if(this.clientId!==l.clientId){const v=!this.inForeground&&l.inForeground,C=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||v&&C)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,J.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Kh(t,ln.A);return e.As(o).next(()=>e.Ps(o))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(o=>this.vs(o.updateTimeMs,t)&&!this.Cs(o.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>hf(e).qt().next(t=>this.Ss(t,18e5).map(o=>o.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Lo.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new _g(e)}getDocumentOverlayCache(e){return Vd.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,o){qt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",h=14===(v=this.Zn)?Fy:13===v?lg:12===v?ky:11===v?Fd:void Dn();var v;let C;return this.hs.runTransaction(e,l,h,j=>(C=new Kh(j,this.ts?this.ts.next():ln.A),"readwrite-primary"===t?this.Ts(C).next(q=>!!q||this.Es(C)).next(q=>{if(!q)throw yi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Bt(bt.FAILED_PRECONDITION,cg);return o(C)}).next(q=>this.Rs(C).next(()=>q)):this.Fs(C).next(()=>o(C)))).then(j=>(C.raiseOnCommittedEvent(),j))}Fs(e){return Hd(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Bt(bt.FAILED_PRECONDITION,Gc)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hd(e).put("owner",t)}static vt(){return Fo.vt()}As(e){const t=Hd(e);return t.get("owner").next(o=>this.bs(o)?(qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):St.resolve())}vs(e,t){const o=Date.now();return!(e<o-t||e>o&&(yi(`Detected an update time that is in the future: ${e} > ${o}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,lt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const o=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return qt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return yi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){yi("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hd(i){return As(i,"owner")}function hf(i){return As(i,"clientMetadata")}function Tg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class j_{constructor(e,t,o){this.fs=e,this.$s=t,this.indexManager=o}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Ls(e,t,o))}Ls(e,t,o){return this.fs.getEntry(e,t).next(l=>{for(const h of o)h.applyToLocalView(l);return l})}Us(e,t){e.forEach((o,l)=>{for(const h of t)h.applyToLocalView(l)})}qs(e,t){return this.fs.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.Us(t,o))}Ks(e,t,o){return gn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.Qs(e,t.path):Cc(t)?this.js(e,t,o):this.Ws(e,t,o);var l}Qs(e,t){return this.Bs(e,new gn(t)).next(o=>{let l=Vh();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}js(e,t,o){const l=t.collectionGroup;let h=Vh();return this.indexManager.getCollectionParents(e,l).next(v=>St.forEach(v,C=>{const j=(q=t,xe=C.child(l),new Ks(xe,null,q.explicitOrderBy.slice(),q.filters.slice(),q.limit,q.limitType,q.startAt,q.endAt));var q,xe;return this.Ws(e,j,o).next(q=>{q.forEach((xe,Ge)=>{h=h.insert(xe,Ge)})})}).next(()=>h))}Ws(e,t,o){let l;return this.fs.getAllFromCollection(e,t.path,o).next(h=>(l=h,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(h=>{for(const v of h)for(const C of v.mutations){const j=C.key;let q=l.get(j);null==q&&(q=Pt.newInvalidDocument(j),l=l.insert(j,q)),Ht(C,q,v.localWriteTime),q.isFoundDocument()||(l=l.remove(j))}}).next(()=>(l.forEach((h,v)=>{Hl(t,v)||(l=l.remove(h))}),l))}}class Sg{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.zs=o,this.Hs=l}static Js(e,t){let o=Jr(),l=Jr();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Sg(e,t.fromCache,o,l)}}class Wy{Ys(e){this.Xs=e}Ks(e,t,o,l){return 0===(h=t).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual($n.min())?this.Zs(e,t):this.Xs.qs(e,l).next(h=>{const v=this.ti(t,h);return(wc(t)||ol(t))&&this.ei(t.limitType,v,l,o)?this.Zs(e,t):(lo()<=We.in.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tc(t)),this.Xs.Ks(e,t,Gs(o,-1)).next(C=>(v.forEach(j=>{C=C.insert(j.key,j)}),C)))});var h}ti(e,t){let o=new ki(ul(e));return t.forEach((l,h)=>{Hl(e,h)&&(o=o.add(h))}),o}ei(e,t,o,l){if(o.size!==t.size)return!0;const h="F"===e?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Zs(e,t){return lo()<=We.in.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",Tc(t)),this.Xs.Ks(e,t,Fs.min())}}class H_{constructor(e,t,o,l){this.persistence=e,this.ni=t,this.M=l,this.si=new zi(Sn),this.ii=new Va(h=>Hr(h),uu),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(o)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new j_(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function qy(i,e,t,o){return new H_(i,e,t,o)}function Yy(i,e){return za.apply(this,arguments)}function za(){return za=(0,J.Z)(function*(i,e){const t=fn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.$s.getAllMutationBatches(o).next(h=>(l=h,t.ui(e),t.$s.getAllMutationBatches(o))).next(h=>{const v=[],C=[];let j=Jr();for(const q of l){v.push(q.batchId);for(const xe of q.mutations)j=j.add(xe.key)}for(const q of h){C.push(q.batchId);for(const xe of q.mutations)j=j.add(xe.key)}return t.ai.qs(o,j).next(q=>({ci:q,removedBatchIds:v,addedBatchIds:C}))})})}),za.apply(this,arguments)}function ff(i,e){const t=fn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),h=t.oi.newChangeBuffer({trackRemovals:!0});return function(v,C,j,q){const xe=j.batch,Ge=xe.keys();let Et=St.resolve();return Ge.forEach(Ft=>{Et=Et.next(()=>q.getEntry(C,Ft)).next(Gt=>{const Nn=j.docVersions.get(Ft);Hn(null!==Nn),Gt.version.compareTo(Nn)<0&&(xe.applyToRemoteDocument(Gt,j),Gt.isValidDocument()&&(Gt.setReadTime(j.commitVersion),q.addEntry(Gt)))})}),Et.next(()=>v.$s.removeMutationBatch(C,xe))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.$s.performConsistencyCheck(o)).next(()=>t.ai.qs(o,l))})}function Ag(i){const e=fn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function xg(i,e){const t=fn(i),o=e.snapshotVersion;let l=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const v=t.oi.newChangeBuffer({trackRemovals:!0});l=t.si;const C=[];e.targetChanges.forEach((q,xe)=>{const Ge=l.get(xe);if(!Ge)return;C.push(t.ls.removeMatchingKeys(h,q.removedDocuments,xe).next(()=>t.ls.addMatchingKeys(h,q.addedDocuments,xe)));let Et=Ge.withSequenceNumber(h.currentSequenceNumber);var Ft,Gt,Nn;e.targetMismatches.has(xe)?Et=Et.withResumeToken(Gi.EMPTY_BYTE_STRING,$n.min()).withLastLimboFreeSnapshotVersion($n.min()):q.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(q.resumeToken,o)),l=l.insert(xe,Et),Gt=Et,Nn=q,(0===(Ft=Ge).resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||Nn.addedDocuments.size+Nn.modifiedDocuments.size+Nn.removedDocuments.size>0)&&C.push(t.ls.updateTargetData(h,Et))});let j=Jo();if(e.documentUpdates.forEach(q=>{e.resolvedLimboDocuments.has(q)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(h,q))}),C.push(Gd(h,v,e.documentUpdates).next(q=>{j=q})),!o.isEqual($n.min())){const q=t.ls.getLastRemoteSnapshotVersion(h).next(xe=>t.ls.setTargetsMetadata(h,h.currentSequenceNumber,o));C.push(q)}return St.waitFor(C).next(()=>v.apply(h)).next(()=>t.ai.Gs(h,j)).next(()=>j)}).then(h=>(t.si=l,h))}function Gd(i,e,t){let o=Jr();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let h=Jo();return t.forEach((v,C)=>{const j=l.get(v);C.isNoDocument()&&C.version.isEqual($n.min())?(e.removeEntry(v,C.readTime),h=h.insert(v,C)):!j.isValidDocument()||C.version.compareTo(j.version)>0||0===C.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(C),h=h.insert(v,C)):qt("LocalStore","Ignoring outdated watch update for ",v,". Current version:",j.version," Watch version:",C.version)}),h})}function Mg(i,e){const t=fn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(o,e)))}function Uu(i,e){const t=fn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.ls.getTargetData(o,e).next(h=>h?(l=h,St.resolve(l)):t.ls.allocateTargetId(o).next(v=>(l=new gu(e,v,0,o.currentSequenceNumber),t.ls.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.si.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.si=t.si.insert(o.targetId,o),t.ii.set(e,o.targetId)),o})}function ec(i,e,t){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,J.Z)(function*(i,e,t){const o=fn(i),l=o.si.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,v=>o.persistence.referenceDelegate.removeTarget(v,l)))}catch(v){if(!pl(v))throw v;qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.si=o.si.remove(e),o.ii.delete(l.target)}),Wa.apply(this,arguments)}function zc(i,e,t){const o=fn(i);let l=$n.min(),h=Jr();return o.persistence.runTransaction("Execute query","readonly",v=>function(C,j,q){const xe=fn(C),Ge=xe.ii.get(q);return void 0!==Ge?St.resolve(xe.si.get(Ge)):xe.ls.getTargetData(j,q)}(o,v,Io(e)).next(C=>{if(C)return l=C.lastLimboFreeSnapshotVersion,o.ls.getMatchingKeysForTargetId(v,C.targetId).next(j=>{h=j})}).next(()=>o.ni.Ks(v,e,t?l:$n.min(),t?h:Jr())).next(C=>(Og(o,Ph(e),C),{documents:C,hi:h})))}function Rg(i,e){const t=fn(i),o=fn(t.ls),l=t.si.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(v=>v?v.target:null))}function zd(i,e){const t=fn(i),o=t.ri.get(e)||$n.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.oi.getAllFromCollectionGroup(l,e,Gs(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Og(t,e,l),l))}function Og(i,e,t){let o=$n.min();t.forEach((l,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.ri.set(e,o)}function pf(){return pf=(0,J.Z)(function*(i,e,t,o){const l=fn(i);let h=Jr(),v=Jo();for(const q of t){const xe=e.li(q.metadata.name);q.document&&(h=h.add(xe));const Ge=e.fi(q);Ge.setReadTime(e.di(q.metadata.readTime)),v=v.insert(xe,Ge)}const C=l.oi.newChangeBuffer({trackRemovals:!0}),j=yield Uu(l,(q=o,Io(Pu(Nr.fromString(`__bundle__/docs/${q}`)))));var q;return l.persistence.runTransaction("Apply bundle documents","readwrite",q=>Gd(q,C,v).next(xe=>(C.apply(q),xe)).next(xe=>l.ls.removeMatchingKeysForTargetId(q,j.targetId).next(()=>l.ls.addMatchingKeys(q,h,j.targetId)).next(()=>l.ai.Gs(q,xe)).next(()=>xe)))}),pf.apply(this,arguments)}function Ky(i,e){return Il.apply(this,arguments)}function Il(){return Il=(0,J.Z)(function*(i,e,t=Jr()){const o=yield Uu(i,Io($c(e.bundledQuery))),l=fn(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const v=Ls(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return l.ds.saveNamedQuery(h,e);const C=o.withResumeToken(Gi.EMPTY_BYTE_STRING,v);return l.si=l.si.insert(C.targetId,C),l.ls.updateTargetData(h,C).next(()=>l.ls.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>l.ls.addMatchingKeys(h,t,o.targetId)).next(()=>l.ds.saveNamedQuery(h,e))})}),Il.apply(this,arguments)}class tc{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return St.resolve(this._i.get(t))}saveBundleMetadata(e,t){var o;return this._i.set(t.id,{id:(o=t).id,version:o.version,createTime:Ls(o.createTime)}),St.resolve()}getNamedQuery(e,t){return St.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(o=t).name,query:$c(o.bundledQuery),readTime:Ls(o.readTime)}),St.resolve();var o}}class gf{constructor(){this.overlays=new zi(gn.comparator),this.mi=new Map}getOverlay(e,t){return St.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((l,h)=>{this.Xt(e,t,h)}),St.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.mi.get(o);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.mi.delete(o)),St.resolve()}getOverlaysForCollection(e,t,o){const l=Wi(),h=t.length+1,v=new gn(t.child("")),C=this.overlays.getIteratorFrom(v);for(;C.hasNext();){const j=C.getNext().value,q=j.getKey();if(!t.isPrefixOf(q.path))break;q.path.length===h&&j.largestBatchId>o&&l.set(j.getKey(),j)}return St.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let h=new zi((q,xe)=>q-xe);const v=this.overlays.getIterator();for(;v.hasNext();){const q=v.getNext().value;if(q.getKey().getCollectionGroup()===t&&q.largestBatchId>o){let xe=h.get(q.largestBatchId);null===xe&&(xe=Wi(),h=h.insert(q.largestBatchId,xe)),xe.set(q.getKey(),q)}}const C=Wi(),j=h.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((q,xe)=>C.set(q,xe)),!(C.size()>=l)););return St.resolve(C)}Xt(e,t,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const v=this.mi.get(l.largestBatchId).delete(o.key);this.mi.set(l.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Xh(t,o));let h=this.mi.get(t);void 0===h&&(h=Jr(),this.mi.set(t,h)),this.mi.set(t,h.add(o.key))}}class ju{constructor(){this.gi=new ki(as.yi),this.pi=new ki(as.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const o=new as(e,t);this.gi=this.gi.add(o),this.pi=this.pi.add(o)}Ti(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ei(new as(e,t))}Ai(e,t){e.forEach(o=>this.removeReference(o,t))}Ri(e){const t=new gn(new Nr([])),o=new as(t,e),l=new as(t,e+1),h=[];return this.pi.forEachInRange([o,l],v=>{this.Ei(v),h.push(v.key)}),h}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new gn(new Nr([])),o=new as(t,e),l=new as(t,e+1);let h=Jr();return this.pi.forEachInRange([o,l],v=>{h=h.add(v.key)}),h}containsKey(e){const t=new as(e,0),o=this.gi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class as{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return gn.comparator(e.key,t.key)||Sn(e.Vi,t.Vi)}static Ii(e,t){return Sn(e.Vi,t.Vi)||gn.comparator(e.key,t.key)}}class nc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new ki(as.yi)}checkEmpty(e){return St.resolve(0===this.$s.length)}addMutationBatch(e,t,o,l){const h=this.vi;this.vi++;const v=new Zh(h,t,o,l);this.$s.push(v);for(const C of l)this.Si=this.Si.add(new as(C.key,h)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return St.resolve(v)}lookupMutationBatch(e,t){return St.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.Ci(t+1),h=l<0?0:l;return St.resolve(this.$s.length>h?this.$s[h]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return St.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new as(t,0),l=new as(t,Number.POSITIVE_INFINITY),h=[];return this.Si.forEachInRange([o,l],v=>{const C=this.Di(v.Vi);h.push(C)}),St.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ki(Sn);return t.forEach(l=>{const h=new as(l,0),v=new as(l,Number.POSITIVE_INFINITY);this.Si.forEachInRange([h,v],C=>{o=o.add(C.Vi)})}),St.resolve(this.xi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let h=o;gn.isDocumentKey(h)||(h=h.child(""));const v=new as(new gn(h),0);let C=new ki(Sn);return this.Si.forEachWhile(j=>{const q=j.key.path;return!!o.isPrefixOf(q)&&(q.length===l&&(C=C.add(j.Vi)),!0)},v),St.resolve(this.xi(C))}xi(e){const t=[];return e.forEach(o=>{const l=this.Di(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Hn(0===this.Ni(t.batchId,"removed")),this.$s.shift();let o=this.Si;return St.forEach(t.mutations,l=>{const h=new as(l.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Si=o})}dn(e){}containsKey(e,t){const o=new as(t,0),l=this.Si.firstAfterOrEqual(o);return St.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return St.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class Zy{constructor(e){this.ki=e,this.docs=new zi(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),h=l?l.size:0,v=this.ki(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:v}),this.size+=v-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return St.resolve(o?o.document.mutableCopy():Pt.newInvalidDocument(t))}getEntries(e,t){let o=Jo();return t.forEach(l=>{const h=this.docs.get(l);o=o.insert(l,h?h.document.mutableCopy():Pt.newInvalidDocument(l))}),St.resolve(o)}getAllFromCollection(e,t,o){let l=Jo();const h=new gn(t.child("")),v=this.docs.getIteratorFrom(h);for(;v.hasNext();){const{key:C,value:{document:j}}=v.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||_a(ss(j),o)<=0||(l=l.insert(j.key,j.mutableCopy()))}return St.resolve(l)}getAllFromCollectionGroup(e,t,o,l){Dn()}Mi(e,t){return St.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Ng(this)}getSize(e){return St.resolve(this.size)}}class Ng extends Ig{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.qn.addEntry(e,l)):this.qn.removeEntry(o)}),St.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class kg{constructor(e){this.persistence=e,this.Oi=new Va(t=>Hr(t),uu),this.lastRemoteSnapshotVersion=$n.min(),this.highestTargetId=0,this.Fi=0,this.$i=new ju,this.targetCount=0,this.Bi=mu.mn()}forEachTarget(e,t){return this.Oi.forEach((o,l)=>t(l)),St.resolve()}getLastRemoteSnapshotVersion(e){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return St.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Fi&&(this.Fi=t),St.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new mu(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,St.resolve()}updateTargetData(e,t){return this.In(t),St.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,St.resolve()}removeTargets(e,t,o){let l=0;const h=[];return this.Oi.forEach((v,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.Oi.delete(v),h.push(this.removeMatchingKeysForTargetId(e,C.targetId)),l++)}),St.waitFor(h).next(()=>l)}getTargetCount(e){return St.resolve(this.targetCount)}getTargetData(e,t){const o=this.Oi.get(t)||null;return St.resolve(o)}addMatchingKeys(e,t,o){return this.$i.Ti(t,o),St.resolve()}removeMatchingKeys(e,t,o){this.$i.Ai(t,o);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(v=>{h.push(l.markPotentiallyOrphaned(e,v))}),St.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),St.resolve()}getMatchingKeysForTargetId(e,t){const o=this.$i.Pi(t);return St.resolve(o)}containsKey(e,t){return St.resolve(this.$i.containsKey(t))}}class mf{constructor(e,t){this.Li={},this.overlays={},this.ts=new ln(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new kg(this),this.indexManager=new Uy,this.fs=new Zy(o=>this.referenceDelegate.Ui(o)),this.M=new Qh(t),this.ds=new tc(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Li[e.toKey()];return o||(o=new nc(t,this.referenceDelegate),this.Li[e.toKey()]=o),o}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,o){qt("MemoryPersistence","Starting transaction:",e);const l=new yf(this.ts.next());return this.referenceDelegate.qi(),o(l).next(h=>this.referenceDelegate.Gi(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ki(e,t){return St.or(Object.values(this.Li).map(o=>()=>o.containsKey(e,t)))}}class yf extends dg{constructor(e){super(),this.currentSequenceNumber=e}}class Wd{constructor(e){this.persistence=e,this.Qi=new ju,this.ji=null}static Wi(e){return new Wd(e)}get zi(){if(this.ji)return this.ji;throw Dn()}addReference(e,t,o){return this.Qi.addReference(o,t),this.zi.delete(o.toString()),St.resolve()}removeReference(e,t,o){return this.Qi.removeReference(o,t),this.zi.add(o.toString()),St.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),St.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(l=>this.zi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.zi.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.zi,o=>{const l=gn.fromPath(o);return this.Hi(e,l).next(h=>{h||t.removeEntry(l,$n.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(o=>{o?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return St.or([()=>St.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function Wc(i,e){return`firestore_clients_${i}_${e}`}function Fg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function qd(i,e){return`firestore_targets_${i}_${e}`}class vf{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static Ji(e,t,o){const l=JSON.parse(o);let h,v="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return v&&l.error&&(v="string"==typeof l.error.message&&"string"==typeof l.error.code,v&&(h=new Bt(l.error.code,l.error.message))),v?new vf(e,t,l.state,h):(yi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let l,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Bt(o.error.code,o.error.message))),h?new rc(e,o.state,l):(yi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,h=xd();for(let v=0;l&&v<o.activeTargetIds.length;++v)l=Eo(o.activeTargetIds[v]),h=h.add(o.activeTargetIds[v]);return l?new qc(e,h):(yi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _f{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _f(t.clientId,t.onlineState):(yi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Yd{constructor(){this.activeTargetIds=xd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ef{constructor(e,t,o,l,h){this.window=e,this.Jn=t,this.persistenceKey=o,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new zi(Sn),this.started=!1,this.ir=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.rr=Wc(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Yd),this.ar=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,J.Z)(function*(){const t=yield e.syncEngine.Os();for(const l of t){if(l===e.tr)continue;const h=e.getItem(Wc(e.persistenceKey,l));if(h){const v=qc.Ji(l,h);v&&(e.sr=e.sr.insert(v.clientId,v))}}e._r();const o=e.storage.getItem(e.lr);if(o){const l=e.wr(o);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(qd(this.persistenceKey,e));if(o){const l=rc.Ji(e,o);l&&(t=l.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qd(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.pr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return qt("SharedClientState","READ",e,t),t}setItem(e,t){qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(qt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,J.Z)(function*(){if(t.started){if(null!==o.key)if(t.ar.test(o.key)){if(null==o.newValue){const l=t.Rr(o.key);return t.br(l,null)}{const l=t.Pr(o.key,o.newValue);if(l)return t.br(l.clientId,l)}}else if(t.cr.test(o.key)){if(null!==o.newValue){const l=t.Vr(o.key,o.newValue);if(l)return t.vr(l)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const l=t.Sr(o.key,o.newValue);if(l)return t.Dr(l)}}else if(o.key===t.lr){if(null!==o.newValue){const l=t.wr(o.newValue);if(l)return t.mr(l)}}else if(o.key===t.ur){const l=function(h){let v=ln.A;if(null!=h)try{const C=JSON.parse(h);Hn("number"==typeof C),v=C}catch(C){yi("SharedClientState","Failed to read sequence number from WebStorage",C)}return v}(o.newValue);l!==ln.A&&t.sequenceNumberHandler(l)}else if(o.key===t.dr){const l=t.Cr(o.newValue);yield Promise.all(l.map(h=>t.syncEngine.Nr(h)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const l=new vf(this.currentUser,e,t,o),h=Fg(this.persistenceKey,this.currentUser,e);this.setItem(h,l.Yi())}pr(e){const t=Fg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const l=qd(this.persistenceKey,e),h=new rc(e,t,o);this.setItem(l,h.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return qc.Ji(o,t)}Vr(e,t){const o=this.cr.exec(e),l=Number(o[1]);return vf.Ji(new ji(void 0!==o[2]?o[2]:null),l,t)}Sr(e,t){const o=this.hr.exec(e),l=Number(o[1]);return rc.Ji(l,t)}wr(e){return _f.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,J.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),l=this.gr(this.sr),h=this.gr(o),v=[],C=[];return h.forEach(j=>{l.has(j)||v.push(j)}),l.forEach(j=>{h.has(j)||C.push(j)}),this.syncEngine.Or(v,C).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=xd();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Lg{constructor(){this.Fr=new Yd,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Yd,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vo{Br(e){}shutdown(){}}class Vg{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G_{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class z_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,l,h){const v=this.oo(e,t);qt("RestConnection","Sending: ",v,o);const C={};return this.uo(C,l,h),this.ao(e,v,C,o).then(j=>(qt("RestConnection","Received: ",j),j),j=>{throw ps("RestConnection",`${e} failed with error: `,j,"url: ",v,"request:",o),j})}co(e,t,o,l,h){return this.ro(e,t,o,l,h)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),o&&o.headers.forEach((l,h)=>e[h]=l)}oo(e,t){return`${this.so}/v1/${t}:${Xy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,o,l){return new Promise((h,v)=>{const C=new Ys;C.listenOnce(di.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case nu.NO_ERROR:const q=C.getResponseJson();qt("Connection","XHR received:",JSON.stringify(q)),h(q);break;case nu.TIMEOUT:qt("Connection",'RPC "'+e+'" timed out'),v(new Bt(bt.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const xe=C.getStatus();if(qt("Connection",'RPC "'+e+'" failed with status:',xe,"response text:",C.getResponseText()),xe>0){const Ge=C.getResponseJson().error;if(Ge&&Ge.status&&Ge.message){const Et=function(Ft){const Gt=Ft.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(Gt)>=0?Gt:bt.UNKNOWN}(Ge.status);v(new Bt(Et,Ge.message))}else v(new Bt(bt.UNKNOWN,"Server responded with status "+C.getStatus()))}else v(new Bt(bt.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{qt("Connection",'RPC "'+e+'" completed.')}});const j=JSON.stringify(l);C.send(t,"POST",j,o,15)})}ho(e,t,o){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tl(),v=fa(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new yo({})),this.uo(C.initMessageHeaders,t,o),(0,lt.uI)()||(0,lt.b$)()||(0,lt.d)()||(0,lt.w1)()||(0,lt.Mn)()||(0,lt.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const j=l.join("");qt("Connection","Creating WebChannel: "+j,C);const q=h.createWebChannel(j,C);let xe=!1,Ge=!1;const Et=new G_({jr:Gt=>{Ge?qt("Connection","Not sending because WebChannel is closed:",Gt):(xe||(qt("Connection","Opening WebChannel transport."),q.open(),xe=!0),qt("Connection","WebChannel sending:",Gt),q.send(Gt))},Wr:()=>q.close()}),Ft=(Gt,Nn,yr)=>{Gt.listen(Nn,qi=>{try{yr(qi)}catch(Vr){setTimeout(()=>{throw Vr},0)}})};return Ft(q,Ao.EventType.OPEN,()=>{Ge||qt("Connection","WebChannel transport opened.")}),Ft(q,Ao.EventType.CLOSE,()=>{Ge||(Ge=!0,qt("Connection","WebChannel transport closed"),Et.eo())}),Ft(q,Ao.EventType.ERROR,Gt=>{Ge||(Ge=!0,ps("Connection","WebChannel transport errored:",Gt),Et.eo(new Bt(bt.UNAVAILABLE,"The operation could not be completed")))}),Ft(q,Ao.EventType.MESSAGE,Gt=>{var Nn;if(!Ge){const yr=Gt.data[0];Hn(!!yr);const qi=yr,Vr=qi.error||(null===(Nn=qi[0])||void 0===Nn?void 0:Nn.error);if(Vr){qt("Connection","WebChannel received error:",Vr);const Bs=Vr.status;let Yi=function(ui){const Aa=xi[ui];if(void 0!==Aa)return Rc(Aa)}(Bs),Vi=Vr.message;void 0===Yi&&(Yi=bt.INTERNAL,Vi="Unknown error status: "+Bs+" with message "+Vr.message),Ge=!0,Et.eo(new Bt(Yi,Vi)),q.close()}else qt("Connection","WebChannel received:",yr),Et.no(yr)}}),Ft(v,pa.STAT_EVENT,Gt=>{Gt.stat===So.PROXY?qt("Connection","Detected buffering proxy"):Gt.stat===So.NOPROXY&&qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Et.Zr()},0),Et}}function bf(){return"undefined"!=typeof window?window:null}function If(){return"undefined"!=typeof document?document:null}function Yc(i){return new Xs(i,!0)}class Kc{constructor(e,t,o=1e3,l=1.5,h=6e4){this.Jn=e,this.timerId=t,this.lo=o,this.fo=l,this._o=h,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),l=Math.max(0,t-o);l>0&&qt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class wf{constructor(e,t,o,l,h,v,C,j){this.Jn=e,this.Ao=o,this.Ro=l,this.bo=h,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=C,this.listener=j,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Kc(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,J.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,J.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var o=this;return(0,J.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===bt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Po===t&&this.Uo(o,l)},o=>{e(()=>{const l=new Bt(bt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(l)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{o(()=>this.qo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,J.Z)(function*(){e.state=0,e.start()}))}qo(e){return qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qy extends wf{constructor(e,t,o,l,h,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,v),this.M=h}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Dy(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Dn(),l=e.targetChange.targetIds||[],h=function(j,q){return j.N?(Hn(void 0===q||"string"==typeof q),Gi.fromBase64String(q||"")):(Hn(void 0===q||q instanceof Uint8Array),Gi.fromUint8Array(q||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,C=v&&function(j){const q=void 0===j.code?bt.UNKNOWN:Rc(j.code);return new Bt(q,j.message||"")}(v);t=new by(o,l,h,C||null)}else if("documentChange"in e){const o=e.documentChange,l=Ba(i,o.document.name),h=Ls(o.document.updateTime),v=new nt({mapValue:{fields:o.document.fields}}),C=Pt.newFoundDocument(l,h,v);t=new Md(o.targetIds||[],o.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const o=e.documentDelete,l=Ba(i,o.document),h=o.readTime?Ls(o.readTime):$n.min(),v=Pt.newNoDocument(l,h);t=new Md([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,l=Ba(i,o.document);t=new Md([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Dn();{const o=e.filter,h=new Fh(o.count||0);t=new qp(o.targetId,h)}}var j;return t}(this.M,e),o=function(l){if(!("targetChange"in l))return $n.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?$n.min():h.readTime?Ls(h.readTime):$n.min()}(e);return this.listener.Ko(t,o)}Qo(e){const t={};t.database=kc(this.M),t.addTarget=function(l,h){let v;const C=h.target;return v=Ru(C)?{documents:eg(l,C)}:{query:tg(l,C)},v.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?v.resumeToken=Od(l,h.resumeToken):h.snapshotVersion.compareTo($n.min())>0&&(v.readTime=fu(l,h.snapshotVersion.toTimestamp())),v}(this.M,e);const o=function Ty(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Oo(t)}jo(e){const t={};t.database=kc(this.M),t.removeTarget=e,this.Oo(t)}}class Jy extends wf{constructor(e,t,o,l,h,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,v),this.M=h,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Cy(i,e){return i&&i.length>0?(Hn(void 0!==e),i.map(t=>function(o,l){let h=Ls(o.updateTime?o.updateTime:l);return h.isEqual($n.min())&&(h=Ls(l)),new g(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ls(e.commitTime);return this.listener.Jo(o,t)}return Hn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=kc(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Fc(this.M,o))};this.Oo(t)}}class ev extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=l,this.Zo=!1}tu(){if(this.Zo)throw new Bt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.ro(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Bt(bt.UNKNOWN,l.toString())})}co(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.co(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Bt(bt.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class Bg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(yi(t),this.su=!1):qt("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class tv{constructor(e,t,o,l,h){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=h,this.du.Br(C=>{o.enqueueAndForget((0,J.Z)(function*(){var j;wl(v)&&(qt("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,J.Z)(function*(q){const xe=fn(q);xe.lu.add(4),yield sc(xe),xe._u.set("Unknown"),xe.lu.delete(4),yield ic(xe)}),function(q){return j.apply(this,arguments)})(v))}))}),this._u=new Bg(o,l)}}function ic(i){return Df.apply(this,arguments)}function Df(){return Df=(0,J.Z)(function*(i){if(wl(i))for(const e of i.fu)yield e(!0)}),Df.apply(this,arguments)}function sc(i){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,J.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Kd.apply(this,arguments)}function Zc(i,e){const t=fn(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Tf(t)?Cf(t):Gu(t).Co()&&ea(t,e))}function Xc(i,e){const t=fn(i),o=Gu(t);t.hu.delete(e),o.Co()&&Zd(t,e),0===t.hu.size&&(o.Co()?o.ko():wl(t)&&t._u.set("Unknown"))}function ea(i,e){i.wu.Z(e.targetId),Gu(i).Qo(e)}function Zd(i,e){i.wu.Z(e),Gu(i).jo(e)}function Cf(i){i.wu=new Nc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.hu.get(e)||null}),Gu(i).start(),i._u.iu()}function Tf(i){return wl(i)&&!Gu(i).Do()&&i.hu.size>0}function wl(i){return 0===fn(i).lu.size}function Sf(i){i.wu=void 0}function nv(i){return Af.apply(this,arguments)}function Af(){return Af=(0,J.Z)(function*(i){i.hu.forEach((e,t)=>{ea(i,e)})}),Af.apply(this,arguments)}function rv(i,e){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,J.Z)(function*(i,e){Sf(i),Tf(i)?(i._u.uu(e),Cf(i)):i._u.set("Unknown")}),Qc.apply(this,arguments)}function iv(i,e,t){return xf.apply(this,arguments)}function xf(){return xf=(0,J.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof by&&2===e.state&&e.cause)try{yield(o=(0,J.Z)(function*(l,h){const v=h.cause;for(const C of h.targetIds)l.hu.has(C)&&(yield l.remoteSyncer.rejectListen(C,v),l.hu.delete(C),l.wu.removeTarget(C))}),function(l,h){return o.apply(this,arguments)})(i,e)}catch(o){qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Dl(i,o)}else if(e instanceof Md?i.wu.ut(e):e instanceof qp?i.wu._t(e):i.wu.ht(e),!t.isEqual($n.min()))try{const o=yield Ag(i.localStore);t.compareTo(o)>=0&&(yield function(l,h){const v=l.wu.yt(h);return v.targetChanges.forEach((C,j)=>{if(C.resumeToken.approximateByteSize()>0){const q=l.hu.get(j);q&&l.hu.set(j,q.withResumeToken(C.resumeToken,h))}}),v.targetMismatches.forEach(C=>{const j=l.hu.get(C);if(!j)return;l.hu.set(C,j.withResumeToken(Gi.EMPTY_BYTE_STRING,j.snapshotVersion)),Zd(l,C);const q=new gu(j.target,C,1,j.sequenceNumber);ea(l,q)}),l.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(o){qt("RemoteStore","Failed to raise snapshot:",o),yield Dl(i,o)}var o}),xf.apply(this,arguments)}function Dl(i,e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,J.Z)(function*(i,e,t){if(!pl(e))throw e;i.lu.add(1),yield sc(i),i._u.set("Offline"),t||(t=()=>Ag(i.localStore)),i.asyncQueue.enqueueRetryable((0,J.Z)(function*(){qt("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield ic(i)}))}),Jc.apply(this,arguments)}function $g(i,e){return e().catch(t=>Dl(i,t,e))}function Hu(i){return ed.apply(this,arguments)}function ed(){return ed=(0,J.Z)(function*(i){const e=fn(i),t=vu(e);let o=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;Ug(e);)try{const l=yield Mg(e.localStore,o);if(null===l){0===e.cu.length&&t.ko();break}o=l.batchId,sv(e,l)}catch(l){yield Dl(e,l)}jg(e)&&Xd(e)}),ed.apply(this,arguments)}function Ug(i){return wl(i)&&i.cu.length<10}function sv(i,e){i.cu.push(e);const t=vu(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function jg(i){return wl(i)&&!vu(i).Do()&&i.cu.length>0}function Xd(i){vu(i).start()}function W_(i){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,J.Z)(function*(i){vu(i).Xo()}),Mf.apply(this,arguments)}function Hg(i){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,J.Z)(function*(i){const e=vu(i);for(const t of i.cu)e.Ho(t.mutations)}),Qd.apply(this,arguments)}function Gg(i,e,t){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,J.Z)(function*(i,e,t){const o=i.cu.shift(),l=Zl.from(o,e,t);yield $g(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Hu(i)}),Jd.apply(this,arguments)}function zg(i,e){return wa.apply(this,arguments)}function wa(){return wa=(0,J.Z)(function*(i,e){var t;e&&vu(i).zo&&(yield(t=(0,J.Z)(function*(o,l){if(dl(h=l.code)&&h!==bt.ABORTED){const v=o.cu.shift();vu(o).No(),yield $g(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,l)),yield Hu(o)}var h}),function(o,l){return t.apply(this,arguments)})(i,e)),jg(i)&&Xd(i)}),wa.apply(this,arguments)}function td(i,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,J.Z)(function*(i,e){const t=fn(i);t.asyncQueue.verifyOperationInProgress(),qt("RemoteStore","RemoteStore received new credentials");const o=wl(t);t.lu.add(3),yield sc(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield ic(t)}),Rf.apply(this,arguments)}function Of(i,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,J.Z)(function*(i,e){const t=fn(i);e?(t.lu.delete(2),yield ic(t)):e||(t.lu.add(2),yield sc(t),t._u.set("Unknown"))}),Wg.apply(this,arguments)}function Gu(i){return i.mu||(i.mu=function(e,t,o){const l=fn(e);return l.tu(),new Qy(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:nv.bind(null,i),Jr:rv.bind(null,i),Ko:iv.bind(null,i)}),i.fu.push(function(){var e=(0,J.Z)(function*(t){t?(i.mu.No(),Tf(i)?Cf(i):i._u.set("Unknown")):(yield i.mu.stop(),Sf(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function vu(i){return i.gu||(i.gu=function(e,t,o){const l=fn(e);return l.tu(),new Jy(t,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{zr:W_.bind(null,i),Jr:zg.bind(null,i),Yo:Hg.bind(null,i),Jo:Gg.bind(null,i)}),i.fu.push(function(){var e=(0,J.Z)(function*(t){t?(i.gu.No(),yield Hu(i)):(yield i.gu.stop(),i.cu.length>0&&(qt("RemoteStore",`Stopping write stream with ${i.cu.length} pending writes`),i.cu=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class nd{constructor(e,t,o,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,o,l,h){const v=Date.now()+o,C=new nd(e,t,v,l,h);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qa(i,e){if(yi("AsyncQueue",`${e}: ${i}`),pl(i))return new Bt(bt.UNAVAILABLE,`${e}: ${i}`);throw i}class oc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||gn.comparator(t.key,o.key):(t,o)=>gn.comparator(t.key,o.key),this.keyedMap=Vh(),this.sortedSet=new zi(this.comparator)}static emptySet(e){return new oc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new oc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class eh{constructor(){this.yu=new zi(gn.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Dn():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Cl{constructor(e,t,o,l,h,v,C,j){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=h,this.fromCache=v,this.syncStateChanged=C,this.excludesMetadataChanges=j}static fromInitialDocuments(e,t,o,l){const h=[];return t.forEach(v=>{h.push({type:0,doc:v})}),new Cl(e,t,oc.emptySet(t),h,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class qg{constructor(){this.Iu=void 0,this.listeners=[]}}class Yg{constructor(){this.queries=new Va(e=>cu(e),lu),this.onlineState="Unknown",this.Tu=new Set}}function Pf(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,J.Z)(function*(i,e){const t=fn(i),o=e.query;let l=!1,h=t.queries.get(o);if(h||(l=!0,h=new qg),l)try{h.Iu=yield t.onListen(o)}catch(v){const C=qa(v,`Initialization of query '${Tc(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,h),h.listeners.push(e),e.Eu(t.onlineState),h.Iu&&e.Au(h.Iu)&&th(t)}),rd.apply(this,arguments)}function Nf(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,J.Z)(function*(i,e){const t=fn(i),o=e.query;let l=!1;const h=t.queries.get(o);if(h){const v=h.listeners.indexOf(e);v>=0&&(h.listeners.splice(v,1),l=0===h.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),kf.apply(this,arguments)}function Kg(i,e){const t=fn(i);let o=!1;for(const l of e){const v=t.queries.get(l.query);if(v){for(const C of v.listeners)C.Au(l)&&(o=!0);v.Iu=l}}o&&th(t)}function ac(i,e,t){const o=fn(i),l=o.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);o.queries.delete(e)}function th(i){i.Tu.forEach(e=>{e.next()})}class Ff{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Cl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class ov{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Tl{constructor(e){this.M=e}li(e){return Ba(this.M,e)}fi(e){return e.metadata.exists?Jp(this.M,e.document,!1):Pt.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Ls(e)}}class av{constructor(e,t,o){this.xu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zg(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Nr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new Tl(this.M);for(const l of e)if(l.metadata.queries){const h=o.li(l.metadata.name);for(const v of l.metadata.queries){const C=(t.get(v)||Jr()).add(h);t.set(v,C)}}return t}complete(){var e=this;return(0,J.Z)(function*(){const t=yield function Pg(i,e,t,o){return pf.apply(this,arguments)}(e.localStore,new Tl(e.M),e.documents,e.xu.id),o=e.ku(e.documents);for(const l of e.queries)yield Ky(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Zg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Xg{constructor(e){this.key=e}}class Qg{constructor(e){this.key=e}}class ta{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Jr(),this.mutatedKeys=Jr(),this.Lu=ul(e),this.Uu=new oc(this.Lu)}get qu(){return this.Fu}Gu(e,t){const o=t?t.Ku:new eh,l=t?t.Uu:this.Uu;let h=t?t.mutatedKeys:this.mutatedKeys,v=l,C=!1;const j=wc(this.query)&&l.size===this.query.limit?l.last():null,q=ol(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((xe,Ge)=>{const Et=l.get(xe),Ft=Hl(this.query,Ge)?Ge:null,Gt=!!Et&&this.mutatedKeys.has(Et.key),Nn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let yr=!1;Et&&Ft?Et.data.isEqual(Ft.data)?Gt!==Nn&&(o.track({type:3,doc:Ft}),yr=!0):this.Qu(Et,Ft)||(o.track({type:2,doc:Ft}),yr=!0,(j&&this.Lu(Ft,j)>0||q&&this.Lu(Ft,q)<0)&&(C=!0)):!Et&&Ft?(o.track({type:0,doc:Ft}),yr=!0):Et&&!Ft&&(o.track({type:1,doc:Et}),yr=!0,(j||q)&&(C=!0)),yr&&(Ft?(v=v.add(Ft),h=Nn?h.add(xe):h.delete(xe)):(v=v.delete(xe),h=h.delete(xe)))}),wc(this.query)||ol(this.query))for(;v.size>this.query.limit;){const xe=wc(this.query)?v.last():v.first();v=v.delete(xe.key),h=h.delete(xe.key),o.track({type:1,doc:xe})}return{Uu:v,Ku:o,ei:C,mutatedKeys:h}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const h=e.Ku.pu();h.sort((q,xe)=>function(Ge,Et){const Ft=Gt=>{switch(Gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return Ft(Ge)-Ft(Et)}(q.type,xe.type)||this.Lu(q.doc,xe.doc)),this.ju(o);const v=t?this.Wu():[],C=0===this.Bu.size&&this.current?1:0,j=C!==this.$u;return this.$u=C,0!==h.length||j?{snapshot:new Cl(this.query,e.Uu,l,h,e.mutatedKeys,0===C,j,!1),zu:v}:{zu:v}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new eh,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Jr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new Qg(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new Xg(o))}),t}Ju(e){this.Fu=e.hi,this.Bu=Jr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Cl.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Lf{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Jg{constructor(e){this.key=e,this.Xu=!1}}class em{constructor(e,t,o,l,h,v){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=v,this.Zu={},this.ta=new Va(C=>cu(C),lu),this.ea=new Map,this.na=new Set,this.sa=new zi(gn.comparator),this.ia=new Map,this.ra=new ju,this.oa={},this.ua=new Map,this.aa=mu.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function tm(i,e){return nh.apply(this,arguments)}function nh(){return nh=(0,J.Z)(function*(i,e){const t=dc(i);let o,l;const h=t.ta.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),l=h.view.Yu();else{const v=yield Uu(t.localStore,Io(e));t.isPrimaryClient&&Zc(t.remoteStore,v);const C=t.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,l=yield Vf(t,e,o,"current"===C)}return l}),nh.apply(this,arguments)}function Vf(i,e,t,o){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,J.Z)(function*(i,e,t,o){i.ha=(xe,Ge,Et)=>{return(Ft=(0,J.Z)(function*(Gt,Nn,yr,qi){let Vr=Nn.view.Gu(yr);Vr.ei&&(Vr=yield zc(Gt.localStore,Nn.query,!1).then(({documents:Vi})=>Nn.view.Gu(Vi,Vr)));const Bs=qi&&qi.targetChanges.get(Nn.targetId),Yi=Nn.view.applyChanges(Vr,Gt.isPrimaryClient,Bs);return ih(Gt,Nn.targetId,Yi.zu),Yi.snapshot}),function(Gt,Nn,yr,qi){return Ft.apply(this,arguments)})(i,xe,Ge,Et);var Ft};const l=yield zc(i.localStore,e,!0),h=new ta(e,l.hi),v=h.Gu(l.documents),C=Pc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),j=h.applyChanges(v,i.isPrimaryClient,C);ih(i,t,j.zu);const q=new Lf(e,t,h);return i.ta.set(e,q),i.ea.has(t)?i.ea.get(t).push(e):i.ea.set(t,[e]),j.snapshot}),Bf.apply(this,arguments)}function uv(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,J.Z)(function*(i,e){const t=fn(i),o=t.ta.get(e),l=t.ea.get(o.targetId);if(l.length>1)return t.ea.set(o.targetId,l.filter(h=>!lu(h,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ec(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Xc(t.remoteStore,o.targetId),Sl(t,o.targetId)}).catch(Xl))):(Sl(t,o.targetId),yield ec(t.localStore,o.targetId,!0))}),$f.apply(this,arguments)}function rm(){return rm=(0,J.Z)(function*(i,e,t){const o=Do(i);try{const l=yield function(h,v){const C=fn(h),j=Mr.now(),q=v.reduce((Ge,Et)=>Ge.add(Et.key),Jr());let xe;return C.persistence.runTransaction("Locally write mutations","readwrite",Ge=>C.ai.qs(Ge,q).next(Et=>{xe=Et;const Ft=[];for(const Gt of v){const Nn=Fn(Gt,xe.get(Gt.key));null!=Nn&&Ft.push(new os(Gt.key,Nn,_t(Nn.value.mapValue),w.exists(!0)))}return C.$s.addMutationBatch(Ge,j,Ft,v)})).then(Ge=>(Ge.applyToLocalDocumentSet(xe),{batchId:Ge.batchId,changes:xe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(h,v,C){let j=h.oa[h.currentUser.toKey()];j||(j=new zi(Sn)),j=j.insert(v,C),h.oa[h.currentUser.toKey()]=j}(o,l.batchId,t),yield Ya(o,l.changes),yield Hu(o.remoteStore)}catch(l){const h=qa(l,"Failed to persist write");t.reject(h)}}),rm.apply(this,arguments)}function Uf(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,J.Z)(function*(i,e){const t=fn(i);try{const o=yield xg(t.localStore,e);e.targetChanges.forEach((l,h)=>{const v=t.ia.get(h);v&&(Hn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?v.Xu=!0:l.modifiedDocuments.size>0?Hn(v.Xu):l.removedDocuments.size>0&&(Hn(v.Xu),v.Xu=!1))}),yield Ya(t,o,e)}catch(o){yield Xl(o)}}),jf.apply(this,arguments)}function im(i,e,t){const o=fn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ta.forEach((h,v)=>{const C=v.view.Eu(e);C.snapshot&&l.push(C.snapshot)}),function(h,v){const C=fn(h);C.onlineState=v;let j=!1;C.queries.forEach((q,xe)=>{for(const Ge of xe.listeners)Ge.Eu(v)&&(j=!0)}),j&&th(C)}(o.eventManager,e),l.length&&o.Zu.Ko(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function q_(i,e,t){return sm.apply(this,arguments)}function sm(){return sm=(0,J.Z)(function*(i,e,t){const o=fn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.ia.get(e),h=l&&l.key;if(h){let v=new zi(gn.comparator);v=v.insert(h,Pt.newNoDocument(h,$n.min()));const C=Jr().add(h),j=new Oc($n.min(),new Map,new ki(Sn),v,C);yield Uf(o,j),o.sa=o.sa.remove(h),o.ia.delete(e),lm(o)}else yield ec(o.localStore,e,!1).then(()=>Sl(o,e,t)).catch(Xl)}),sm.apply(this,arguments)}function Hf(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,J.Z)(function*(i,e){const t=fn(i),o=e.batch.batchId;try{const l=yield ff(t.localStore,e);um(t,o,null),am(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ya(t,l)}catch(l){yield Xl(l)}}),Gf.apply(this,arguments)}function om(i,e,t){return rh.apply(this,arguments)}function rh(){return rh=(0,J.Z)(function*(i,e,t){const o=fn(i);try{const l=yield function(h,v){const C=fn(h);return C.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let q;return C.$s.lookupMutationBatch(j,v).next(xe=>(Hn(null!==xe),q=xe.keys(),C.$s.removeMutationBatch(j,xe))).next(()=>C.$s.performConsistencyCheck(j)).next(()=>C.ai.qs(j,q))})}(o.localStore,e);um(o,e,t),am(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ya(o,l)}catch(l){yield Xl(l)}}),rh.apply(this,arguments)}function Bo(){return Bo=(0,J.Z)(function*(i,e){const t=fn(i);wl(t.remoteStore)||qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const v=fn(h);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>v.$s.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===o)return void e.resolve();const l=t.ua.get(o)||[];l.push(e),t.ua.set(o,l)}catch(o){const l=qa(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Bo.apply(this,arguments)}function am(i,e){(i.ua.get(e)||[]).forEach(t=>{t.resolve()}),i.ua.delete(e)}function um(i,e,t){const o=fn(i);let l=o.oa[o.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),o.oa[o.currentUser.toKey()]=l}}function Sl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ea.get(e))i.ta.delete(o),t&&i.Zu.la(o,t);i.ea.delete(e),i.isPrimaryClient&&i.ra.Ri(e).forEach(o=>{i.ra.containsKey(o)||zf(i,o)})}function zf(i,e){i.na.delete(e.path.canonicalString());const t=i.sa.get(e);null!==t&&(Xc(i.remoteStore,t),i.sa=i.sa.remove(e),i.ia.delete(t),lm(i))}function ih(i,e,t){for(const o of t)o instanceof Xg?(i.ra.addReference(o.key,e),lv(i,o)):o instanceof Qg?(qt("SyncEngine","Document no longer in limbo: "+o.key),i.ra.removeReference(o.key,e),i.ra.containsKey(o.key)||zf(i,o.key)):Dn()}function lv(i,e){const t=e.key,o=t.path.canonicalString();i.sa.get(t)||i.na.has(o)||(qt("SyncEngine","New document in limbo: "+t),i.na.add(o),lm(i))}function lm(i){for(;i.na.size>0&&i.sa.size<i.maxConcurrentLimboResolutions;){const e=i.na.values().next().value;i.na.delete(e);const t=new gn(Nr.fromString(e)),o=i.aa.next();i.ia.set(o,new Jg(t)),i.sa=i.sa.insert(t,o),Zc(i.remoteStore,new gu(Io(Pu(t.path)),o,2,ln.A))}}function Ya(i,e,t){return id.apply(this,arguments)}function id(){return id=(0,J.Z)(function*(i,e,t){const o=fn(i),l=[],h=[],v=[];var C;o.ta.isEmpty()||(o.ta.forEach((C,j)=>{v.push(o.ha(j,e,t).then(q=>{if(q){o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,q.fromCache?"not-current":"current"),l.push(q);const xe=Sg.Js(j.targetId,q);h.push(xe)}}))}),yield Promise.all(v),o.Zu.Ko(l),yield(C=(0,J.Z)(function*(j,q){const xe=fn(j);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ge=>St.forEach(q,Et=>St.forEach(Et.zs,Ft=>xe.persistence.referenceDelegate.addReference(Ge,Et.targetId,Ft)).next(()=>St.forEach(Et.Hs,Ft=>xe.persistence.referenceDelegate.removeReference(Ge,Et.targetId,Ft)))))}catch(Ge){if(!pl(Ge))throw Ge;qt("LocalStore","Failed to update sequence numbers: "+Ge)}for(const Ge of q){const Et=Ge.targetId;if(!Ge.fromCache){const Ft=xe.si.get(Et),Nn=Ft.withLastLimboFreeSnapshotVersion(Ft.snapshotVersion);xe.si=xe.si.insert(Et,Nn)}}}),function(j,q){return C.apply(this,arguments)})(o.localStore,h))}),id.apply(this,arguments)}function cv(i,e){return sd.apply(this,arguments)}function sd(){return sd=(0,J.Z)(function*(i,e){const t=fn(i);if(!t.currentUser.isEqual(e)){qt("SyncEngine","User change. New user:",e.toKey());const o=yield Yy(t.localStore,e);t.currentUser=e,(l=t).ua.forEach(v=>{v.forEach(C=>{C.reject(new Bt(bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.ua.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ya(t,o.ci)}var l}),sd.apply(this,arguments)}function dv(i,e){const t=fn(i),o=t.ia.get(e);if(o&&o.Xu)return Jr().add(o.key);{let l=Jr();const h=t.ea.get(e);if(!h)return l;for(const v of h){const C=t.ta.get(v);l=l.unionWith(C.view.qu)}return l}}function hv(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,J.Z)(function*(i,e){const t=fn(i),o=yield zc(t.localStore,e.query,!0),l=e.view.Ju(o);return t.isPrimaryClient&&ih(t,e.targetId,l.zu),l}),Wf.apply(this,arguments)}function fv(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,J.Z)(function*(i,e){const t=fn(i);return zd(t.localStore,e).then(o=>Ya(t,o))}),qf.apply(this,arguments)}function pv(i,e,t,o){return uc.apply(this,arguments)}function uc(){return uc=(0,J.Z)(function*(i,e,t,o){const l=fn(i),h=yield function(v,C){const j=fn(v),q=fn(j.$s);return j.persistence.runTransaction("Lookup mutation documents","readonly",xe=>q.ln(xe,C).next(Ge=>Ge?j.ai.qs(xe,Ge):St.resolve(null)))}(l.localStore,e);var C;null!==h?("pending"===t?yield Hu(l.remoteStore):"acknowledged"===t||"rejected"===t?(um(l,e,o||null),am(l,e),C=e,fn(fn(l.localStore).$s).dn(C)):Dn(),yield Ya(l,h)):qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),uc.apply(this,arguments)}function Yf(){return Yf=(0,J.Z)(function*(i,e){const t=fn(i);if(dc(t),Do(t),!0===e&&!0!==t.ca){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield cc(t,o.toArray());t.ca=!0,yield Of(t.remoteStore,!0);for(const h of l)Zc(t.remoteStore,h)}else if(!1===e&&!1!==t.ca){const o=[];let l=Promise.resolve();t.ea.forEach((h,v)=>{t.sharedClientState.isLocalQueryTarget(v)?o.push(v):l=l.then(()=>(Sl(t,v),ec(t.localStore,v,!0))),Xc(t.remoteStore,v)}),yield l,yield cc(t,o),function(h){const v=fn(h);v.ia.forEach((C,j)=>{Xc(v.remoteStore,j)}),v.ra.bi(),v.ia=new Map,v.sa=new zi(gn.comparator)}(t),t.ca=!1,yield Of(t.remoteStore,!1)}}),Yf.apply(this,arguments)}function cc(i,e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,J.Z)(function*(i,e,t){const o=fn(i),l=[],h=[];for(const v of e){let C;const j=o.ea.get(v);if(j&&0!==j.length){C=yield Uu(o.localStore,Io(j[0]));for(const q of j){const xe=o.ta.get(q),Ge=yield hv(o,xe);Ge.snapshot&&h.push(Ge.snapshot)}}else{const q=yield Rg(o.localStore,v);C=yield Uu(o.localStore,q),yield Vf(o,cm(q),v,!1)}l.push(C)}return o.Zu.Ko(h),l}),Kf.apply(this,arguments)}function cm(i){return Ou(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Zf(i){const e=fn(i);return fn(fn(e.localStore).persistence).Os()}function Ka(i,e,t,o){return Al.apply(this,arguments)}function Al(){return Al=(0,J.Z)(function*(i,e,t,o){const l=fn(i);if(l.ca)return void qt("SyncEngine","Ignoring unexpected query state notification.");const h=l.ea.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const v=yield zd(l.localStore,Ph(h[0])),C=Oc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ya(l,v,C);break}case"rejected":yield ec(l.localStore,e,!0),Sl(l,e,o);break;default:Dn()}}),Al.apply(this,arguments)}function Qs(i,e,t){return _u.apply(this,arguments)}function _u(){return _u=(0,J.Z)(function*(i,e,t){const o=dc(i);if(o.ca){for(const l of e){if(o.ea.has(l)){qt("SyncEngine","Adding an already active target "+l);continue}const h=yield Rg(o.localStore,l),v=yield Uu(o.localStore,h);yield Vf(o,cm(h),v.targetId,!1),Zc(o.remoteStore,v)}for(const l of t)o.ea.has(l)&&(yield ec(o.localStore,l,!1).then(()=>{Xc(o.remoteStore,l),Sl(o,l)}).catch(Xl))}}),_u.apply(this,arguments)}function dc(i){const e=fn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q_.bind(null,e),e.Zu.Ko=Kg.bind(null,e.eventManager),e.Zu.la=ac.bind(null,e.eventManager),e}function Do(i){const e=fn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=om.bind(null,e),e}class xl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,J.Z)(function*(){t.M=Yc(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return qy(this.persistence,new Wy,e.initialUser,this.M)}_a(e){return new mf(Wd.Wi,this.M)}da(e){return new Lg}terminate(){var e=this;return(0,J.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ml extends xl{constructor(e,t,o){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,J.Z)(function*(){yield t().call(o,e),yield o.ga.initialize(o,e),yield Do(o.ga.syncEngine),yield Hu(o.ga.remoteStore),yield o.persistence.Is(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ma(e){return qy(this.persistence,new Wy,e.initialUser,this.M)}wa(e){return new uf(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Tg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new Cg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,bf(),If(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Lg}}class hc extends Ml{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,J.Z)(function*(){yield t().call(o,e);const l=o.ga.syncEngine;o.sharedClientState instanceof Ef&&(o.sharedClientState.syncEngine={kr:pv.bind(null,l),Mr:Ka.bind(null,l),Or:Qs.bind(null,l),Os:Zf.bind(null,l),Nr:fv.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Is(function(){var h=(0,J.Z)(function*(v){yield function lc(i,e){return Yf.apply(this,arguments)}(o.ga.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return h.apply(this,arguments)}}())})()}da(e){const t=bf();if(!Ef.vt(t))throw new Bt(bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Tg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ef(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class zu{initialize(e,t){var o=this;return(0,J.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>im(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=cv.bind(null,o.syncEngine),yield Of(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Yg}createDatastore(e){const t=Yc(e.databaseInfo.databaseId),o=new z_(e.databaseInfo);return new ev(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,h=C=>im(this.syncEngine,C,0),v=Vg.vt()?new Vg:new Vo,new tv(t,o,l,h,v);var t,o,l,h,v}createSyncEngine(e,t){return function(o,l,h,v,C,j,q){const xe=new em(o,l,h,v,C,j);return q&&(xe.ca=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,J.Z)(function*(t){const o=fn(t);qt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield sc(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rl(i,e=10240){let t=0;return{read:()=>(0,J.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,J.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Eu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fc{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new rs,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,J.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,J.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,J.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const o=e.Ta.decode(t),l=Number(o);isNaN(l)&&e.Ra(`length string (${o}) is not valid number`);const h=yield e.ba(l);return new ov(JSON.parse(h),t.length+l)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,J.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,J.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const o=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,J.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class pc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,J.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Bt(bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,J.Z)(function*(h,v){const C=fn(h),j=kc(C.M)+"/documents",q={documents:v.map(Ft=>zl(C.M,Ft))},xe=yield C.co("BatchGetDocuments",j,q),Ge=new Map;xe.forEach(Ft=>{const Gt=function Bh(i,e){return"found"in e?function(t,o){Hn(!!o.found);const l=Ba(t,o.found.name),h=Ls(o.found.updateTime),v=new nt({mapValue:{fields:o.found.fields}});return Pt.newFoundDocument(l,h,v)}(i,e):"missing"in e?function(t,o){Hn(!!o.missing),Hn(!!o.readTime);const l=Ba(t,o.missing),h=Ls(o.readTime);return Pt.newNoDocument(l,h)}(i,e):Dn()}(C.M,Ft);Ge.set(Gt.key.toString(),Gt)});const Et=[];return v.forEach(Ft=>{const Gt=Ge.get(Ft.toString());Hn(!!Gt),Et.push(Gt)}),Et}),function(h,v){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,J.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const h=gn.fromPath(l);e.mutations.push(new Mc(h,e.precondition(h)))}),yield(o=(0,J.Z)(function*(l,h){const v=fn(l),C=kc(v.M)+"/documents",j={writes:h.map(q=>Fc(v.M,q))};yield v.ro("Commit",C,j)}),function(l,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dn();t=$n.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Bt(bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?w.updateTime(t):w.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($n.min()))throw new Bt(bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return w.updateTime(t)}return w.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gc{constructor(e,t,o,l){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=l,this.va=5,this.So=new Kc(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,J.Z)(function*(){const t=new pc(e.datastore),o=e.Da(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.Ca(h)}))}).catch(l=>{e.Ca(l)})}))}Da(e){try{const t=this.updateFunction(e);return!Ts(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!dl(t)}return!1}}class dm{constructor(e,t,o,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=ji.UNAUTHENTICATED,this.clientId=On.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,J.Z)(function*(C){qt("FirestoreClient","Received user=",C.uid),yield h.authCredentialListener(C),h.user=C});return function(C){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(qt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,J.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=qa(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Qf(i,e){return sh.apply(this,arguments)}function sh(){return sh=(0,J.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,J.Z)(function*(h){o.isEqual(h)||(yield Yy(e.localStore,h),o=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),sh.apply(this,arguments)}function Jf(i,e){return oh.apply(this,arguments)}function oh(){return oh=(0,J.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield ah(i);qt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>td(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>td(e.remoteStore,h)),i.onlineComponents=e}),oh.apply(this,arguments)}function ah(i){return uh.apply(this,arguments)}function uh(){return uh=(0,J.Z)(function*(i){return i.offlineComponents||(qt("FirestoreClient","Using default OfflineComponentProvider"),yield Qf(i,new xl)),i.offlineComponents}),uh.apply(this,arguments)}function od(i){return lh.apply(this,arguments)}function lh(){return lh=(0,J.Z)(function*(i){return i.onlineComponents||(qt("FirestoreClient","Using default OnlineComponentProvider"),yield Jf(i,new zu)),i.onlineComponents}),lh.apply(this,arguments)}function hm(i){return ah(i).then(e=>e.persistence)}function ch(i){return ah(i).then(e=>e.localStore)}function fm(i){return od(i).then(e=>e.remoteStore)}function ep(i){return od(i).then(e=>e.syncEngine)}function Ol(i){return tp.apply(this,arguments)}function tp(){return tp=(0,J.Z)(function*(i){const e=yield od(i),t=e.eventManager;return t.onListen=tm.bind(null,e.syncEngine),t.onUnlisten=uv.bind(null,e.syncEngine),t}),tp.apply(this,arguments)}function np(i,e,t={}){const o=new rs;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(l,h,v,C,j){const q=new Eu({next:Ge=>{h.enqueueAndForget(()=>Nf(l,xe));const Et=Ge.docs.has(v);!Et&&Ge.fromCache?j.reject(new Bt(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):Et&&Ge.fromCache&&C&&"server"===C.source?j.reject(new Bt(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ge)},error:Ge=>j.reject(Ge)}),xe=new Ff(Pu(v.path),q,{includeMetadataChanges:!0,Du:!0});return Pf(l,xe)}(yield Ol(i),i.asyncQueue,e,t,o)})),o.promise}function gm(i,e,t={}){const o=new rs;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(l,h,v,C,j){const q=new Eu({next:Ge=>{h.enqueueAndForget(()=>Nf(l,xe)),Ge.fromCache&&"server"===C.source?j.reject(new Bt(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ge)},error:Ge=>j.reject(Ge)}),xe=new Ff(v,q,{includeMetadataChanges:!0,Du:!0});return Pf(l,xe)}(yield Ol(i),i.asyncQueue,e,t,o)})),o.promise}const mm=new Map;function ym(i,e,t){if(!t)throw new Bt(bt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _v(i,e,t,o){if(!0===e&&!0===o)throw new Bt(bt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Ev(i){if(!gn.isDocumentKey(i))throw new Bt(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vm(i){if(gn.isDocumentKey(i))throw new Bt(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ad(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Dn()}function Wr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Bt(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ad(i);throw new Bt(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function _m(i,e){if(e<=0)throw new Bt(bt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Pl{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_v("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pl({}),this._settingsFrozen=!1,e instanceof _o?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Bt(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(l.options.projectId)}(e))}get app(){if(!this._app)throw new Bt(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pl(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new E;switch(t.type){case"gapi":const o=t.client;return Hn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new X(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Bt(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mm.get(e);t&&(qt("ComponentProvider","Removing Datastore"),mm.delete(e),t.terminate())}(this),Promise.resolve()}}class Fi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fi(this.firestore,e,this._key)}}class zs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class $o extends zs{constructor(e,t,o){super(e,t,Pu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fi(this.firestore,null,new gn(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function bm(i,e,...t){if(i=(0,lt.m9)(i),ym("collection","path",e),i instanceof ud){const o=Nr.fromString(e,...t);return vm(o),new $o(i,null,o)}{if(!(i instanceof Fi||i instanceof $o))throw new Bt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nr.fromString(e,...t));return vm(o),new $o(i.firestore,null,o)}}function dh(i,e,...t){if(i=(0,lt.m9)(i),1===arguments.length&&(e=On.R()),ym("doc","path",e),i instanceof ud){const o=Nr.fromString(e,...t);return Ev(o),new Fi(i,null,new gn(o))}{if(!(i instanceof Fi||i instanceof $o))throw new Bt(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nr.fromString(e,...t));return Ev(o),new Fi(i.firestore,i instanceof $o?i.converter:null,new gn(o))}}function wm(i,e){return i=(0,lt.m9)(i),e=(0,lt.m9)(e),(i instanceof Fi||i instanceof $o)&&(e instanceof Fi||e instanceof $o)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Dm(i,e){return i=(0,lt.m9)(i),e=(0,lt.m9)(e),i instanceof zs&&e instanceof zs&&i.firestore===e.firestore&&lu(i._query,e._query)&&i.converter===e.converter}class bv{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Kc(this,"async_queue_retry"),this.Ua=()=>{const t=If();t&&qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=If();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=If();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new rs;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,J.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!pl(t))throw t;qt("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(o=>{throw this.Fa=o,this.$a=!1,yi("INTERNAL UNHANDLED ERROR: ",function(h){let v=h.message||"";return h.stack&&(v=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),v}(o)),o}).then(o=>(this.$a=!1,o))));return this.Na=t,t}enqueueAfterDelay(e,t,o){this.qa(),this.La.indexOf(e)>-1&&(t=0);const l=nd.createAndSchedule(this,e,t,o,h=>this.Qa(h));return this.Oa.push(l),l}qa(){this.Fa&&Dn()}verifyOperationInProgress(){}ja(){var e=this;return(0,J.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function sp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Cm{constructor(){this._progressObserver={},this._taskCompletionResolver=new rs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Li extends ud{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new bv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hh(this),this._firestoreClient.terminate()}}function xs(i){return i._firestoreClient||hh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function hh(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ro(i._databaseId,h,i._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var h,C;i._firestoreClient=new dm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function mc(i,e,t){const o=new rs;return i.asyncQueue.enqueue((0,J.Z)(function*(){try{yield Qf(i,t),yield Jf(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===bt.FAILED_PRECONDITION||h.code===bt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var h})).then(()=>o.promise)}function Tv(i){if(i._initialized||i._terminated)throw new Bt(bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Bt(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Gi.fromBase64String(e))}catch(t){throw new Bt(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(Gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Iu{constructor(e){this._methodName=e}}class ld{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sn(this._lat,e._lat)||Sn(this._long,e._long)}}const dp=/^__.*__$/;class Am{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fr(e,this.data,t,this.fieldTransforms)}}class hp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ph(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class cd{constructor(e,t,o,l,h,v){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=l,void 0===h&&this.Ja(),this.fieldTransforms=h||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:o,tc:!1});return l.ec(e),l}nc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.Xa({path:o,tc:!1});return l.Ja(),l}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return vh(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(ph(this.Ya)&&dp.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Sv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Yc(e)}uc(e,t,o,l=!1){return new cd({Ya:e,methodName:t,oc:o,path:is.emptyPath(),tc:!1,rc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Wu(i){const e=i._freezeSettings(),t=Yc(i._databaseId);return new Sv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function dd(i,e,t,o,l,h={}){const v=i.uc(h.merge||h.mergeFields?2:0,e,t,l);mh("Data must be an object, but it was:",v,o);const C=yp(o,v);let j,q;if(h.merge)j=new ma(v.fieldMask),q=v.fieldTransforms;else if(h.mergeFields){const xe=[];for(const Ge of h.mergeFields){const Et=yh(e,Ge,t);if(!v.contains(Et))throw new Bt(bt.INVALID_ARGUMENT,`Field '${Et}' is specified in your field mask but missing from your input data.`);Om(xe,Et)||xe.push(Et)}j=new ma(xe),q=v.fieldTransforms.filter(Ge=>j.covers(Ge.field))}else j=null,q=v.fieldTransforms;return new Am(new nt(C),j,q)}class Nl extends Iu{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nl}}function fp(i,e,t){return new cd({Ya:3,oc:e.settings.oc,methodName:i._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class pp extends Iu{_toFieldTransform(e){return new b(e.path,new La)}isEqual(e){return e instanceof pp}}class xm extends Iu{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=fp(this,e,!0),o=this.ac.map(h=>qu(h,t)),l=new hu(o);return new b(e.path,l)}isEqual(e){return this===e}}class Mm extends Iu{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=fp(this,e,!0),o=this.ac.map(h=>qu(h,t)),l=new wo(o);return new b(e.path,l)}isEqual(e){return this===e}}class gp extends Iu{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new cl(e.M,xc(e.M,this.cc));return new b(e.path,t)}isEqual(e){return this===e}}function hd(i,e,t,o){const l=i.uc(1,e,t);mh("Data must be an object, but it was:",l,o);const h=[],v=nt.empty();Ns(o,(j,q)=>{const xe=_p(e,j,t);q=(0,lt.m9)(q);const Ge=l.nc(xe);if(q instanceof Nl)h.push(xe);else{const Et=qu(q,Ge);null!=Et&&(h.push(xe),v.set(xe,Et))}});const C=new ma(h);return new hp(v,C,l.fieldTransforms)}function gh(i,e,t,o,l,h){const v=i.uc(1,e,t),C=[yh(e,o,t)],j=[l];if(h.length%2!=0)throw new Bt(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Et=0;Et<h.length;Et+=2)C.push(yh(e,h[Et])),j.push(h[Et+1]);const q=[],xe=nt.empty();for(let Et=C.length-1;Et>=0;--Et)if(!Om(q,C[Et])){const Ft=C[Et];let Gt=j[Et];Gt=(0,lt.m9)(Gt);const Nn=v.nc(Ft);if(Gt instanceof Nl)q.push(Ft);else{const yr=qu(Gt,Nn);null!=yr&&(q.push(Ft),xe.set(Ft,yr))}}const Ge=new ma(q);return new hp(xe,Ge,v.fieldTransforms)}function mp(i,e,t,o=!1){return qu(t,i.uc(o?4:3,e))}function qu(i,e){if(vp(i=(0,lt.m9)(i)))return mh("Unsupported field value:",e,i),yp(i,e);if(i instanceof Iu)return function(t,o){if(!ph(o.Ya))throw o.ic(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ic(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,o){const l=[];let h=0;for(const v of t){let C=qu(v,o.sc(h));null==C&&(C={nullValue:"NULL_VALUE"}),l.push(C),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,lt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xc(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Mr.fromDate(t);return{timestampValue:fu(o.M,l)}}if(t instanceof Mr){const l=new Mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fu(o.M,l)}}if(t instanceof ld)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uo)return{bytesValue:Od(o.M,t._byteString)};if(t instanceof Fi){const l=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw o.ic(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ic(`Unsupported field value: ${ad(t)}`)}(i,e)}function yp(i,e){const t={};return qo(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(i,(o,l)=>{const h=qu(l,e.Za(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function vp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Mr||i instanceof ld||i instanceof Uo||i instanceof Fi||i instanceof Iu)}function mh(i,e,t){if(!vp(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ad(t);throw e.ic("an object"===o?i+" a custom object":i+" "+o)}var o}function yh(i,e,t){if((e=(0,lt.m9)(e))instanceof bu)return e._internalPath;if("string"==typeof e)return _p(i,e);throw vh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Rm=new RegExp("[~\\*/\\[\\]]");function _p(i,e,t){if(e.search(Rm)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new bu(...e.split("."))._internalPath}catch(o){throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function vh(i,e,t,o,l){const h=o&&!o.isEmpty(),v=void 0!==l;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let j="";return(h||v)&&(j+=" (found",h&&(j+=` in field ${o}`),v&&(j+=` in document ${l}`),j+=")"),new Bt(bt.INVALID_ARGUMENT,C+i+j)}function Om(i,e){return i.some(t=>t.isEqual(e))}class yc{constructor(e,t,o,l,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Av(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(us("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Av extends yc{data(){return super.data()}}function us(i,e){return"string"==typeof e?_p(i,e):e instanceof bu?e._internalPath:e._delegate._internalPath}class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wu extends yc{constructor(e,t,o,l,h,v){super(e,t,o,l,v),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(us("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class fd extends wu{data(e={}){return super.data(e)}}class Du{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Yu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new fd(this._firestore,this._userDataWriter,o.key,o,new Yu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new fd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Yu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>l||3!==v.type).map(v=>{const C=new fd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Yu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,q=-1;return 0!==v.type&&(j=h.indexOf(v.doc.key),h=h.delete(v.doc.key)),1!==v.type&&(h=h.add(v.doc),q=h.indexOf(v.doc.key)),{type:xv(v.type),doc:C,oldIndex:j,newIndex:q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}function Ep(i,e){return i instanceof wu&&e instanceof wu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Du&&e instanceof Du&&i._firestore===e._firestore&&Dm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function bp(i){if(ol(i)&&0===i.explicitOrderBy.length)throw new Bt(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Za{}function Ku(i,...e){for(const t of e)i=t._apply(i);return i}class Mv extends Za{constructor(e,t,o){super(),this.hc=e,this.lc=t,this.fc=o,this.type="where"}_apply(e){const t=Wu(e.firestore),o=function(l,h,v,C,j,q,xe){let Ge;if(j.isKeyField()){if("array-contains"===q||"array-contains-any"===q)throw new Bt(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${q}' queries on documentId().`);if("in"===q||"not-in"===q){Fm(xe,q);const Ft=[];for(const Gt of xe)Ft.push(Dp(C,l,Gt));Ge={arrayValue:{values:Ft}}}else Ge=Dp(C,l,xe)}else"in"!==q&&"not-in"!==q&&"array-contains-any"!==q||Fm(xe,q),Ge=mp(v,"where",xe,"in"===q||"not-in"===q);const Et=_s.create(j,q,Ge);return function(Ft,Gt){if(Gt.S()){const yr=Dd(Ft);if(null!==yr&&!yr.isEqual(Gt.field))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${yr.toString()}' and '${Gt.field.toString()}'`);const qi=Dc(Ft);null!==qi&&Lm(0,Gt.field,qi)}const Nn=function(yr,qi){for(const Vr of yr.filters)if(qi.indexOf(Vr.op)>=0)return Vr.op;return null}(Ft,function(yr){switch(yr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Gt.op));if(null!==Nn)throw new Bt(bt.INVALID_ARGUMENT,Nn===Gt.op?`Invalid query. You cannot use more than one '${Gt.op.toString()}' filter.`:`Invalid query. You cannot use '${Gt.op.toString()}' filters with '${Nn.toString()}' filters.`)}(l,Et),Et}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new zs(e.firestore,e.converter,function(l,h){const v=l.filters.concat([h]);return new Ks(l.path,l.collectionGroup,l.explicitOrderBy.slice(),v,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class Rv extends Za{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(o,l,h){if(null!==o.startAt)throw new Bt(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Bt(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new ba(l,h);return function(C,j){if(null===Dc(C)){const q=Dd(C);null!==q&&Lm(0,q,j.field)}}(o,v),v}(e._query,this.hc,this.dc);return new zs(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new Ks(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Ov extends Za{constructor(e,t,o){super(),this.type=e,this._c=t,this.wc=o}_apply(e){return new zs(e.firestore,e.converter,al(e._query,this._c,this.wc))}}class Da extends Za{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=wp(e,this.type,this.mc,this.gc);return new zs(e.firestore,e.converter,(l=t,new Ks((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class Ca extends Za{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=wp(e,this.type,this.mc,this.gc);return new zs(e.firestore,e.converter,(l=t,new Ks((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function wp(i,e,t,o){if(t[0]=(0,lt.m9)(t[0]),t[0]instanceof yc)return function(l,h,v,C,j){if(!C)throw new Bt(bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const q=[];for(const xe of Fa(l))if(xe.field.isKeyField())q.push(No(h,C.key));else{const Ge=C.data.field(xe.field);if(ya(Ge))throw new Bt(bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+xe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ge){const Et=xe.field.canonicalString();throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Et}' (used as the orderBy) does not exist.`)}q.push(Ge)}return new Zo(q,j)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=Wu(i.firestore);return function(h,v,C,j,q,xe){const Ge=h.explicitOrderBy;if(q.length>Ge.length)throw new Bt(bt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Et=[];for(let Ft=0;Ft<q.length;Ft++){const Gt=q[Ft];if(Ge[Ft].field.isKeyField()){if("string"!=typeof Gt)throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Gt}`);if(!Cc(h)&&-1!==Gt.indexOf("/"))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Gt}' contains a slash.`);const Nn=h.path.child(Nr.fromString(Gt));if(!gn.isDocumentKey(Nn))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Nn}' is not because it contains an odd number of segments.`);const yr=new gn(Nn);Et.push(No(v,yr))}else{const Nn=mp(C,j,Gt);Et.push(Nn)}}return new Zo(Et,xe)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Dp(i,e,t){if("string"==typeof(t=(0,lt.m9)(t))){if(""===t)throw new Bt(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cc(e)&&-1!==t.indexOf("/"))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Nr.fromString(t));if(!gn.isDocumentKey(o))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return No(i,new gn(o))}if(t instanceof Fi)return No(i,t._key);throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(t)}.`)}function Fm(i,e){if(!Array.isArray(i)||0===i.length)throw new Bt(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Bt(bt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Lm(i,e,t){if(!t.isEqual(e))throw new Bt(bt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Cp{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dn()}}convertObject(e,t){const o={};return Ns(e.fields,(l,h)=>{o[l]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new ld(Pi(e.latitude),Pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=vi(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Mo(e));default:return null}}convertTimestamp(e){const t=xo(e);return new Mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Nr.fromString(e);Hn(rg(o));const l=new _o(o.get(1),o.get(3)),h=new gn(o.popFirst(5));return l.isEqual(t)||yi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function _h(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Tp extends Cp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,t)}}class vc{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wu(e)}set(e,t,o){this._verifyNotCommitted();const l=Zu(e,this._firestore),h=_h(l.converter,t,o),v=dd(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,o);return this._mutations.push(v.toMutation(l._key,w.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const h=Zu(e,this._firestore);let v;return v="string"==typeof(t=(0,lt.m9)(t))||t instanceof bu?gh(this._dataReader,"WriteBatch.update",h._key,t,o,l):hd(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(v.toMutation(h._key,w.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zu(e,this._firestore);return this._mutations=this._mutations.concat(new ku(t._key,w.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zu(i,e){if((i=(0,lt.m9)(i)).firestore!==e)throw new Bt(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class kl extends Cp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,t)}}function Sp(i,e,t){i=Wr(i,Fi);const o=Wr(i.firestore,Li),l=_h(i.converter,e,t);return Fl(o,[dd(Wu(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,w.none())])}function bh(i,e,t,...o){i=Wr(i,Fi);const l=Wr(i.firestore,Li),h=Wu(l);let v;return v="string"==typeof(e=(0,lt.m9)(e))||e instanceof bu?gh(h,"updateDoc",i._key,e,t,o):hd(h,"updateDoc",i._key,e),Fl(l,[v.toMutation(i._key,w.exists(!0))])}function Ap(i,...e){var t,o,l;i=(0,lt.m9)(i);let h={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||sp(e[v])||(h=e[v],v++);const C={includeMetadataChanges:h.includeMetadataChanges};if(sp(e[v])){const Ge=e[v];e[v]=null===(t=Ge.next)||void 0===t?void 0:t.bind(Ge),e[v+1]=null===(o=Ge.error)||void 0===o?void 0:o.bind(Ge),e[v+2]=null===(l=Ge.complete)||void 0===l?void 0:l.bind(Ge)}let j,q,xe;if(i instanceof Fi)q=Wr(i.firestore,Li),xe=Pu(i._key.path),j={next:Ge=>{e[v]&&e[v](wh(q,i,Ge))},error:e[v+1],complete:e[v+2]};else{const Ge=Wr(i,zs);q=Wr(Ge.firestore,Li),xe=Ge._query;const Et=new kl(q);j={next:Ft=>{e[v]&&e[v](new Du(q,Et,Ge,Ft))},error:e[v+1],complete:e[v+2]},bp(i._query)}return function(Ge,Et,Ft,Gt){const Nn=new Eu(Gt),yr=new Ff(Et,Nn,Ft);return Ge.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return Pf(yield Ol(Ge),yr)})),()=>{Nn.pa(),Ge.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return Nf(yield Ol(Ge),yr)}))}}(xs(q),xe,C,j)}function Fl(i,e){return function(t,o){const l=new rs;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function nm(i,e,t){return rm.apply(this,arguments)}(yield ep(t),o,l)})),l.promise}(xs(i),e)}function wh(i,e,t){const o=t.docs.get(e._key),l=new kl(i);return new wu(i,l,e._key,o,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}class Gm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Wu(e)}get(e){const t=Zu(e,this._firestore),o=new Tp(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Dn();const h=l[0];if(h.isFoundDocument())return new yc(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new yc(this._firestore,o,t._key,null,t.converter);throw Dn()})}set(e,t,o){const l=Zu(e,this._firestore),h=_h(l.converter,t,o),v=dd(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,o);return this._transaction.set(l._key,v),this}update(e,t,o,...l){const h=Zu(e,this._firestore);let v;return v="string"==typeof(t=(0,lt.m9)(t))||t instanceof bu?gh(this._dataReader,"Transaction.update",h._key,t,o,l):hd(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,v),this}delete(e){const t=Zu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zu(e,this._firestore),o=new kl(this._firestore);return super.get(e).then(l=>new wu(this._firestore,o,t._key,l._document,new Yu(!1,!1),t.converter))}}function xp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Bt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ym(){if("undefined"==typeof Uint8Array)throw new Bt("unimplemented","Uint8Arrays are not available in this environment.")}function Km(){if(!function _d(){return"undefined"!=typeof atob}())throw new Bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Hs=Qe.SDK_VERSION,(0,Qe._registerComponent)(new we.wA("firestore",(t,{options:o})=>{const l=t.getProvider("app").getImmediate(),h=new Li(l,new R(t.getProvider("auth-internal")),new Ue(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,Qe.registerVersion)(vo,"3.4.7",i),(0,Qe.registerVersion)(vo,"3.4.7","esm2017")}();class pd{constructor(e){this._delegate=e}static fromBase64String(e){return Km(),new pd(Uo.fromBase64String(e))}static fromUint8Array(e){return Ym(),new pd(Uo.fromUint8Array(e))}toBase64(){return Km(),this._delegate.toBase64()}toUint8Array(){return Ym(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mp(i){return function jv(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Hv{enableIndexedDbPersistence(e,t){return function Dv(i,e){Tv(i=Wr(i,Li));const t=xs(i),o=i._freezeSettings(),l=new zu;return mc(t,l,new Ml(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Z_(i){Tv(i=Wr(i,Li));const e=xs(i),t=i._freezeSettings(),o=new zu;return mc(e,o,new hc(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Sm(i){if(i._initialized&&!i._terminated)throw new Bt(bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new rs;return i._queue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{yield(t=(0,J.Z)(function*(o){if(!Fo.vt())return Promise.resolve();const l=o+"main";yield Fo.delete(l)}),function(o){return t.apply(this,arguments)})(Tg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Zm{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof _o||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ps("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Em(i,e,t,o={}){var l;const h=(i=Wr(i,ud))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&ps("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let v,C;if("string"==typeof o.mockUserToken)v=o.mockUserToken,C=ji.MOCK_USER;else{v=(0,lt.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new Bt(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new ji(j)}i._authCredentials=new _(new D(v,C))}}(this._delegate,e,t,o)}enableNetwork(){return function ap(i){return function gv(i){return i.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield hm(i),t=yield fm(i);return e.setNetworkEnabled(!0),function(o){const l=fn(o);return l.lu.delete(0),ic(l)}(t)}))}(xs(i=Wr(i,Li)))}(this._delegate)}disableNetwork(){return function Cv(i){return function pm(i){return i.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield hm(i),t=yield fm(i);return e.setNetworkEnabled(!1),(o=(0,J.Z)(function*(l){const h=fn(l);h.lu.add(0),yield sc(h),h._u.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(xs(i=Wr(i,Li)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,_v("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function op(i){return function(e){const t=new rs;return e.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function Y_(i,e){return Bo.apply(this,arguments)}(yield ep(e),t)})),t.promise}(xs(i=Wr(i,Li)))}(this._delegate)}onSnapshotsInSync(e){return function Hm(i,e){return function K_(i,e){const t=new Eu(e);return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return o=yield Ol(i),l=t,fn(o).Tu.add(l),void l.next();var o,l})),()=>{t.pa(),i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return o=yield Ol(i),l=t,void fn(o).Tu.delete(l);var o,l}))}}(xs(i=Wr(i,Li)),sp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new bc(this,bm(this._delegate,e))}catch(t){throw Js(t,"collection()","Firestore.collection()")}}doc(e){try{return new jo(this,dh(this._delegate,e))}catch(t){throw Js(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new eo(this,function Im(i,e){if(i=Wr(i,ud),ym("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bt(bt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zs(i,null,(t=e,new Ks(Nr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Js(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zm(i,e){return function vv(i,e){const t=new rs;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){const o=yield(l=i,od(l).then(h=>h.datastore));var l;new gc(i.asyncQueue,o,e,t).run()})),t.promise}(xs(i=Wr(i,Li)),t=>e(new Gm(i,t)))}(this._delegate,t=>e(new Rp(this,t)))}batch(){return xs(this._delegate),new Op(new vc(this._delegate,e=>Fl(this._delegate,e)))}loadBundle(e){return function fh(i,e){const t=xs(i=Wr(i,Li)),o=new Cm;return function rp(i,e,t,o){const l=function(h,v){let C;return C="string"==typeof h?(new TextEncoder).encode(h):h,j=function(j,q){if(j instanceof Uint8Array)return Rl(j,q);if(j instanceof ArrayBuffer)return Rl(new Uint8Array(j),q);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new fc(j,v);var j}(t,Yc(e));i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){!function Xf(i,e,t){const o=fn(i);var l;(l=(0,J.Z)(function*(h,v,C){try{const j=yield v.getMetadata();if(yield function(Et,Ft){const Gt=fn(Et),Nn=Ls(Ft.createTime);return Gt.persistence.runTransaction("hasNewerBundle","readonly",yr=>Gt.ds.getBundleMetadata(yr,Ft.id)).then(yr=>!!yr&&yr.createTime.compareTo(Nn)>=0)}(h.localStore,j))return yield v.close(),C._completeWith({taskState:"Success",documentsLoaded:(Et=j).totalDocuments,bytesLoaded:Et.totalBytes,totalDocuments:Et.totalDocuments,totalBytes:Et.totalBytes}),Promise.resolve(new Set);C._updateProgress(Zg(j));const q=new av(j,h.localStore,v.M);let xe=yield v.fa();for(;xe;){const Et=yield q.Nu(xe);Et&&C._updateProgress(Et),xe=yield v.fa()}const Ge=yield q.complete();return yield Ya(h,Ge.Ou,void 0),yield function(Et,Ft){const Gt=fn(Et);return Gt.persistence.runTransaction("Save bundle","readwrite",Nn=>Gt.ds.saveBundleMetadata(Nn,Ft))}(h.localStore,j),C._completeWith(Ge.progress),Promise.resolve(Ge.Mu)}catch(j){return ps("SyncEngine",`Loading bundle failed with ${j}`),C._failWith(j),Promise.resolve(new Set)}var Et}),function(h,v,C){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield ep(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function lp(i,e){return function ip(i,e){return i.asyncQueue.enqueue((0,J.Z)(function*(){return function(t,o){const l=fn(t);return l.persistence.runTransaction("Get named query","readonly",h=>l.ds.getNamedQuery(h,o))}(yield ch(i),e)}))}(xs(i=Wr(i,Li)),e).then(t=>t?new zs(i,null,t.query):null)}(this._delegate,e).then(t=>t?new eo(this,t):null)}}class Dh extends Cp{constructor(e){super(),this.firestore=e}convertBytes(e){return new pd(new Uo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return jo.forKey(t,this.firestore,null)}}class Rp{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Dh(e)}get(e){const t=na(e);return this._delegate.get(t).then(o=>new _c(this._firestore,new wu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=na(e);return o?(xp("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=na(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=na(e);return this._delegate.delete(t),this}}class Op{constructor(e){this._delegate=e}set(e,t,o){const l=na(e);return o?(xp("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=na(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=na(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xu{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new fd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ec(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Xu.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let h=l.get(t);return h||(h=new Xu(e,new Dh(e),t),l.set(t,h)),h}}Xu.INSTANCES=new WeakMap;class jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new jo(t,new Fi(t._delegate,o,new gn(e)))}static forKey(e,t,o){return new jo(t,new Fi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new bc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new bc(this.firestore,bm(this._delegate,e))}catch(t){throw Js(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,lt.m9)(e))instanceof Fi&&wm(this._delegate,e)}set(e,t){t=xp("DocumentReference.set",t);try{return t?Sp(this._delegate,e,t):Sp(this._delegate,e)}catch(o){throw Js(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?bh(this._delegate,e):bh(this._delegate,e,t,...o)}catch(l){throw Js(l,"updateDoc()","DocumentReference.update()")}}delete(){return function Ih(i){return Fl(Wr(i.firestore,Li),[new ku(i._key,w.none())])}(this._delegate)}onSnapshot(...e){const t=Pp(e),o=Np(e,l=>new _c(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Ap(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Bm(i){i=Wr(i,Fi);const e=Wr(i.firestore,Li),t=xs(e),o=new kl(e);return function mv(i,e){const t=new rs;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(o=(0,J.Z)(function*(l,h,v){try{const C=yield function(j,q){const xe=fn(j);return xe.persistence.runTransaction("read document","readonly",Ge=>xe.ai.Bs(Ge,q))}(l,h);C.isFoundDocument()?v.resolve(C):C.isNoDocument()?v.resolve(null):v.reject(new Bt(bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const j=qa(C,`Failed to get document '${h} from cache`);v.reject(j)}}),function(l,h,v){return o.apply(this,arguments)})(yield ch(i),e,t);var o})),t.promise}(t,i._key).then(l=>new wu(e,o,i._key,l,new Yu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function $m(i){i=Wr(i,Fi);const e=Wr(i.firestore,Li);return np(xs(e),i._key,{source:"server"}).then(t=>wh(e,i,t))}(this._delegate):function Vm(i){i=Wr(i,Fi);const e=Wr(i.firestore,Li);return np(xs(e),i._key).then(t=>wh(e,i,t))}(this._delegate),t.then(o=>new _c(this.firestore,new wu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new jo(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function Js(i,e,t){return i.message=i.message.replace(e,t),i}function Pp(i){for(const e of i)if("object"==typeof e&&!Mp(e))return e;return{}}function Np(i,e){var t,o;let l;return l=Mp(i[0])?i[0]:Mp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class _c{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new jo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ep(this._delegate,e._delegate)}}class Ec extends _c{data(e){const t=this._delegate.data(e);return function Wo(i,e){i||Dn()}(void 0!==t),t}}class eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dh(e)}where(e,t,o){try{return new eo(this.firestore,Ku(this._delegate,function Pm(i,e,t){const o=e,l=us("where",i);return new Mv(l,o,t)}(e,t,o)))}catch(l){throw Js(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new eo(this.firestore,Ku(this._delegate,function Nm(i,e="asc"){const t=e,o=us("orderBy",i);return new Rv(o,t)}(e,t)))}catch(o){throw Js(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new eo(this.firestore,Ku(this._delegate,function km(i){return _m("limit",i),new Ov("limit",i,"F")}(e)))}catch(t){throw Js(t,"limit()","Query.limit()")}}limitToLast(e){try{return new eo(this.firestore,Ku(this._delegate,function Ip(i){return _m("limitToLast",i),new Ov("limitToLast",i,"L")}(e)))}catch(t){throw Js(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new eo(this.firestore,Ku(this._delegate,function Pv(...i){return new Da("startAt",i,!0)}(...e)))}catch(t){throw Js(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new eo(this.firestore,Ku(this._delegate,function Nv(...i){return new Da("startAfter",i,!1)}(...e)))}catch(t){throw Js(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new eo(this.firestore,Ku(this._delegate,function Ta(...i){return new Ca("endBefore",i,!1)}(...e)))}catch(t){throw Js(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new eo(this.firestore,Ku(this._delegate,function Sa(...i){return new Ca("endAt",i,!0)}(...e)))}catch(t){throw Js(t,"endAt()","Query.endAt()")}}isEqual(e){return Dm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function kv(i){i=Wr(i,zs);const e=Wr(i.firestore,Li),t=xs(e),o=new kl(e);return function yv(i,e){const t=new rs;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(o=(0,J.Z)(function*(l,h,v){try{const C=yield zc(l,h,!0),j=new ta(h,C.hi),q=j.Gu(C.documents),xe=j.applyChanges(q,!1);v.resolve(xe.snapshot)}catch(C){const j=qa(C,`Failed to execute query '${h} against cache`);v.reject(j)}}),function(l,h,v){return o.apply(this,arguments)})(yield ch(i),e,t);var o})),t.promise}(t,i._query).then(l=>new Du(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function Um(i){i=Wr(i,zs);const e=Wr(i.firestore,Li),t=xs(e),o=new kl(e);return gm(t,i._query,{source:"server"}).then(l=>new Du(e,o,i,l))}(this._delegate):function Eh(i){i=Wr(i,zs);const e=Wr(i.firestore,Li),t=xs(e),o=new kl(e);return bp(i._query),gm(t,i._query).then(l=>new Du(e,o,i,l))}(this._delegate),t.then(o=>new kp(this.firestore,new Du(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Pp(e),o=Np(e,l=>new kp(this.firestore,new Du(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Ap(this._delegate,t,o)}withConverter(e){return new eo(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}class Ll{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ec(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new eo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ec(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ll(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Ec(this._firestore,o))})}isEqual(e){return Ep(this._delegate,e._delegate)}}class bc extends eo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new jo(this.firestore,e):null}doc(e){try{return new jo(this.firestore,void 0===e?dh(this._delegate):dh(this._delegate,e))}catch(t){throw Js(t,"doc()","CollectionReference.doc()")}}add(e){return function jm(i,e){const t=Wr(i.firestore,Li),o=dh(i),l=_h(i.converter,e);return Fl(t,[dd(Wu(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,w.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new jo(this.firestore,t))}isEqual(e){return wm(this._delegate,e._delegate)}withConverter(e){return new bc(this.firestore,this._delegate.withConverter(e?Xu.getInstance(this.firestore,e):null))}}function na(i){return Wr(i,Fi)}class Qm{constructor(...e){this._delegate=new bu(...e)}static documentId(){return new Qm(is.keyField().canonicalString())}isEqual(e){return(e=(0,lt.m9)(e))instanceof bu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Cu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Fv(){return new pp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Cu(e)}static delete(){const e=function Wm(){return new Nl("deleteField")}();return e._methodName="FieldValue.delete",new Cu(e)}static arrayUnion(...e){const t=function Lv(...i){return new xm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Cu(t)}static arrayRemove(...e){const t=function Vv(...i){return new Mm("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Cu(t)}static increment(e){const t=function Bv(i){return new gp("increment",i)}(e);return t._methodName="FieldValue.increment",new Cu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const J_={Firestore:Zm,GeoPoint:ld,Timestamp:Mr,Blob:pd,Transaction:Rp,WriteBatch:Op,DocumentReference:jo,DocumentSnapshot:_c,Query:eo,QueryDocumentSnapshot:Ec,QuerySnapshot:kp,CollectionReference:bc,FieldPath:Qm,FieldValue:Cu,setLogLevel:function Xm(i){!function Pa(i){Ds.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function ey(i){(function Jm(i,e){i.INTERNAL.registerComponent(new we.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},J_)))})(i,(e,t)=>new Zm(e,t,new Hv)),i.registerVersion("@firebase/firestore-compat","0.1.16")}(Je.Z);var Vl=N(4941),cr=N(440);function ty(i,e){return function Gv(i,e=$.z){return new V.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function Fp(i,e){return ty(i,e).pipe((0,ue.U)(t=>({payload:t,type:"query"})))}function Bl(i,e){return Fp(i,e).pipe((0,oe.O)(void 0),Ee(),(0,ue.U)(([t,o])=>{const l=o.payload.docChanges(),h=l.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,C)=>{const j=l.find(xe=>xe.doc.ref.isEqual(v.ref)),q=null==t?void 0:t.payload.docs.find(xe=>xe.ref.isEqual(v.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(v.metadata)||!j&&q&&JSON.stringify(q.metadata)===JSON.stringify(v.metadata)||h.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:v}})}),h}))}function gd(i,e,t){return Bl(i,t).pipe((0,Z.R)((o,l)=>function ls(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function ry(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return ny(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ny(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ny(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(h=>h.payload),e),[]),(0,Fe.x)(),(0,ue.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function ny(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function iy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}N(127);class sy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Bl(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ue.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,oe.O)(void 0),Ee(),(0,ke.h)(([o,l])=>l.length>0||!o),(0,ue.U)(([o,l])=>l),ne.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Z.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=iy(e);return gd(this.query,t,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(e={}){return Fp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ne.iC)}get(e){return(0,Se.D)(this.query.get(e)).pipe(ne.iC)}add(e){return this.ref.add(e)}doc(e){return new Lp(this.ref.doc(e),this.afs)}}class Lp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:h}=ly(o,t);return new sy(l,h,this.afs)}snapshotChanges(){return function Ch(i,e){return ty(i,e).pipe((0,oe.O)(void 0),Ee(),(0,ue.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Se.D)(this.ref.get(e)).pipe(ne.iC)}}class oy{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Bl(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,ke.h)(t=>t.length>0),ne.iC):Bl(this.query,this.afs.schedulers.outsideAngular).pipe(ne.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Z.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=iy(e);return gd(this.query,t,this.afs.schedulers.outsideAngular).pipe(ne.iC)}valueChanges(e={}){return Fp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),ne.iC)}get(e){return(0,Se.D)(this.query.get(e)).pipe(ne.iC)}}const ay=new a.OlP("angularfire2.enableFirestorePersistence"),uy=new a.OlP("angularfire2.firestore.persistenceSettings"),zv=new a.OlP("angularfire2.firestore.settings"),Wv=new a.OlP("angularfire2.firestore.use-emulator");function ly(i,e=(t=>t)){return{query:e(i),ref:i}}let md=(()=>{class i{constructor(t,o,l,h,v,C,j,q,xe,Ge,Et,Ft,Gt,Nn,yr,qi,Vr){this.schedulers=j;const Bs=(0,ie.on)(t,C,o),Yi=xe;Ge&&(0,Vl.nw)(Bs,C,Et,Gt,Nn,yr,Ft,qi),[this.firestore,this.persistenceEnabled$]=(0,ie.cc)(`${Bs.name}.firestore`,"AngularFirestore",Bs.name,()=>{const Vi=C.runOutsideAngular(()=>Bs.firestore());if(h&&Vi.settings(h),Yi&&Vi.useEmulator(...Yi),l&&!(0,Ae.PM)(v)){const ui=()=>{try{return(0,Se.D)(Vi.enablePersistence(q||void 0).then(()=>!0,()=>!1))}catch(Aa){return"undefined"!=typeof console&&console.warn(Aa),(0,Ie.of)(!1)}};return[Vi,C.runOutsideAngular(ui)]}return[Vi,(0,Ie.of)(!1)]},[h,Yi,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:v}=ly(l,o),C=this.schedulers.ngZone.run(()=>h);return new sy(C,v,this)}collectionGroup(t,o){const l=o||(v=>v),h=this.firestore.collectionGroup(t);return new oy(l(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new Lp(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(ie.Dh),a.LFG(ie.xv,8),a.LFG(ay,8),a.LFG(zv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ne.HU),a.LFG(uy,8),a.LFG(Wv,8),a.LFG(Vl.zQ,8),a.LFG(Vl.Qv,8),a.LFG(Vl.L6,8),a.LFG(Vl._Q,8),a.LFG(Vl.rT,8),a.LFG(Vl.lh,8),a.LFG(Vl.f7,8),a.LFG(cr.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})()},2011:(Xt,rt,N)=>{"use strict";N.d(rt,{hO:()=>Z,xv:()=>ce,Dh:()=>Ee,GT:()=>ne,cc:()=>Fe,on:()=>re,pX:()=>Ie});var a=N(6435),$=N(127),V=N(6351);Xt=N.hmd(Xt);const Se=["ngOnDestroy"],Ie=(fe,Je,J,Qe={})=>new Proxy(fe,{get:(we,We)=>J.runOutsideAngular(()=>{var lt;if(fe[We])return(null===(lt=null==Qe?void 0:Qe.spy)||void 0===lt?void 0:lt.get)&&Qe.spy.get(We,fe[We]),fe[We];if(Se.indexOf(We)>-1)return()=>{};const Be=Je.toPromise().then(Ct=>{const le=Ct&&Ct[We];return"function"==typeof le?le.bind(Ct):le&&le.then?le.then(Pe=>J.run(()=>Pe)):J.run(()=>le)});return new Proxy(()=>{},{get:(Ct,le)=>Be[le],apply:(Ct,le,Pe)=>Be.then(ae=>{var be;const qe=ae&&ae(...Pe);return(null===(be=null==Qe?void 0:Qe.spy)||void 0===be?void 0:be.apply)&&Qe.spy.apply(We,Pe,qe),qe})})})}),ne=(fe,Je)=>{Je.forEach(J=>{Object.getOwnPropertyNames(J.prototype||J).forEach(Qe=>{Object.defineProperty(fe.prototype,Qe,Object.getOwnPropertyDescriptor(J.prototype||J,Qe))})})};class me{constructor(Je){return Je}}const Ee=new a.OlP("angularfire2.app.options"),ce=new a.OlP("angularfire2.app.name");function re(fe,Je,J){const we="object"==typeof J&&J||{};we.name=we.name||"string"==typeof J&&J||"[DEFAULT]";const lt=$.Z.apps.filter(Be=>Be&&Be.name===we.name)[0]||Je.runOutsideAngular(()=>$.Z.initializeApp(fe,we));try{JSON.stringify(fe)!==JSON.stringify(lt.options)&&oe("error",`${lt.name} Firebase App already initialized with different options${Xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new me(lt)}const oe=(fe,...Je)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[fe](...Je)},ue={provide:me,useFactory:re,deps:[Ee,a.R0b,[new a.FiY,ce]]};let Z=(()=>{class fe{constructor(J){$.Z.registerVersion("angularfire",V.q4.full,"core"),$.Z.registerVersion("angularfire",V.q4.full,"app-compat"),$.Z.registerVersion("angular",a.q4F.full,J.toString())}static initializeApp(J,Qe){return{ngModule:fe,providers:[{provide:Ee,useValue:J},{provide:ce,useValue:Qe}]}}}return fe.\u0275fac=function(J){return new(J||fe)(a.LFG(a.Lbi))},fe.\u0275mod=a.oAB({type:fe}),fe.\u0275inj=a.cJS({providers:[ue]}),fe})();function Fe(fe,Je,J,Qe,we){const[,We,lt]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===fe)||[];if(We)return function ke(fe,Je){try{return fe.toString()===Je.toString()}catch(J){return fe===Je}}(we,lt)||(Ae("error",`${Je} was already initialized on the ${J} Firebase App with different settings.${ie?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:we,was:lt})),We;{const Be=Qe();return globalThis.\u0275AngularfireInstanceCache.push([fe,Be,we]),Be}}const ie=!!Xt.hot,Ae=(fe,...Je)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[fe](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Xt,rt,N)=>{"use strict";N.d(rt,{q4:()=>Pi,iC:()=>au,HU:()=>Oo,vb:()=>Yo,JM:()=>su});var a=N(6435),$=N(5867),V=N(5861),Se=N(9681),Ie=N(2090),ne=N(4859),me=N(1877);const Ee="@firebase/installations",oe="w:0.5.7",ue="FIS_v2",fe=new Ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(A){return A instanceof Ie.ZR&&A.code.includes("request-failed")}function J({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function Qe(A){return{token:A.token,requestStatus:2,expiresIn:Pe(A.expiresIn),creationTime:Date.now()}}function we(A,L){return We.apply(this,arguments)}function We(){return(We=(0,V.Z)(function*(A,L){const Re=(yield L.json()).error;return fe.create("request-failed",{requestName:A,serverCode:Re.code,serverMessage:Re.message,serverStatus:Re.status})})).apply(this,arguments)}function lt({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Be(A,{refreshToken:L}){const Q=lt(A);return Q.append("Authorization",function ae(A){return`${ue} ${A}`}(L)),Q}function Ct(A){return le.apply(this,arguments)}function le(){return(le=(0,V.Z)(function*(A){const L=yield A();return L.status>=500&&L.status<600?A():L})).apply(this,arguments)}function Pe(A){return Number(A.replace("s","000"))}function be(A,L){return qe.apply(this,arguments)}function qe(){return(qe=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:L},{fid:Q}){const Re=J(A),nt=lt(A),_t=L.getImmediate({optional:!0});if(_t){const Xn=yield _t.getHeartbeatsHeader();Xn&&nt.append("x-firebase-client",Xn)}const Cn={method:"POST",headers:nt,body:JSON.stringify({fid:Q,authVersion:ue,appId:A.appId,sdkVersion:oe})},rr=yield Ct(()=>fetch(Re,Cn));if(rr.ok){const Xn=yield rr.json();return{fid:Xn.fid||Q,registrationStatus:2,refreshToken:Xn.refreshToken,authToken:Qe(Xn.authToken)}}throw yield we("Create Installation",rr)})).apply(this,arguments)}function Ve(A){return new Promise(L=>{setTimeout(L,A)})}const Yt=/^[cdef][\w-]{21}$/;function it(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const Q=function et(A){return function kt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Yt.test(Q)?Q:""}catch(A){return""}}function Ze(A){return`${A.appName}!${A.appId}`}const tt=new Map;function Me(A,L){const Q=Ze(A);ft(Q,L),function $t(A,L){const Q=function rn(){return!cn&&"BroadcastChannel"in self&&(cn=new BroadcastChannel("[Firebase] FID Change"),cn.onmessage=A=>{ft(A.data.key,A.data.fid)}),cn}();Q&&Q.postMessage({key:A,fid:L}),function sn(){0===tt.size&&cn&&(cn.close(),cn=null)}()}(Q,L)}function ft(A,L){const Q=tt.get(A);if(Q)for(const Re of Q)Re(L)}let cn=null;const Un="firebase-installations-store";let Kn=null;function er(){return Kn||(Kn=(0,Ie.X3)("firebase-installations-database",1,(A,L)=>{0===L&&A.createObjectStore(Un)})),Kn}function In(A,L){return kn.apply(this,arguments)}function kn(){return(kn=(0,V.Z)(function*(A,L){const Q=Ze(A),nt=(yield er()).transaction(Un,"readwrite"),_t=nt.objectStore(Un),Pt=yield _t.get(Q);return yield _t.put(L,Q),yield nt.complete,(!Pt||Pt.fid!==L.fid)&&Me(A,L.fid),L})).apply(this,arguments)}function dr(A){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,V.Z)(function*(A){const L=Ze(A),Re=(yield er()).transaction(Un,"readwrite");yield Re.objectStore(Un).delete(L),yield Re.complete})).apply(this,arguments)}function Vn(A,L){return tn.apply(this,arguments)}function tn(){return(tn=(0,V.Z)(function*(A,L){const Q=Ze(A),nt=(yield er()).transaction(Un,"readwrite"),_t=nt.objectStore(Un),Pt=yield _t.get(Q),Cn=L(Pt);return void 0===Cn?yield _t.delete(Q):yield _t.put(Cn,Q),yield nt.complete,Cn&&(!Pt||Pt.fid!==Cn.fid)&&Me(A,Cn.fid),Cn})).apply(this,arguments)}function En(A){return $r.apply(this,arguments)}function $r(){return($r=(0,V.Z)(function*(A){let L;const Q=yield Vn(A.appConfig,Re=>{const nt=Ot(Re),_t=Dr(A,nt);return L=_t.registrationPromise,_t.installationEntry});return""===Q.fid?{installationEntry:yield L}:{installationEntry:Q,registrationPromise:L}})).apply(this,arguments)}function Ot(A){return ir(A||{fid:it(),registrationStatus:0})}function Dr(A,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(fe.create("app-offline"))};const Q={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},Re=function jn(A,L){return on.apply(this,arguments)}(A,Q);return{installationEntry:Q,registrationPromise:Re}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:Kt(A)}:{installationEntry:L}}function on(){return(on=(0,V.Z)(function*(A,L){try{const Q=yield be(A,L);return In(A.appConfig,Q)}catch(Q){throw Je(Q)&&409===Q.customData.serverCode?yield dr(A.appConfig):yield In(A.appConfig,{fid:L.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function Kt(A){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,V.Z)(function*(A){let L=yield qr(A.appConfig);for(;1===L.registrationStatus;)yield Ve(100),L=yield qr(A.appConfig);if(0===L.registrationStatus){const{installationEntry:Q,registrationPromise:Re}=yield En(A);return Re||Q}return L})).apply(this,arguments)}function qr(A){return Vn(A,L=>{if(!L)throw fe.create("installation-not-found");return ir(L)})}function ir(A){return function Ur(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function pr(A,L){return dn.apply(this,arguments)}function dn(){return(dn=(0,V.Z)(function*({appConfig:A,heartbeatServiceProvider:L},Q){const Re=ur(A,Q),nt=Be(A,Q),_t=L.getImmediate({optional:!0});if(_t){const Xn=yield _t.getHeartbeatsHeader();Xn&&nt.append("x-firebase-client",Xn)}const Cn={method:"POST",headers:nt,body:JSON.stringify({installation:{sdkVersion:oe,appId:A.appId}})},rr=yield Ct(()=>fetch(Re,Cn));if(rr.ok)return Qe(yield rr.json());throw yield we("Generate Auth Token",rr)})).apply(this,arguments)}function ur(A,{fid:L}){return`${J(A)}/${L}/authTokens:generate`}function Pn(A){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,V.Z)(function*(A,L=!1){let Q;const Re=yield Vn(A.appConfig,_t=>{if(!Tn(_t))throw fe.create("not-registered");const Pt=_t.authToken;if(!L&&Ne(Pt))return _t;if(1===Pt.requestStatus)return Q=zt(A,L),_t;{if(!navigator.onLine)throw fe.create("app-offline");const Cn=$e(_t);return Q=yn(A,Cn),Cn}});return Q?yield Q:Re.authToken})).apply(this,arguments)}function zt(A,L){return It.apply(this,arguments)}function It(){return(It=(0,V.Z)(function*(A,L){let Q=yield Lt(A.appConfig);for(;1===Q.authToken.requestStatus;)yield Ve(100),Q=yield Lt(A.appConfig);const Re=Q.authToken;return 0===Re.requestStatus?Pn(A,L):Re})).apply(this,arguments)}function Lt(A){return Vn(A,L=>{if(!Tn(L))throw fe.create("not-registered");return function dt(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function yn(A,L){return en.apply(this,arguments)}function en(){return(en=(0,V.Z)(function*(A,L){try{const Q=yield pr(A,L),Re=Object.assign(Object.assign({},L),{authToken:Q});return yield In(A.appConfig,Re),Q}catch(Q){if(!Je(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const Re=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield In(A.appConfig,Re)}else yield dr(A.appConfig);throw Q}})).apply(this,arguments)}function Tn(A){return void 0!==A&&2===A.registrationStatus}function Ne(A){return 2===A.requestStatus&&!function ge(A){const L=Date.now();return L<A.creationTime||A.creationTime+A.expiresIn<L+36e5}(A)}function $e(A){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:L})}function he(){return(he=(0,V.Z)(function*(A){const L=A,{installationEntry:Q,registrationPromise:Re}=yield En(L);return Re?Re.catch(console.error):Pn(L).catch(console.error),Q.fid})).apply(this,arguments)}function mt(){return(mt=(0,V.Z)(function*(A,L=!1){const Q=A;return yield Vt(Q),(yield Pn(Q,L)).token})).apply(this,arguments)}function Vt(A){return hn.apply(this,arguments)}function hn(){return(hn=(0,V.Z)(function*(A){const{registrationPromise:L}=yield En(A);L&&(yield L)})).apply(this,arguments)}function pt(A){return fe.create("missing-app-config-values",{valueName:A})}const Dt="installations",an=A=>{const L=A.getProvider("app").getImmediate(),Q=function ye(A){if(!A||!A.options)throw pt("App Configuration");if(!A.name)throw pt("App Name");const L=["projectId","apiKey","appId"];for(const Q of L)if(!A.options[Q])throw pt(Q);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(L);return{app:L,appConfig:Q,heartbeatServiceProvider:(0,Se._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},qn=A=>{const L=A.getProvider("app").getImmediate(),Q=(0,Se._getProvider)(L,Dt).getImmediate();return{getId:()=>function se(A){return he.apply(this,arguments)}(Q),getToken:nt=>function _e(A){return mt.apply(this,arguments)}(Q,nt)}};(function Zn(){(0,Se._registerComponent)(new ne.wA(Dt,an,"PUBLIC")),(0,Se._registerComponent)(new ne.wA("installations-internal",qn,"PRIVATE"))})(),(0,Se.registerVersion)(Ee,"0.5.7"),(0,Se.registerVersion)(Ee,"0.5.7","esm2017");const Cr="@firebase/remote-config",sr=new Ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nn{constructor(L,Q,Re,nt){this.client=L,this.storage=Q,this.storageCache=Re,this.logger=nt}isCachedDataFresh(L,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Re=Date.now()-Q,nt=Re<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Re}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${nt}.`),nt}fetch(L){var Q=this;return(0,V.Z)(function*(){const[Re,nt]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(nt&&Q.isCachedDataFresh(L.cacheMaxAgeMillis,Re))return nt;L.eTag=nt&&nt.eTag;const _t=yield Q.client.fetch(L),Pt=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_t.status&&Pt.push(Q.storage.setLastSuccessfulFetchResponse(_t)),yield Promise.all(Pt),_t})()}}function _n(A=navigator){return A.languages&&A.languages[0]||A.language}class Mn{constructor(L,Q,Re,nt,_t,Pt){this.firebaseInstallations=L,this.sdkVersion=Q,this.namespace=Re,this.projectId=nt,this.apiKey=_t,this.appId=Pt}fetch(L){var Q=this;return(0,V.Z)(function*(){const[Re,nt]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),Pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,Cn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},rr={sdk_version:Q.sdkVersion,app_instance_id:Re,app_instance_id_token:nt,app_id:Q.appId,language_code:_n()},Xn={method:"POST",headers:Cn,body:JSON.stringify(rr)},kr=fetch(Pt,Xn),lr=new Promise((bo,Hr)=>{L.signal.addEventListener(()=>{const Mu=new Error("The operation was aborted.");Mu.name="AbortError",Hr(Mu)})});let Gs;try{yield Promise.race([kr,lr]),Gs=yield kr}catch(bo){let Hr="fetch-client-network";throw"AbortError"===bo.name&&(Hr="fetch-timeout"),sr.create(Hr,{originalErrorMessage:bo.message})}let ss=Gs.status;const Fs=Gs.headers.get("ETag")||void 0;let _a,Ko;if(200===Gs.status){let bo;try{bo=yield Gs.json()}catch(Hr){throw sr.create("fetch-client-parse",{originalErrorMessage:Hr.message})}_a=bo.entries,Ko=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ko?ss=500:"NO_CHANGE"===Ko?ss=304:("NO_TEMPLATE"===Ko||"EMPTY_CONFIG"===Ko)&&(_a={}),304!==ss&&200!==ss)throw sr.create("fetch-status",{httpStatus:ss});return{status:ss,eTag:Fs,config:_a}})()}}class Br{constructor(L,Q){this.client=L,this.storage=Q}fetch(L){var Q=this;return(0,V.Z)(function*(){const Re=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(L,Re)})()}attemptFetch(L,{throttleEndTimeMillis:Q,backoffCount:Re}){var nt=this;return(0,V.Z)(function*(){yield function nr(A,L){return new Promise((Q,Re)=>{const nt=Math.max(L-Date.now(),0),_t=setTimeout(Q,nt);A.addEventListener(()=>{clearTimeout(_t),Re(sr.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,Q);try{const _t=yield nt.client.fetch(L);return yield nt.storage.deleteThrottleMetadata(),_t}catch(_t){if(!function Sr(A){if(!(A instanceof Ie.ZR&&A.customData))return!1;const L=Number(A.customData.httpStatus);return 429===L||500===L||503===L||504===L}(_t))throw _t;const Pt={throttleEndTimeMillis:Date.now()+(0,Ie.$s)(Re),backoffCount:Re+1};return yield nt.storage.setThrottleMetadata(Pt),nt.attemptFetch(L,Pt)}})()}}class ot{constructor(L,Q,Re,nt,_t){this.app=L,this._client=Q,this._storageCache=Re,this._storage=nt,this._logger=_t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(A,L){const Q=A.target.error||void 0;return sr.create(L,{originalErrorMessage:Q&&Q.message})}const Wt="app_namespace_store";class _r{constructor(L,Q,Re,nt=function Kr(){return new Promise((A,L)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=Re=>{L(Tt(Re,"storage-open"))},Q.onsuccess=Re=>{A(Re.target.result)},Q.onupgradeneeded=Re=>{0===Re.oldVersion&&Re.target.result.createObjectStore(Wt,{keyPath:"compositeKey"})}}catch(Q){L(sr.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=L,this.appName=Q,this.namespace=Re,this.openDbPromise=nt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var Q=this;return(0,V.Z)(function*(){const Re=yield Q.openDbPromise;return new Promise((nt,_t)=>{const Cn=Re.transaction([Wt],"readonly").objectStore(Wt),rr=Q.createCompositeKey(L);try{const Xn=Cn.get(rr);Xn.onerror=kr=>{_t(Tt(kr,"storage-get"))},Xn.onsuccess=kr=>{const lr=kr.target.result;nt(lr?lr.value:void 0)}}catch(Xn){_t(sr.create("storage-get",{originalErrorMessage:Xn&&Xn.message}))}})})()}set(L,Q){var Re=this;return(0,V.Z)(function*(){const nt=yield Re.openDbPromise;return new Promise((_t,Pt)=>{const rr=nt.transaction([Wt],"readwrite").objectStore(Wt),Xn=Re.createCompositeKey(L);try{const kr=rr.put({compositeKey:Xn,value:Q});kr.onerror=lr=>{Pt(Tt(lr,"storage-set"))},kr.onsuccess=()=>{_t()}}catch(kr){Pt(sr.create("storage-set",{originalErrorMessage:kr&&kr.message}))}})})()}delete(L){var Q=this;return(0,V.Z)(function*(){const Re=yield Q.openDbPromise;return new Promise((nt,_t)=>{const Cn=Re.transaction([Wt],"readwrite").objectStore(Wt),rr=Q.createCompositeKey(L);try{const Xn=Cn.delete(rr);Xn.onerror=kr=>{_t(Tt(kr,"storage-delete"))},Xn.onsuccess=()=>{nt()}}catch(Xn){_t(sr.create("storage-delete",{originalErrorMessage:Xn&&Xn.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class oi{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,V.Z)(function*(){const Q=L.storage.getLastFetchStatus(),Re=L.storage.getLastSuccessfulFetchTimestampMillis(),nt=L.storage.getActiveConfig(),_t=yield Q;_t&&(L.lastFetchStatus=_t);const Pt=yield Re;Pt&&(L.lastSuccessfulFetchTimestampMillis=Pt);const Cn=yield nt;Cn&&(L.activeConfig=Cn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function fo(){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,V.Z)(function*(){if(!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Ci(){(0,Se._registerComponent)(new ne.wA("remote-config",function A(L,{instanceIdentifier:Q}){const Re=L.getProvider("app").getImmediate(),nt=L.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw sr.create("registration-window");if(!(0,Ie.hl)())throw sr.create("indexed-db-unavailable");const{projectId:_t,apiKey:Pt,appId:Cn}=Re.options;if(!_t)throw sr.create("registration-project-id");if(!Pt)throw sr.create("registration-api-key");if(!Cn)throw sr.create("registration-app-id");const rr=new _r(Cn,Re.name,Q=Q||"firebase"),Xn=new oi(rr),kr=new me.Yd(Cr);kr.logLevel=me.in.ERROR;const lr=new Mn(nt,Se.SDK_VERSION,Q,_t,Pt,Cn),Gs=new Br(lr,rr),ss=new nn(Gs,rr,Xn,kr),Fs=new ot(Re,ss,Xn,rr,kr);return function Y(A){const L=(0,Ie.m9)(A);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Fs),Fs},"PUBLIC").setMultipleInstances(!0)),(0,Se.registerVersion)(Cr,"0.3.6"),(0,Se.registerVersion)(Cr,"0.3.6","esm2017")}();const fi="/firebase-messaging-sw.js",Rs="/firebase-cloud-messaging-push-scope",es="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ms="google.c.a.c_id",Es="google.c.a.c_l",Ws="google.c.a.ts",Ei="google.c.a.e";var pi=(()=>{return(A=pi||(pi={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",pi;var A})();function bi(A){const L=new Uint8Array(A);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function go(A){const Q=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Re=atob(Q),nt=new Uint8Array(Re.length);for(let _t=0;_t<Re.length;++_t)nt[_t]=Re.charCodeAt(_t);return nt}const Ii="fcm_token_details_db",Mi="fcm_token_object_Store";function ts(A){return ys.apply(this,arguments)}function ys(){return ys=(0,V.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_t=>_t.name).includes(Ii))return null;let L=null;return(yield(0,Ie.X3)(Ii,5,function(){var Re=(0,V.Z)(function*(nt,_t,Pt,Cn){var rr;if(_t<2||!nt.objectStoreNames.contains(Mi))return;const Xn=Cn.objectStore(Mi),kr=yield Xn.index("fcmSenderId").get(A);if(yield Xn.clear(),kr)if(2===_t){const lr=kr;if(!lr.auth||!lr.p256dh||!lr.endpoint)return;L={token:lr.fcmToken,createTime:null!==(rr=lr.createTime)&&void 0!==rr?rr:Date.now(),subscriptionOptions:{auth:lr.auth,p256dh:lr.p256dh,endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:"string"==typeof lr.vapidKey?lr.vapidKey:bi(lr.vapidKey)}}}else if(3===_t){const lr=kr;L={token:lr.fcmToken,createTime:lr.createTime,subscriptionOptions:{auth:bi(lr.auth),p256dh:bi(lr.p256dh),endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:bi(lr.vapidKey)}}}else if(4===_t){const lr=kr;L={token:lr.fcmToken,createTime:lr.createTime,subscriptionOptions:{auth:bi(lr.auth),p256dh:bi(lr.p256dh),endpoint:lr.endpoint,swScope:lr.swScope,vapidKey:bi(lr.vapidKey)}}}});return function(nt,_t,Pt,Cn){return Re.apply(this,arguments)}}())).close(),yield(0,Ie.Lj)(Ii),yield(0,Ie.Lj)("fcm_vapid_details_db"),yield(0,Ie.Lj)("undefined"),Zr(L)?L:null}),ys.apply(this,arguments)}function Zr(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:L}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const Ti="firebase-messaging-store";let cs=null;function ds(){return cs||(cs=(0,Ie.X3)("firebase-messaging-database",1,(A,L)=>{0===L&&A.createObjectStore(Ti)})),cs}function wi(A){return O.apply(this,arguments)}function O(){return(O=(0,V.Z)(function*(A){const L=gt(A),Re=yield(yield ds()).transaction(Ti).objectStore(Ti).get(L);if(Re)return Re;{const nt=yield ts(A.appConfig.senderId);if(nt)return yield W(A,nt),nt}})).apply(this,arguments)}function W(A,L){return F.apply(this,arguments)}function F(){return(F=(0,V.Z)(function*(A,L){const Q=gt(A),nt=(yield ds()).transaction(Ti,"readwrite");return yield nt.objectStore(Ti).put(L,Q),yield nt.complete,L})).apply(this,arguments)}function ee(A){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,V.Z)(function*(A){const L=gt(A),Re=(yield ds()).transaction(Ti,"readwrite");yield Re.objectStore(Ti).delete(L),yield Re.complete})).apply(this,arguments)}function gt({appConfig:A}){return A.appId}const jt=new Ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Or(A,L){return tr.apply(this,arguments)}function tr(){return(tr=(0,V.Z)(function*(A,L){const Q=yield Xr(A),Re=$i(L),nt={method:"POST",headers:Q,body:JSON.stringify(Re)};let _t;try{_t=yield(yield fetch(zr(A.appConfig),nt)).json()}catch(Pt){throw jt.create("token-subscribe-failed",{errorInfo:Pt})}if(_t.error)throw jt.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw jt.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function Ir(A,L){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,V.Z)(function*(A,L){const Q=yield Xr(A),Re=$i(L.subscriptionOptions),nt={method:"PATCH",headers:Q,body:JSON.stringify(Re)};let _t;try{_t=yield(yield fetch(`${zr(A.appConfig)}/${L.token}`,nt)).json()}catch(Pt){throw jt.create("token-update-failed",{errorInfo:Pt})}if(_t.error)throw jt.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw jt.create("token-update-no-token");return _t.token})).apply(this,arguments)}function Qr(A,L){return br.apply(this,arguments)}function br(){return(br=(0,V.Z)(function*(A,L){const Re={method:"DELETE",headers:yield Xr(A)};try{const _t=yield(yield fetch(`${zr(A.appConfig)}/${L}`,Re)).json();if(_t.error)throw jt.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(nt){throw jt.create("token-unsubscribe-failed",{errorInfo:nt})}})).apply(this,arguments)}function zr({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Xr(A){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,V.Z)(function*({appConfig:A,installations:L}){const Q=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function $i({p256dh:A,auth:L,endpoint:Q,vapidKey:Re}){const nt={web:{endpoint:Q,auth:L,p256dh:A}};return Re!==es&&(nt.web.applicationPubKey=Re),nt}const li=6048e5;function k(A){return x.apply(this,arguments)}function x(){return(x=(0,V.Z)(function*(A){const L=yield te(A.swRegistration,A.vapidKey),Q={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:L.endpoint,auth:bi(L.getKey("auth")),p256dh:bi(L.getKey("p256dh"))},Re=yield wi(A.firebaseDependencies);if(Re){if(Zt(Re.subscriptionOptions,Q))return Date.now()>=Re.createTime+li?p(A,{token:Re.token,createTime:Date.now(),subscriptionOptions:Q}):Re.token;try{yield Qr(A.firebaseDependencies,Re.token)}catch(nt){console.warn(nt)}return m(A.firebaseDependencies,Q)}return m(A.firebaseDependencies,Q)})).apply(this,arguments)}function T(A){return H.apply(this,arguments)}function H(){return(H=(0,V.Z)(function*(A){const L=yield wi(A.firebaseDependencies);L&&(yield Qr(A.firebaseDependencies,L.token),yield ee(A.firebaseDependencies));const Q=yield A.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function p(A,L){return M.apply(this,arguments)}function M(){return(M=(0,V.Z)(function*(A,L){try{const Q=yield Ir(A.firebaseDependencies,L),Re=Object.assign(Object.assign({},L),{token:Q,createTime:Date.now()});return yield W(A.firebaseDependencies,Re),Q}catch(Q){throw yield T(A),Q}})).apply(this,arguments)}function m(A,L){return P.apply(this,arguments)}function P(){return(P=(0,V.Z)(function*(A,L){const Re={token:yield Or(A,L),createTime:Date.now(),subscriptionOptions:L};return yield W(A,Re),Re.token})).apply(this,arguments)}function te(A,L){return yt.apply(this,arguments)}function yt(){return(yt=(0,V.Z)(function*(A,L){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:go(L)})})).apply(this,arguments)}function Zt(A,L){return L.vapidKey===A.vapidKey&&L.endpoint===A.endpoint&&L.auth===A.auth&&L.p256dh===A.p256dh}function ut(A){const L={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function mn(A,L){if(!L.notification)return;A.notification={};const Q=L.notification.title;Q&&(A.notification.title=Q);const Re=L.notification.body;Re&&(A.notification.body=Re);const nt=L.notification.image;nt&&(A.notification.image=nt)}(L,A),function Pr(A,L){!L.data||(A.data=L.data)}(L,A),function or(A,L){if(!L.fcmOptions)return;A.fcmOptions={};const Q=L.fcmOptions.link;Q&&(A.fcmOptions.link=Q);const Re=L.fcmOptions.analytics_label;Re&&(A.fcmOptions.analyticsLabel=Re)}(L,A),L}function gi(A){return"object"==typeof A&&!!A&&ms in A}function Ui(A,L){const Q=[];for(let Re=0;Re<A.length;Re++)Q.push(A.charAt(Re)),Re<L.length&&Q.push(L.charAt(Re));return Q.join("")}function hs(A){return jt.create("missing-app-config-values",{valueName:A})}Ui("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ui("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ci{constructor(L,Q,Re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const nt=function ri(A){if(!A||!A.options)throw hs("App Configuration Object");if(!A.name)throw hs("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=A;for(const Re of L)if(!Q[Re])throw hs(Re);return{appName:A.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:nt,installations:Q,analyticsProvider:Re}}_delete(){return Promise.resolve()}}function Go(A){return no.apply(this,arguments)}function no(){return(no=(0,V.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(fi,{scope:Rs}),A.swRegistration.update().catch(()=>{})}catch(L){throw jt.create("failed-service-worker-registration",{browserErrorMessage:L.message})}})).apply(this,arguments)}function ro(A,L){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,V.Z)(function*(A,L){if(!L&&!A.swRegistration&&(yield Go(A)),L||!A.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");A.swRegistration=L}})).apply(this,arguments)}function Ri(A,L){return Is.apply(this,arguments)}function Is(){return(Is=(0,V.Z)(function*(A,L){L?A.vapidKey=L:A.vapidKey||(A.vapidKey=es)})).apply(this,arguments)}function $s(){return($s=(0,V.Z)(function*(A,L){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield Ri(A,null==L?void 0:L.vapidKey),yield ro(A,null==L?void 0:L.serviceWorkerRegistration),k(A)})).apply(this,arguments)}function io(A,L,Q){return ra.apply(this,arguments)}function ra(){return(ra=(0,V.Z)(function*(A,L,Q){const Re=Au(L);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(Re,{message_id:Q[ms],message_name:Q[Es],message_time:Q[Ws],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Au(A){switch(A){case pi.NOTIFICATION_CLICKED:return"notification_open";case pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zo(){return(zo=(0,V.Z)(function*(A,L){const Q=L.data;if(!Q.isFirebaseMessaging)return;A.onMessageHandler&&Q.messageType===pi.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(ut(Q)):A.onMessageHandler.next(ut(Q)));const Re=Q.data;gi(Re)&&"1"===Re[Ei]&&(yield io(A,Q.messageType,Re))})).apply(this,arguments)}const Co="@firebase/messaging",qs=A=>{const L=new ci(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function Ju(A,L){return zo.apply(this,arguments)}(L,Q)),L},sa=A=>{const L=A.getProvider("messaging").getImmediate();return{getToken:Re=>function mi(A,L){return $s.apply(this,arguments)}(L,Re)}};function oa(){return aa.apply(this,arguments)}function aa(){return(aa=(0,V.Z)(function*(){try{yield(0,Ie.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,Ie.hl)()&&(0,Ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function so(){(0,Se._registerComponent)(new ne.wA("messaging",qs,"PUBLIC")),(0,Se._registerComponent)(new ne.wA("messaging-internal",sa,"PRIVATE")),(0,Se.registerVersion)(Co,"0.9.11"),(0,Se.registerVersion)(Co,"0.9.11","esm2017")}();const Us="analytics",ii="firebase_id",xu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ma="https://www.googletagmanager.com/gtag/js",Di=new me.Yd("@firebase/analytics");function Ra(A){return Promise.all(A.map(L=>L.catch(Q=>Q)))}function ao(A,L){const Q=document.createElement("script");Q.src=`${Ma}?l=${A}&id=${L}`,Q.async=!0,document.head.appendChild(Q)}function da(A,L,Q,Re,nt,_t){return vs.apply(this,arguments)}function vs(){return(vs=(0,V.Z)(function*(A,L,Q,Re,nt,_t){const Pt=Re[nt];try{if(Pt)yield L[Pt];else{const rr=(yield Ra(Q)).find(Xn=>Xn.measurementId===nt);rr&&(yield L[rr.appId])}}catch(Cn){Di.error(Cn)}A("config",nt,_t)})).apply(this,arguments)}function ha(A,L,Q,Re,nt){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,V.Z)(function*(A,L,Q,Re,nt){try{let _t=[];if(nt&&nt.send_to){let Pt=nt.send_to;Array.isArray(Pt)||(Pt=[Pt]);const Cn=yield Ra(Q);for(const rr of Pt){const Xn=Cn.find(lr=>lr.measurementId===rr),kr=Xn&&L[Xn.appId];if(!kr){_t=[];break}_t.push(kr)}}0===_t.length&&(_t=Object.values(L)),yield Promise.all(_t),A("event",Re,nt||{})}catch(_t){Di.error(_t)}})).apply(this,arguments)}function tu(){const A=window.document.getElementsByTagName("script");for(const L of Object.values(A))if(L.src&&L.src.includes(Ma))return L;return null}const Si=new Ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fa=new class tl{constructor(L={},Q=1e3){this.throttleMetadata=L,this.intervalMillis=Q}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,Q){this.throttleMetadata[L]=Q}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function nu(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function di(A){return pa.apply(this,arguments)}function pa(){return(pa=(0,V.Z)(function*(A){var L;const{appId:Q,apiKey:Re}=A,nt={method:"GET",headers:nu(Re)},_t=xu.replace("{app-id}",Q),Pt=yield fetch(_t,nt);if(200!==Pt.status&&304!==Pt.status){let Cn="";try{const rr=yield Pt.json();(null===(L=rr.error)||void 0===L?void 0:L.message)&&(Cn=rr.error.message)}catch(rr){}throw Si.create("config-fetch-failed",{httpStatus:Pt.status,responseMessage:Cn})}return Pt.json()})).apply(this,arguments)}function So(A){return yo.apply(this,arguments)}function yo(){return(yo=(0,V.Z)(function*(A,L=fa,Q){const{appId:Re,apiKey:nt,measurementId:_t}=A.options;if(!Re)throw Si.create("no-app-id");if(!nt){if(_t)return{measurementId:_t,appId:Re};throw Si.create("no-api-key")}const Pt=L.getThrottleMetadata(Re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Cn=new Hs;return setTimeout((0,V.Z)(function*(){Cn.abort()}),void 0!==Q?Q:6e4),Ao({appId:Re,apiKey:nt,measurementId:_t},Pt,Cn,L)})).apply(this,arguments)}function Ao(A,L,Q){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,V.Z)(function*(A,{throttleEndTimeMillis:L,backoffCount:Q},Re,nt=fa){const{appId:_t,measurementId:Pt}=A;try{yield vo(Re,L)}catch(Cn){if(Pt)return Di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${Cn.message}]`),{appId:_t,measurementId:Pt};throw Cn}try{const Cn=yield di(A);return nt.deleteThrottleMetadata(_t),Cn}catch(Cn){if(!ji(Cn)){if(nt.deleteThrottleMetadata(_t),Pt)return Di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${Cn.message}]`),{appId:_t,measurementId:Pt};throw Cn}const rr=503===Number(Cn.customData.httpStatus)?(0,Ie.$s)(Q,nt.intervalMillis,30):(0,Ie.$s)(Q,nt.intervalMillis),Xn={throttleEndTimeMillis:Date.now()+rr,backoffCount:Q+1};return nt.setThrottleMetadata(_t,Xn),Di.debug(`Calling attemptFetch again in ${rr} millis`),Ao(A,Xn,Re,nt)}})).apply(this,arguments)}function vo(A,L){return new Promise((Q,Re)=>{const nt=Math.max(L-Date.now(),0),_t=setTimeout(Q,nt);A.addEventListener(()=>{clearTimeout(_t),Re(Si.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}function ji(A){if(!(A instanceof Ie.ZR&&A.customData))return!1;const L=Number(A.customData.httpStatus);return 429===L||500===L||503===L||504===L}class Hs{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}function Ds(){return lo.apply(this,arguments)}function lo(){return(lo=(0,V.Z)(function*(){if(!(0,Ie.hl)())return Di.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ie.eu)()}catch(A){return Di.warn(Si.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function qt(){return(qt=(0,V.Z)(function*(A,L,Q,Re,nt,_t,Pt){var Cn;const rr=So(A);rr.then(ss=>{Q[ss.measurementId]=ss.appId,A.options.measurementId&&ss.measurementId!==A.options.measurementId&&Di.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${ss.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ss=>Di.error(ss)),L.push(rr);const Xn=Ds().then(ss=>{if(ss)return Re.getId()}),[kr,lr]=yield Promise.all([rr,Xn]);tu()||ao(_t,kr.measurementId),nt("js",new Date);const Gs=null!==(Cn=null==Pt?void 0:Pt.config)&&void 0!==Cn?Cn:{};return Gs.origin="firebase",Gs.update=!0,null!=lr&&(Gs[ii]=lr),nt("config",kr.measurementId,Gs),kr.measurementId})).apply(this,arguments)}class yi{constructor(L){this.app=L}_delete(){return delete ps[this.app.options.appId],Promise.resolve()}}let ps={},ga=[];const Dn={};let fn,bt,Hn="dataLayer",Bt=!1;function E(A,L,Q){!function D(){const A=[];if((0,Ie.ru)()&&A.push("This is a browser extension environment."),(0,Ie.zI)()||A.push("Cookies are not available."),A.length>0){const L=A.map((Re,nt)=>`(${nt+1}) ${Re}`).join(" "),Q=Si.create("invalid-analytics-context",{errorInfo:L});Di.warn(Q.message)}}();const Re=A.options.appId;if(!Re)throw Si.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Si.create("no-api-key");Di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ps[Re])throw Si.create("already-exists",{id:Re});if(!Bt){!function To(A){let L=[];Array.isArray(window[A])?L=window[A]:window[A]=L}(Hn);const{wrappedGtag:_t,gtagCore:Pt}=function Oi(A,L,Q,Re,nt){let _t=function(...Pt){window[Re].push(arguments)};return window[nt]&&"function"==typeof window[nt]&&(_t=window[nt]),window[nt]=function uo(A,L,Q,Re){function _t(){return(_t=(0,V.Z)(function*(Pt,Cn,rr){try{"event"===Pt?yield ha(A,L,Q,Cn,rr):"config"===Pt?yield da(A,L,Q,Re,Cn,rr):A("set",Cn)}catch(Xn){Di.error(Xn)}})).apply(this,arguments)}return function nt(Pt,Cn,rr){return _t.apply(this,arguments)}}(_t,A,L,Q),{gtagCore:_t,wrappedGtag:window[nt]}}(ps,ga,Dn,Hn,"gtag");bt=_t,fn=Pt,Bt=!0}return ps[Re]=function Pa(A,L,Q,Re,nt,_t,Pt){return qt.apply(this,arguments)}(A,ga,Dn,L,fn,Hn,Q),new yi(A)}function R(){return(R=(0,V.Z)(function*(A,L,Q,Re,nt){if(nt&&nt.global)A("event",Q,Re);else{const _t=yield L;A("event",Q,Object.assign(Object.assign({},Re),{send_to:_t}))}})).apply(this,arguments)}function Hi(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,V.Z)(function*(){if((0,Ie.ru)()||!(0,Ie.zI)()||!(0,Ie.hl)())return!1;try{return yield(0,Ie.eu)()}catch(A){return!1}})).apply(this,arguments)}const Nr="@firebase/analytics";!function is(){(0,Se._registerComponent)(new ne.wA(Us,(L,{options:Q})=>E(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,Se._registerComponent)(new ne.wA("analytics-internal",function A(L){try{const Q=L.getProvider(Us).getImmediate();return{logEvent:(Re,nt,_t)=>function iu(A,L,Q,Re){A=(0,Ie.m9)(A),function _(A,L,Q,Re,nt){return R.apply(this,arguments)}(bt,ps[A.app.options.appId],L,Q,Re).catch(nt=>Di.error(nt))}(Q,Re,nt,_t)}}catch(Q){throw Si.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,Se.registerVersion)(Nr,"0.7.7"),(0,Se.registerVersion)(Nr,"0.7.7","esm2017")}();var ma=N(341),_d=N(353),Gi=N(2868),Ed=N(8915),xo=N(2102);const Pi=new a.GfV("7.3.0"),Cs="__angularfire_symbol__analyticsIsSupportedValue",ya="__angularfire_symbol__analyticsIsSupported",vi="__angularfire_symbol__remoteConfigIsSupportedValue",Mo="__angularfire_symbol__remoteConfigIsSupported",Ro="__angularfire_symbol__messagingIsSupportedValue",_o="__angularfire_symbol__messagingIsSupported";function su(A,L,Q){if(L){if(1===L.length)return L[0];const _t=L.filter(Pt=>Pt.app===Q);if(1===_t.length)return _t[0]}return Q.container.getProvider(A).getImmediate({optional:!0})}globalThis[ya]||(globalThis[ya]=Hi().then(A=>globalThis[Cs]=A).catch(()=>globalThis[Cs]=!1)),globalThis[_o]||(globalThis[_o]=oa().then(A=>globalThis[Ro]=A).catch(()=>globalThis[Ro]=!1)),globalThis[Mo]||(globalThis[Mo]=fo().then(A=>globalThis[vi]=A).catch(()=>globalThis[vi]=!1));const Yo=(A,L)=>{const Q=L?[L]:(0,$.C6)(),Re=[];return Q.forEach(nt=>{nt.container.getProvider(A).instances.forEach(Pt=>{Re.includes(Pt)||Re.push(Pt)})}),Re};function ks(){}class co{constructor(L,Q=ma.N){this.zone=L,this.delegate=Q}now(){return this.delegate.now()}schedule(L,Q,Re){const nt=this.zone;return this.delegate.schedule(function(Pt){nt.runGuarded(()=>{L.apply(this,[Pt])})},Q,Re)}}class ou{constructor(L){this.zone=L,this.task=null}call(L,Q){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks)),Q.pipe((0,Gi.b)({next:Re,complete:Re,error:Re})).subscribe(L).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oo=(()=>{class A{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new co(Zone.current)),this.insideAngular=Q.run(()=>new co(Zone.current,_d.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(Q){return new(Q||A)(a.LFG(a.R0b))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function va(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function au(A){return va(),function Na(A){return function(Q){return(Q=Q.lift(new ou(A.ngZone))).pipe((0,Ed.R)(A.outsideAngular),(0,xo.QV)(A.insideAngular))}}(va())(A)}},424:(Xt,rt,N)=>{"use strict";N.d(rt,{$:()=>k,A:()=>oe,E:()=>qn,G:()=>An,I:()=>Br,K:()=>ge,L:()=>Qi,M:()=>Os,N:()=>ms,P:()=>_o,Q:()=>Es,R:()=>Ai,T:()=>es,U:()=>pi,V:()=>bi,W:()=>ts,X:()=>Nt,Y:()=>Or,Z:()=>Ir,_:()=>zr,a:()=>mo,a0:()=>T,a1:()=>p,a2:()=>m,a3:()=>te,a4:()=>Zt,a5:()=>mn,a6:()=>Pr,a7:()=>gi,a8:()=>Ui,a9:()=>Go,aA:()=>bo,aB:()=>Re,aC:()=>Qt,aG:()=>fa,aJ:()=>Ei,aa:()=>ro,ab:()=>Ri,ae:()=>io,af:()=>Au,ag:()=>Ju,aj:()=>Ti,ak:()=>oo,am:()=>xu,an:()=>da,ao:()=>gr,ap:()=>le,aq:()=>zn,ar:()=>hn,as:()=>J,at:()=>ll,au:()=>rl,av:()=>Qe,aw:()=>Be,ax:()=>ae,ay:()=>$e,az:()=>Ea,b:()=>fs,c:()=>ou,d:()=>Ni,e:()=>va,f:()=>Pt,g:()=>Gs,h:()=>Xn,i:()=>D,j:()=>_a,k:()=>Cd,l:()=>Ed,m:()=>hu,o:()=>Ee,r:()=>Pi,s:()=>_d,u:()=>Mo,z:()=>Fe});var a=N(5861),$=N(2090),V=N(9681),Se=N(655),Ie=N(1877),ne=N(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function Z(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ie=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new Ie.Yd("@firebase/auth");function Je(b,...f){fe.logLevel<=Ie.in.ERROR&&fe.error(`Auth (${V.SDK_VERSION}): ${b}`,...f)}function J(b,...f){throw lt(b,...f)}function Qe(b,...f){return lt(b,...f)}function we(b,f,g){const w=Object.assign(Object.assign({},ke()),{[f]:g});return new $.LL("auth","Firebase",w).create(f,{appName:b.name})}function We(b,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&J(b,"argument-error"),we(b,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(b,...f){if("string"!=typeof b){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(g,...w)}return ie.create(b,...f)}function Be(b,f,...g){if(!b)throw lt(f,...g)}function Ct(b){const f="INTERNAL ASSERTION FAILED: "+b;throw Je(f),new Error(f)}function le(b,f){b||Ct(f)}const Pe=new Map;function ae(b){le(b instanceof Function,"Expected a class definition");let f=Pe.get(b);return f?(le(f instanceof b,"Instance stored in cache mismatched with class"),f):(f=new b,Pe.set(b,f),f)}function Ve(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function kt(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class et{constructor(f,g){this.shortDelay=f,this.longDelay=g,le(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function at(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ze(b,f){le(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class tt{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ke=new et(3e4,6e4);function ct(b,f){return b.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:b.tenantId}):f}function ft(b,f,g,w){return $t.apply(this,arguments)}function $t(){return($t=(0,a.Z)(function*(b,f,g,w,G={}){return cn(b,G,(0,a.Z)(function*(){let pe={},vt={};w&&("GET"===f?vt=w:pe={body:JSON.stringify(w)});const Ht=(0,$.xO)(Object.assign({key:b.config.apiKey},vt)).slice(1),Fn=yield b._getAdditionalHeaders();return Fn["Content-Type"]="application/json",b.languageCode&&(Fn["X-Firebase-Locale"]=b.languageCode),tt.fetch()(Gn(b,b.config.apiHost,g,Ht),Object.assign({method:f,headers:Fn,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function cn(b,f,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(b,f,g){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},Me),f);try{const G=new Un(b),pe=yield Promise.race([g(),G.promise]);G.clearNetworkTimeout();const vt=yield pe.json();if("needConfirmation"in vt)throw Kn(b,"account-exists-with-different-credential",vt);if(pe.ok&&!("errorMessage"in vt))return vt;{const Ht=pe.ok?vt.errorMessage:vt.error.message,[Fn,Qn]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fn)throw Kn(b,"credential-already-in-use",vt);if("EMAIL_EXISTS"===Fn)throw Kn(b,"email-already-in-use",vt);const wr=w[Fn]||Fn.toLowerCase().replace(/[_\s]+/g,"-");if(Qn)throw we(b,wr,Qn);J(b,wr)}}catch(G){if(G instanceof $.ZR)throw G;J(b,"network-request-failed")}})).apply(this,arguments)}function sn(b,f,g,w){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(b,f,g,w,G={}){const pe=yield ft(b,f,g,w,G);return"mfaPendingCredential"in pe&&J(b,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function Gn(b,f,g,w){const G=`${f}${g}?${w}`;return b.config.emulator?Ze(b.config,G):`${b.config.apiScheme}://${G}`}class Un{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Qe(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(b,f,g){const w={appName:b.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const G=Qe(b,f,w);return G.customData._tokenResponse=g,G}function In(){return(In=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function kn(b,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Rn(b,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function tn(b){if(b)try{const f=new Date(Number(b));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ot(){return(Ot=(0,a.Z)(function*(b,f=!1){const g=(0,$.m9)(b),w=yield g.getIdToken(f),G=jn(w);Be(G&&G.exp&&G.auth_time&&G.iat,g.auth,"internal-error");const pe="object"==typeof G.firebase?G.firebase:void 0,vt=null==pe?void 0:pe.sign_in_provider;return{claims:G,token:w,authTime:tn(Dr(G.auth_time)),issuedAtTime:tn(Dr(G.iat)),expirationTime:tn(Dr(G.exp)),signInProvider:vt||null,signInSecondFactor:(null==pe?void 0:pe.sign_in_second_factor)||null}})).apply(this,arguments)}function Dr(b){return 1e3*Number(b)}function jn(b){const[f,g,w]=b.split(".");if(void 0===f||void 0===g||void 0===w)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,$.tV)(g);return G?JSON.parse(G):(Je("Failed to decode base64 JWT payload"),null)}catch(G){return Je("Caught error parsing JWT payload as JSON",G),null}}function Kt(b,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(b,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof $.ZR&&qr(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function qr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class ir{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const G=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Ur{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pr(b){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(b){var f;const g=b.auth,w=yield b.getIdToken(),G=yield Kt(b,Rn(g,{idToken:w}));Be(null==G?void 0:G.users.length,g,"internal-error");const pe=G.users[0];b._notifyReloadListener(pe);const vt=(null===(f=pe.providerUserInfo)||void 0===f?void 0:f.length)?zt(pe.providerUserInfo):[],Ht=Jn(b.providerData,vt),wr=!!b.isAnonymous&&!(b.email&&pe.passwordHash||(null==Ht?void 0:Ht.length)),Fr={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Ht,metadata:new Ur(pe.createdAt,pe.lastLoginAt),isAnonymous:wr};Object.assign(b,Fr)})).apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(b){const f=(0,$.m9)(b);yield pr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Jn(b,f){return[...b.filter(w=>!f.some(G=>G.providerId===w.providerId)),...f]}function zt(b){return b.map(f=>{var{providerId:g}=f,w=(0,Se._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Lt(){return(Lt=(0,a.Z)(function*(b,f){const g=yield cn(b,{},(0,a.Z)(function*(){const w=(0,$.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:G,apiKey:pe}=b.config,vt=Gn(b,G,"/v1/token",`key=${pe}`),Ht=yield b._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",tt.fetch()(vt,{method:"POST",headers:Ht,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class yn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Be(f.idToken,"internal-error"),Be(void 0!==f.idToken,"internal-error"),Be(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function on(b){const f=jn(b);return Be(f,"internal-error"),Be(void 0!==f.exp,"internal-error"),Be(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,a.Z)(function*(){return Be(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,a.Z)(function*(){const{accessToken:G,refreshToken:pe,expiresIn:vt}=yield function It(b,f){return Lt.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(G,pe,Number(vt))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:G,expirationTime:pe}=g,vt=new yn;return w&&(Be("string"==typeof w,"internal-error",{appName:f}),vt.refreshToken=w),G&&(Be("string"==typeof G,"internal-error",{appName:f}),vt.accessToken=G),pe&&(Be("number"==typeof pe,"internal-error",{appName:f}),vt.expirationTime=pe),vt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new yn,this.toJSON())}_performRefresh(){return Ct("not implemented")}}function en(b,f){Be("string"==typeof b||void 0===b,"internal-error",{appName:f})}class Tn{constructor(f){var{uid:g,auth:w,stsTokenManager:G}=f,pe=(0,Se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new Ur(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const w=yield Kt(g,g.stsTokenManager.getToken(g.auth,f));return Be(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function $r(b){return Ot.apply(this,arguments)}(this,f)}reload(){return function ur(b){return Pn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Be(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Tn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,a.Z)(function*(){let G=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),G=!0),g&&(yield pr(w)),yield w.auth._persistUserIfCurrent(w),G&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield Kt(f,function er(b,f){return In.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,G,pe,vt,Ht,Fn,Qn,wr;const Fr=null!==(w=g.displayName)&&void 0!==w?w:void 0,os=null!==(G=g.email)&&void 0!==G?G:void 0,Qo=null!==(pe=g.phoneNumber)&&void 0!==pe?pe:void 0,Nu=null!==(vt=g.photoURL)&&void 0!==vt?vt:void 0,Gl=null!==(Ht=g.tenantId)&&void 0!==Ht?Ht:void 0,ku=null!==(Fn=g._redirectEventId)&&void 0!==Fn?Fn:void 0,Mc=null!==(Qn=g.createdAt)&&void 0!==Qn?Qn:void 0,Fh=null!==(wr=g.lastLoginAt)&&void 0!==wr?wr:void 0,{uid:xi,emailVerified:Lr,isAnonymous:dl,providerData:Rc,stsTokenManager:Va}=g;Be(xi&&Va,f,"internal-error");const zi=yn.fromJSON(this.name,Va);Be("string"==typeof xi,f,"internal-error"),en(Fr,f.name),en(os,f.name),Be("boolean"==typeof Lr,f,"internal-error"),Be("boolean"==typeof dl,f,"internal-error"),en(Qo,f.name),en(Nu,f.name),en(Gl,f.name),en(ku,f.name),en(Mc,f.name),en(Fh,f.name);const Fu=new Tn({uid:xi,auth:f,email:os,emailVerified:Lr,displayName:Fr,isAnonymous:dl,photoURL:Nu,phoneNumber:Qo,tenantId:Gl,stsTokenManager:zi,createdAt:Mc,lastLoginAt:Fh});return Rc&&Array.isArray(Rc)&&(Fu.providerData=Rc.map(Ss=>Object.assign({},Ss))),ku&&(Fu._redirectEventId=ku),Fu}static _fromIdTokenResponse(f,g,w=!1){return(0,a.Z)(function*(){const G=new yn;G.updateFromServerResponse(g);const pe=new Tn({uid:g.localId,auth:f,stsTokenManager:G,isAnonymous:w});return yield pr(pe),pe})()}}const ge=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,w){var G=this;return(0,a.Z)(function*(){G.storage[g]=w})()}_get(g){var w=this;return(0,a.Z)(function*(){const G=w.storage[g];return void 0===G?null:G})()}_remove(g){var w=this;return(0,a.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return b.type="NONE",b})();function $e(b,f,g){return`firebase:${b}:${f}:${g}`}class dt{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:G,name:pe}=this.auth;this.fullUserKey=$e(this.userKey,G.apiKey,pe),this.fullPersistenceKey=$e("persistence",G.apiKey,pe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Tn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,a.Z)(function*(){if(!g.length)return new dt(ae(ge),f,w);const G=(yield Promise.all(g.map(function(){var Qn=(0,a.Z)(function*(wr){if(yield wr._isAvailable())return wr});return function(wr){return Qn.apply(this,arguments)}}()))).filter(Qn=>Qn);let pe=G[0]||ae(ge);const vt=$e(w,f.config.apiKey,f.name);let Ht=null;for(const Qn of g)try{const wr=yield Qn._get(vt);if(wr){const Fr=Tn._fromJSON(f,wr);Qn!==pe&&(Ht=Fr),pe=Qn;break}}catch(wr){}const Fn=G.filter(Qn=>Qn._shouldAllowMigration);return pe._shouldAllowMigration&&Fn.length?(pe=Fn[0],Ht&&(yield pe._set(vt,Ht.toJSON())),yield Promise.all(g.map(function(){var Qn=(0,a.Z)(function*(wr){if(wr!==pe)try{yield wr._remove(vt)}catch(Fr){}});return function(wr){return Qn.apply(this,arguments)}}())),new dt(pe,f,w)):new dt(pe,f,w)})()}}function se(b){const f=b.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Vt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(he(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Bn(f))return"Blackberry";if(pn(f))return"Webos";if(_e(f))return"Safari";if((f.includes("chrome/")||mt(f))&&!f.includes("edge/"))return"Chrome";if(hn(f))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function he(b=(0,$.z$)()){return/firefox\//i.test(b)}function _e(b=(0,$.z$)()){const f=b.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function mt(b=(0,$.z$)()){return/crios\//i.test(b)}function Vt(b=(0,$.z$)()){return/iemobile/i.test(b)}function hn(b=(0,$.z$)()){return/android/i.test(b)}function Bn(b=(0,$.z$)()){return/blackberry/i.test(b)}function pn(b=(0,$.z$)()){return/webos/i.test(b)}function zn(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)}function gr(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function De(b=(0,$.z$)()){return zn(b)||hn(b)||pn(b)||Bn(b)||/windows phone/i.test(b)||Vt(b)}function pt(b,f=[]){let g;switch(b){case"Browser":g=se((0,$.z$)());break;case"Worker":g=`${se((0,$.z$)())}-${b}`;break;default:g=b}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${V.SDK_VERSION}/${w}`}class Dt{constructor(f,g,w){this.app=f,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new an(this),this.idTokenSubscription=new an(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var G,pe;if(!w._deleted&&(w.persistenceManager=yield dt.create(w,f),!w._deleted)){if(null===(G=w._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(vt){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(pe=w.currentUser)||void 0===pe?void 0:pe.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var w;let G=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const pe=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,vt=null==G?void 0:G._redirectEventId,Ht=yield g.tryRedirectSignIn(f);(!pe||pe===vt)&&(null==Ht?void 0:Ht.user)&&(G=Ht.user)}return G?G._redirectEventId?(Be(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===G._redirectEventId?g.directlySetCurrentUser(G):g.reloadAndSetCurrentUserOrClear(G)):g.reloadAndSetCurrentUserOrClear(G):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(G){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield pr(f)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function it(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const w=f?(0,$.m9)(f):null;return w&&Be(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){if(!g._deleted)return f&&Be(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,a.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new $.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,a.Z)(function*(){const G=yield w.getOrInitRedirectPersistenceManager(g);return null===f?G.removeCurrentUser():G.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&ae(f)||g._popupRedirectResolver;Be(w,g,"argument-error"),g.redirectPersistenceManager=yield dt.create(g,[ae(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var w,G;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(G=g.redirectUser)||void 0===G?void 0:G._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,G){if(this._deleted)return()=>{};const pe="function"==typeof g?g:g.next.bind(g),vt=this._isInitialized?Promise.resolve():this._initializationPromise;return Be(vt,this,"internal-error"),vt.then(()=>pe(this.currentUser)),"function"==typeof g?f.addObserver(g,w,G):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=pt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const G=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return G&&(w["X-Firebase-Client"]=G),w})()}}function Qt(b){return(0,$.m9)(b)}class an{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,$.ne)(g=>this.observer=g)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qn(b,f,g){const w=Qt(b);Be(w._canInitEmulator,w,"emulator-config-failed"),Be(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const G=!!(null==g?void 0:g.disableWarnings),pe=Zn(f),{host:vt,port:Ht}=function Cr(b){const f=Zn(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(w);if(G){const pe=G[1];return{host:pe,port:Er(w.substr(pe.length+1))}}{const[pe,vt]=w.split(":");return{host:pe,port:Er(vt)}}}(f);w.config.emulator={url:`${pe}//${vt}${null===Ht?"":`:${Ht}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:vt,port:Ht,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function Jt(){function b(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Zn(b){const f=b.indexOf(":");return f<0?"":b.substr(0,f+1)}function Er(b){if(!b)return null;const f=Number(b);return isNaN(f)?null:f}class An{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Ct("not implemented")}_getIdTokenResponse(f){return Ct("not implemented")}_linkToIdToken(f,g){return Ct("not implemented")}_getReauthenticationResolver(f){return Ct("not implemented")}}function hr(b,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:resetPassword",ct(b,f))})).apply(this,arguments)}function Yr(b,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ei(b,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:update",ct(b,f))})).apply(this,arguments)}function jr(){return(jr=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signInWithPassword",ct(b,f))})).apply(this,arguments)}function xn(b,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:sendOobCode",ct(b,f))})).apply(this,arguments)}function si(b,f){return Y.apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(b,f){return xn(b,f)})).apply(this,arguments)}function de(b,f){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(b,f){return xn(b,f)})).apply(this,arguments)}function Ce(b,f){return He.apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(b,f){return xn(b,f)})).apply(this,arguments)}function Xe(b,f){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(b,f){return xn(b,f)})).apply(this,arguments)}function At(){return(At=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signInWithEmailLink",ct(b,f))})).apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signInWithEmailLink",ct(b,f))})).apply(this,arguments)}class _n extends An{constructor(f,g,w,G=null){super("password",w),this._email=f,this._password=g,this._tenantId=G}static _fromEmailAndPassword(f,g){return new _n(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new _n(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function hi(b,f){return jr.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function wt(b,f){return At.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:J(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return Yr(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Mt(b,f){return nn.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:J(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Mn(b,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signInWithIdp",ct(b,f))})).apply(this,arguments)}class Br extends An{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Br(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):J("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:G}=g,pe=(0,Se._T)(g,["providerId","signInMethod"]);if(!w||!G)return null;const vt=new Br(w,G);return vt.idToken=pe.idToken||void 0,vt.accessToken=pe.accessToken||void 0,vt.secret=pe.secret,vt.nonce=pe.nonce,vt.pendingToken=pe.pendingToken||null,vt}_getIdTokenResponse(f){return Mn(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Mn(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Mn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,$.xO)(g)}return f}}function Ye(b,f){return je.apply(this,arguments)}function je(){return(je=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:sendVerificationCode",ct(b,f))})).apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",ct(b,f))})).apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(b,f){const g=yield sn(b,"POST","/v1/accounts:signInWithPhoneNumber",ct(b,f));if(g.temporaryProof)throw Kn(b,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const xr={USER_NOT_FOUND:"user-not-found"};function _r(){return(_r=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signInWithPhoneNumber",ct(b,Object.assign(Object.assign({},f),{operation:"REAUTH"})),xr)})).apply(this,arguments)}class oi extends An{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new oi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new oi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ot(b,f){return Tt.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Wt(b,f){return bn.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Kr(b,f){return _r.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:G}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:G}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:G,temporaryProof:pe}=f;return w||g||G||pe?new oi({verificationId:g,verificationCode:w,phoneNumber:G,temporaryProof:pe}):null}}class Xi{constructor(f){var g,w,G,pe,vt,Ht;const Fn=(0,$.zd)((0,$.pd)(f)),Qn=null!==(g=Fn.apiKey)&&void 0!==g?g:null,wr=null!==(w=Fn.oobCode)&&void 0!==w?w:null,Fr=function Ci(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Fn.mode)&&void 0!==G?G:null);Be(Qn&&wr&&Fr,"argument-error"),this.apiKey=Qn,this.operation=Fr,this.code=wr,this.continueUrl=null!==(pe=Fn.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(vt=Fn.languageCode)&&void 0!==vt?vt:null,this.tenantId=null!==(Ht=Fn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(f){const g=function Zi(b){const f=(0,$.zd)((0,$.pd)(b)).link,g=f?(0,$.zd)((0,$.pd)(f)).deep_link_id:null,w=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(w?(0,$.zd)((0,$.pd)(w)).link:null)||w||g||f||b}(f);try{return new Xi(g)}catch(w){return null}}}let Qi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,w){return _n._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const G=Xi.parseLink(w);return Be(G,"argument-error"),_n._fromEmailAndCode(g,G.code,G.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class fi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Rs extends fi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class es extends Rs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Be("providerId"in g&&"signInMethod"in g,"argument-error"),Br._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Be(f.idToken||f.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return es.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return es.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:G,pendingToken:pe,nonce:vt,providerId:Ht}=f;if(!w&&!G&&!g&&!pe||!Ht)return null;try{return new es(Ht)._credential({idToken:g,accessToken:w,nonce:vt,pendingToken:pe})}catch(Fn){return null}}}let Os=(()=>{class b extends Rs{constructor(){super("facebook.com")}static credential(g){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch(w){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ms=(()=>{class b extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:G}=g;if(!w&&!G)return null;try{return b.credential(w,G)}catch(pe){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Es=(()=>{class b extends Rs{constructor(){super("github.com")}static credential(g){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch(w){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ei extends An{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Mn(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,Mn(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Mn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:G,pendingToken:pe}=g;return w&&G&&pe&&w===G?new Ei(w,pe):null}static _create(f,g){return new Ei(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pi extends fi{constructor(f){Be(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return pi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return pi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Ei.fromJSON(f);return Be(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Ei._create(w,g)}catch(G){return null}}}let bi=(()=>{class b extends Rs{constructor(){super("twitter.com")}static credential(g,w){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:G}=g;if(!w||!G)return null;try{return b.credential(w,G)}catch(pe){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function go(b,f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signUp",ct(b,f))})).apply(this,arguments)}class ni{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,G=!1){return(0,a.Z)(function*(){const pe=yield Tn._fromIdTokenResponse(f,w,G),vt=Mi(w);return new ni({user:pe,providerId:vt,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const G=Mi(w);return new ni({user:f,providerId:G,_tokenResponse:w,operationType:g})})()}}function Mi(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ts(b){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(b){var f;const g=Qt(b);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new ni({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield go(g,{returnSecureToken:!0}),G=yield ni._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(G.user),G})).apply(this,arguments)}class Zr extends $.ZR{constructor(f,g,w,G){var pe;super(g.code,g.message),this.operationType=w,this.user=G,Object.setPrototypeOf(this,Zr.prototype),this.customData={appName:f.name,tenantId:null!==(pe=f.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,G){return new Zr(f,g,w,G)}}function ai(b,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?Zr._fromErrorAndOperation(b,pe,f,w):pe})}function bs(b){return new Set(b.map(({providerId:f})=>f).filter(f=>!!f))}function Ti(b,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,a.Z)(function*(b,f){const g=(0,$.m9)(b);yield O(!0,g,f);const{providerUserInfo:w}=yield kn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),G=bs(w||[]);return g.providerData=g.providerData.filter(pe=>G.has(pe.providerId)),G.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ds(b,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(b,f,g=!1){const w=yield Kt(b,f._linkToIdToken(b.auth,yield b.getIdToken()),g);return ni._forOperation(b,"link",w)})).apply(this,arguments)}function O(b,f,g){return W.apply(this,arguments)}function W(){return(W=(0,a.Z)(function*(b,f,g){yield pr(f);const G=!1===b?"provider-already-linked":"no-such-provider";Be(bs(f.providerData).has(g)===b,f.auth,G)})).apply(this,arguments)}function F(b,f){return ee.apply(this,arguments)}function ee(){return(ee=(0,a.Z)(function*(b,f,g=!1){const{auth:w}=b,G="reauthenticate";try{const pe=yield Kt(b,ai(w,G,f,b),g);Be(pe.idToken,w,"internal-error");const vt=jn(pe.idToken);Be(vt,w,"internal-error");const{sub:Ht}=vt;return Be(b.uid===Ht,w,"user-mismatch"),ni._forOperation(b,G,pe)}catch(pe){throw"auth/user-not-found"===(null==pe?void 0:pe.code)&&J(w,"user-mismatch"),pe}})).apply(this,arguments)}function Oe(b,f){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(b,f,g=!1){const w="signIn",G=yield ai(b,w,f),pe=yield ni._fromIdTokenResponse(b,w,G);return g||(yield b._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function Nt(b,f){return jt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(b,f){return Oe(Qt(b),f)})).apply(this,arguments)}function Or(b,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(b,f){const g=(0,$.m9)(b);return yield O(!1,g,f.providerId),ds(g,f)})).apply(this,arguments)}function Ir(b,f){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,a.Z)(function*(b,f){return F((0,$.m9)(b),f)})).apply(this,arguments)}function Qr(b,f){return br.apply(this,arguments)}function br(){return(br=(0,a.Z)(function*(b,f){return sn(b,"POST","/v1/accounts:signInWithCustomToken",ct(b,f))})).apply(this,arguments)}function zr(b,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(b,f){const g=Qt(b),w=yield Qr(g,{token:f,returnSecureToken:!0}),G=yield ni._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(G.user),G})).apply(this,arguments)}class Bi{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?$i._fromServerResponse(f,g):J(f,"internal-error")}}class $i extends Bi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new $i(g)}}function li(b,f,g){var w;Be((null===(w=g.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),Be(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Be(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Be(g.android.packageName.length>0,b,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function k(b,f,g){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b),G={requestType:"PASSWORD_RESET",email:f};g&&li(w,G,g),yield de(w,G)})).apply(this,arguments)}function T(b,f,g){return H.apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(b,f,g){yield hr((0,$.m9)(b),{oobCode:f,newPassword:g})})).apply(this,arguments)}function p(b,f){return M.apply(this,arguments)}function M(){return(M=(0,a.Z)(function*(b,f){yield ei((0,$.m9)(b),{oobCode:f})})).apply(this,arguments)}function m(b,f){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)(function*(b,f){const g=(0,$.m9)(b),w=yield hr(g,{oobCode:f}),G=w.requestType;switch(Be(G,g,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Be(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Be(w.mfaInfo,g,"internal-error");default:Be(w.email,g,"internal-error")}let pe=null;return w.mfaInfo&&(pe=Bi._fromServerResponse(Qt(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:pe},operation:G}})).apply(this,arguments)}function te(b,f){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(b,f){const{data:g}=yield m((0,$.m9)(b),f);return g.email})).apply(this,arguments)}function Zt(b,f,g){return ut.apply(this,arguments)}function ut(){return(ut=(0,a.Z)(function*(b,f,g){const w=Qt(b),G=yield go(w,{returnSecureToken:!0,email:f,password:g}),pe=yield ni._fromIdTokenResponse(w,"signIn",G);return yield w._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function mn(b,f,g){return Nt((0,$.m9)(b),Qi.credential(f,g))}function Pr(b,f,g){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b),G={requestType:"EMAIL_SIGNIN",email:f};Be(g.handleCodeInApp,w,"argument-error"),g&&li(w,G,g),yield Ce(w,G)})).apply(this,arguments)}function gi(b,f){const g=Xi.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Ui(b,f,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b),G=Qi.credentialWithLink(f,g||Ve());return Be(G._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Nt(w,G)})).apply(this,arguments)}function hs(b,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:createAuthUri",ct(b,f))})).apply(this,arguments)}function Go(b,f){return no.apply(this,arguments)}function no(){return(no=(0,a.Z)(function*(b,f){const w={identifier:f,continueUri:kt()?Ve():"http://localhost"},{signinMethods:G}=yield hs((0,$.m9)(b),w);return G||[]})).apply(this,arguments)}function ro(b,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(b,f){const g=(0,$.m9)(b),G={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};f&&li(g.auth,G,f);const{email:pe}=yield si(g.auth,G);pe!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ri(b,f,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:f};g&&li(w.auth,pe,g);const{email:vt}=yield Xe(w.auth,pe);vt!==b.email&&(yield b.reload())})).apply(this,arguments)}function mi(b,f){return $s.apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(b,f){return ft(b,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function io(b,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(b,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,$.m9)(b),pe={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},vt=yield Kt(w,mi(w.auth,pe));w.displayName=vt.displayName||null,w.photoURL=vt.photoUrl||null;const Ht=w.providerData.find(({providerId:Fn})=>"password"===Fn);Ht&&(Ht.displayName=w.displayName,Ht.photoURL=w.photoURL),yield w._updateTokensIfNecessary(vt)})).apply(this,arguments)}function Au(b,f){return zo((0,$.m9)(b),f,null)}function Ju(b,f){return zo((0,$.m9)(b),null,f)}function zo(b,f,g){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(b,f,g){const{auth:w}=b,pe={idToken:yield b.getIdToken(),returnSecureToken:!0};f&&(pe.email=f),g&&(pe.password=g);const vt=yield Kt(b,Yr(w,pe));yield b._updateTokensIfNecessary(vt,!0)})).apply(this,arguments)}class qs{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class sa extends qs{constructor(f,g,w,G){super(f,g,w),this.username=G}}class so extends qs{constructor(f,g){super(f,"facebook.com",g)}}class oa extends sa{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class aa extends qs{constructor(f,g){super(f,"google.com",g)}}class ua extends sa{constructor(f,g,w){super(f,"twitter.com",g,w)}}function oo(b){const{user:f,_tokenResponse:g}=b;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ia(b){var f,g;if(!b)return null;const{providerId:w}=b,G=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},pe=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&(null==b?void 0:b.idToken)){const vt=null===(g=null===(f=jn(b.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(vt)return new qs(pe,"anonymous"!==vt&&"custom"!==vt?vt:null)}if(!w)return null;switch(w){case"facebook.com":return new so(pe,G);case"github.com":return new oa(pe,G);case"google.com":return new aa(pe,G);case"twitter.com":return new ua(pe,G,b.screenName||null);case"custom":case"anonymous":return new qs(pe,null);default:return new qs(pe,w,G)}}(g)}class ws{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ws("enroll",f)}static _fromMfaPendingCredential(f){return new ws("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ws._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return ws._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ca{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=Qt(f),G=g.customData._serverResponse,pe=(G.mfaInfo||[]).map(Ht=>Bi._fromServerResponse(w,Ht));Be(G.mfaPendingCredential,w,"internal-error");const vt=ws._fromMfaPendingCredential(G.mfaPendingCredential);return new ca(vt,pe,function(){var Ht=(0,a.Z)(function*(Fn){const Qn=yield Fn._process(w,vt);delete G.mfaInfo,delete G.mfaPendingCredential;const wr=Object.assign(Object.assign({},G),{idToken:Qn.idToken,refreshToken:Qn.refreshToken});switch(g.operationType){case"signIn":const Fr=yield ni._fromIdTokenResponse(w,g.operationType,wr);return yield w._updateCurrentUser(Fr.user),Fr;case"reauthenticate":return Be(g.user,w,"internal-error"),ni._forOperation(g.user,g.operationType,wr);default:J(w,"internal-error")}});return function(Fn){return Ht.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}function xu(b,f){var g;const w=(0,$.m9)(b),G=f;return Be(f.customData.operationType,w,"argument-error"),Be(null===(g=G.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ca._fromError(w,G)}function Ma(b,f){return ft(b,"POST","/v2/accounts/mfaEnrollment:start",ct(b,f))}class ao{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Bi._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new ao(f)}getSession(){var f=this;return(0,a.Z)(function*(){return ws._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var w=this;return(0,a.Z)(function*(){const G=f,pe=yield w.getSession(),vt=yield Kt(w.user,G._process(w.user.auth,pe,g));return yield w.user._updateTokensIfNecessary(vt),w.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const w="string"==typeof f?f:f.uid,G=yield g.user.getIdToken(),pe=yield Kt(g.user,function Ra(b,f){return ft(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(b,f))}(g.user.auth,{idToken:G,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:vt})=>vt!==w),yield g.user._updateTokensIfNecessary(pe);try{yield g.user.reload()}catch(vt){if("auth/user-token-expired"!==vt.code)throw vt}})()}}const To=new WeakMap;function da(b){const f=(0,$.m9)(b);return To.has(f)||To.set(f,ao._fromUser(f)),To.get(f)}const vs="__sak";class ha{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(vs,"1"),this.storage.removeItem(vs),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const fs=(()=>{class b extends ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oa(){const b=(0,$.z$)();return _e(b)||zn(b)}()&&function ye(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=De(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const G=this.storage.getItem(w),pe=this.localCache[w];G!==pe&&g(w,pe,G)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Ht,Fn,Qn)=>{this.notifyListeners(Ht,Qn)});const G=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(G);if(g.newValue!==Ht)null!==g.newValue?this.storage.setItem(G,g.newValue):this.storage.removeItem(G);else if(this.localCache[G]===g.newValue&&!w)return}const pe=()=>{const Ht=this.storage.getItem(G);!w&&this.localCache[G]===Ht||this.notifyListeners(G,Ht)},vt=this.storage.getItem(G);!function Le(){return(0,$.w1)()&&10===document.documentMode}()||vt===g.newValue||g.newValue===g.oldValue?pe():setTimeout(pe,10)}notifyListeners(g,w){this.localCache[g]=w;const G=this.listeners[g];if(G)for(const pe of Array.from(G))pe(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var G=()=>super._set,pe=this;return(0,a.Z)(function*(){yield G().call(pe,g,w),pe.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,G=this;return(0,a.Z)(function*(){const pe=yield w().call(G,g);return G.localCache[g]=JSON.stringify(pe),pe})()}_remove(g){var w=()=>super._remove,G=this;return(0,a.Z)(function*(){yield w().call(G,g),delete G.localCache[g]})()}}return b.type="LOCAL",b})(),mo=(()=>{class b extends ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return b.type="SESSION",b})();let tl=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(pe=>pe.isListeningto(g));if(w)return w;const G=new b(g);return this.receivers.push(G),G}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,a.Z)(function*(){const G=g,{eventId:pe,eventType:vt,data:Ht}=G.data,Fn=w.handlersMap[vt];if(!(null==Fn?void 0:Fn.size))return;G.ports[0].postMessage({status:"ack",eventId:pe,eventType:vt});const Qn=Array.from(Fn).map(function(){var Fr=(0,a.Z)(function*(os){return os(G.origin,Ht)});return function(os){return Fr.apply(this,arguments)}}()),wr=yield function js(b){return Promise.all(b.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(Qn);G.ports[0].postMessage({status:"done",eventId:pe,eventType:vt,response:wr})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function fa(b="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return b+g}class nu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var G=this;return(0,a.Z)(function*(){const pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let vt,Ht;return new Promise((Fn,Qn)=>{const wr=fa("",20);pe.port1.start();const Fr=setTimeout(()=>{Qn(new Error("unsupported_event"))},w);Ht={messageChannel:pe,onMessage(os){const Qo=os;if(Qo.data.eventId===wr)switch(Qo.data.status){case"ack":clearTimeout(Fr),vt=setTimeout(()=>{Qn(new Error("timeout"))},3e3);break;case"done":clearTimeout(vt),Fn(Qo.data.response);break;default:clearTimeout(Fr),clearTimeout(vt),Qn(new Error("invalid_response"))}}},G.handlers.add(Ht),pe.port1.addEventListener("message",Ht.onMessage),G.target.postMessage({eventType:f,eventId:wr,data:g},[pe.port2])}).finally(()=>{Ht&&G.removeMessageHandler(Ht)})})()}}function di(){return window}function So(){return void 0!==di().WorkerGlobalScope&&"function"==typeof di().importScripts}function Ao(){return(Ao=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const ji="firebaseLocalStorageDb",Ds="firebaseLocalStorage",lo="fbase_key";class Pa{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function qt(b,f){return b.transaction([Ds],f?"readwrite":"readonly").objectStore(Ds)}function ps(){const b=indexedDB.open(ji,1);return new Promise((f,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Ds,{keyPath:lo})}catch(G){g(G)}}),b.addEventListener("success",(0,a.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Ds)?f(w):(w.close(),yield function yi(){const b=indexedDB.deleteDatabase(ji);return new Pa(b).toPromise()}(),f(yield ps()))}))})}function ga(b,f,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(b,f,g){const w=qt(b,!0).put({[lo]:f,value:g});return new Pa(w).toPromise()})).apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(b,f){const g=qt(b,!1).get(f),w=yield new Pa(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function fn(b,f){const g=qt(b,!0).delete(f);return new Pa(g).toPromise()}const D=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield ps()),g.db})()}_withRetries(g){var w=this;return(0,a.Z)(function*(){let G=0;for(;;)try{const pe=yield w._openDb();return yield g(pe)}catch(pe){if(G++>3)throw pe;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return So()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=tl._getInstance(function vo(){return So()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(G,pe){return{keyProcessed:(yield g._poll()).includes(pe.key)}});return function(G,pe){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(G,pe){return["keyChanged"]});return function(G,pe){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var w,G;if(g.activeServiceWorker=yield function yo(){return Ao.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new nu(g.activeServiceWorker);const pe=yield g.sender._send("ping",{},800);!pe||(null===(w=pe[0])||void 0===w?void 0:w.fulfilled)&&(null===(G=pe[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ys(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ps();return yield ga(g,vs,"1"),yield fn(g,vs),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var G=this;return(0,a.Z)(function*(){return G._withPendingWrite((0,a.Z)(function*(){return yield G._withRetries(pe=>ga(pe,g,w)),G.localCache[g]=w,G.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,a.Z)(function*(){const G=yield w._withRetries(pe=>function Hn(b,f){return Wo.apply(this,arguments)}(pe,g));return w.localCache[g]=G,G})()}_remove(g){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(G=>fn(G,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const w=yield g._withRetries(vt=>{const Ht=qt(vt,!1).getAll();return new Pa(Ht).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const G=[],pe=new Set;for(const{fbase_key:vt,value:Ht}of w)pe.add(vt),JSON.stringify(g.localCache[vt])!==JSON.stringify(Ht)&&(g.notifyListeners(vt,Ht),G.push(vt));for(const vt of Object.keys(g.localCache))g.localCache[vt]&&!pe.has(vt)&&(g.notifyListeners(vt,null),G.push(vt));return G})()}notifyListeners(g,w){this.localCache[g]=w;const G=this.listeners[g];if(G)for(const pe of Array.from(G))pe(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function E(b,f){return ft(b,"POST","/v2/accounts/mfaSignIn:start",ct(b,f))}function B(){return(B=(0,a.Z)(function*(b){return(yield ft(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Te(b){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=f,w.onerror=G=>{const pe=Qe("internal-error");pe.customData=G,g(pe)},w.type="text/javascript",w.charset="UTF-8",function X(){var b,f;return null!==(f=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==f?f:document}().appendChild(w)})}function Ue(b){return`__${b}${Math.floor(1e6*Math.random())}`}const fr=1e12;class On{constructor(f){this.auth=f,this.counter=fr,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Sn(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||fr;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||fr))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var w;return null===(w=g._widgets.get(f||fr))||void 0===w||w.execute(),""})()}}class Sn{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof f?document.getElementById(f):f;Be(G,"argument-error",{appName:g}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ar(b){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hi=Ue("rcb"),Mr=new et(3e4,6e4);class ru{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!di().grecaptcha}load(f,g=""){return Be(function Ns(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(di().grecaptcha):new Promise((w,G)=>{const pe=di().setTimeout(()=>{G(Qe(f,"network-request-failed"))},Mr.get());di()[Hi]=()=>{di().clearTimeout(pe),delete di()[Hi];const Ht=di().grecaptcha;if(!Ht)return void G(Qe(f,"internal-error"));const Fn=Ht.render;Ht.render=(Qn,wr)=>{const Fr=Fn(Qn,wr);return this.counter++,Fr},this.hostLanguage=g,w(Ht)},Te(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Hi,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(pe),G(Qe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!di().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qo{load(f){return(0,a.Z)(function*(){return new On(f)})()}clearedOneInstance(){}}const iu="recaptcha",Nr={theme:"light",type:"image"};class Ai{constructor(f,g=Object.assign({},Nr),w){this.parameters=g,this.type=iu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(w),this.isInvisible="invisible"===this.parameters.size,Be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof f?document.getElementById(f):f;Be(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qo:new ru,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(pe=>{const vt=Ht=>{!Ht||(f.tokenChangeListeners.delete(vt),pe(Ht))};f.tokenChangeListeners.add(vt),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Be(!this.parameters.sitekey,this.auth,"argument-error"),Be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=di()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){Be(kt()&&!So(),f.auth,"internal-error"),yield function is(){let b=null;return new Promise(f=>{"complete"!==document.readyState?(b=()=>f(),window.addEventListener("load",b)):f()}).catch(f=>{throw b&&window.removeEventListener("load",b),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function R(b){return B.apply(this,arguments)}(f.auth);Be(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ma{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=oi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function _d(b,f,g){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,a.Z)(function*(b,f,g){const w=Qt(b),G=yield ya(w,f,(0,$.m9)(g));return new ma(G,pe=>Nt(w,pe))})).apply(this,arguments)}function Ed(b,f,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b);yield O(!1,w,"phone");const G=yield ya(w.auth,f,(0,$.m9)(g));return new ma(G,pe=>Or(w,pe))})).apply(this,arguments)}function Pi(b,f,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b),G=yield ya(w.auth,f,(0,$.m9)(g));return new ma(G,pe=>Ir(w,pe))})).apply(this,arguments)}function ya(b,f,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(b,f,g){var w;const G=yield g.verify();try{let pe;if(Be("string"==typeof G,b,"argument-error"),Be(g.type===iu,b,"argument-error"),pe="string"==typeof f?{phoneNumber:f}:f,"session"in pe){const vt=pe.session;if("phoneNumber"in pe)return Be("enroll"===vt.type,b,"internal-error"),(yield Ma(b,{idToken:vt.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{Be("signin"===vt.type,b,"internal-error");const Ht=(null===(w=pe.multiFactorHint)||void 0===w?void 0:w.uid)||pe.multiFactorUid;return Be(Ht,b,"missing-multi-factor-info"),(yield E(b,{mfaPendingCredential:vt.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:vt}=yield Ye(b,{phoneNumber:pe.phoneNumber,recaptchaToken:G});return vt}}finally{g._reset()}})).apply(this,arguments)}function Mo(b,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(b,f){yield ds((0,$.m9)(b),f)})).apply(this,arguments)}let _o=(()=>{class b{constructor(g){this.providerId=b.PROVIDER_ID,this.auth=Qt(g)}verifyPhoneNumber(g,w){return ya(this.auth,g,(0,$.m9)(w))}static credential(g,w){return oi._fromVerification(g,w)}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:G}=g;return w&&G?oi._fromTokenResponse(w,G):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ts(b,f){return f?ae(f):(Be(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class gs extends An{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Mn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Mn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Mn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Eo(b){return Oe(b.auth,new gs(b),b.bypassAuthState)}function gn(b){const{auth:f,user:g}=b;return Be(g,f,"internal-error"),F(g,new gs(b),b.bypassAuthState)}function su(b){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(b){const{auth:f,user:g}=b;return Be(g,f,"internal-error"),ds(g,new gs(b),b.bypassAuthState)})).apply(this,arguments)}class ks{constructor(f,g,w,G,pe=!1){this.auth=f,this.resolver=w,this.user=G,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(w,G){f.pendingPromise={resolve:w,reject:G};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(pe){f.reject(pe)}});return function(w,G){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:G,postBody:pe,tenantId:vt,error:Ht,type:Fn}=f;if(Ht)return void g.reject(Ht);const Qn={auth:g.auth,requestUri:w,sessionId:G,tenantId:vt||void 0,postBody:pe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fn)(Qn))}catch(wr){g.reject(wr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Eo;case"linkViaPopup":case"linkViaRedirect":return su;case"reauthViaPopup":case"reauthViaRedirect":return gn;default:J(this.auth,"internal-error")}}resolve(f){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const co=new et(2e3,1e4);function ou(b,f,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(b,f,g){const w=Qt(b);We(b,f,fi);const G=Ts(w,g);return new ko(w,"signInViaPopup",f,G).executeNotNull()})).apply(this,arguments)}function va(b,f,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b);We(w.auth,f,fi);const G=Ts(w.auth,g);return new ko(w.auth,"reauthViaPopup",f,G,w).executeNotNull()})).apply(this,arguments)}function Ni(b,f,g){return No.apply(this,arguments)}function No(){return(No=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b);We(w.auth,f,fi);const G=Ts(w.auth,g);return new ko(w.auth,"linkViaPopup",f,G,w).executeNotNull()})).apply(this,arguments)}let ko=(()=>{class b extends ks{constructor(g,w,G,pe,vt){super(g,w,pe,vt),this.provider=G,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const w=yield g.execute();return Be(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,a.Z)(function*(){le(1===g.filter.length,"Popup operations only handle one event");const w=fa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(G=>{g.reject(G)}),g.resolver._isIframeWebStorageSupported(g.auth,G=>{G||g.reject(Qe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,G;this.pollId=(null===(G=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,co.get())};g()}}return b.currentPopupAction=null,b})();const Na=new Map;class Ul extends ks{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let w=Na.get(g.auth._key());if(!w){try{const pe=(yield function nl(b,f){return A.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(pe)}catch(G){w=()=>Promise.reject(G)}Na.set(g.auth._key(),w)}return g.bypassAuthState||Na.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const G=yield w.auth._redirectUserForId(f.eventId);if(G)return w.user=G,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function A(){return(A=(0,a.Z)(function*(b,f){const g=_t(f),w=nt(b);if(!(yield w._isAvailable()))return!1;const G="true"===(yield w._get(g));return yield w._remove(g),G})).apply(this,arguments)}function L(b,f){return Q.apply(this,arguments)}function Q(){return(Q=(0,a.Z)(function*(b,f){return nt(b)._set(_t(f),"true")})).apply(this,arguments)}function Re(){Na.clear()}function nt(b){return ae(b._redirectPersistence)}function _t(b){return $e("pendingRedirect",b.config.apiKey,b.name)}function Pt(b,f,g){return function Cn(b,f,g){return rr.apply(this,arguments)}(b,f,g)}function rr(){return(rr=(0,a.Z)(function*(b,f,g){const w=Qt(b);We(b,f,fi);const G=Ts(w,g);return yield L(G,w),G._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Xn(b,f,g){return function kr(b,f,g){return lr.apply(this,arguments)}(b,f,g)}function lr(){return(lr=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b);We(w.auth,f,fi);const G=Ts(w.auth,g);yield L(G,w.auth);const pe=yield Mu(w);return G._openRedirect(w.auth,f,"reauthViaRedirect",pe)})).apply(this,arguments)}function Gs(b,f,g){return function ss(b,f,g){return Fs.apply(this,arguments)}(b,f,g)}function Fs(){return(Fs=(0,a.Z)(function*(b,f,g){const w=(0,$.m9)(b);We(w.auth,f,fi);const G=Ts(w.auth,g);yield O(!1,w,f.providerId),yield L(G,w.auth);const pe=yield Mu(w);return G._openRedirect(w.auth,f,"linkViaRedirect",pe)})).apply(this,arguments)}function _a(b,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,a.Z)(function*(b,f){return yield Qt(b)._initializationPromise,bo(b,f,!1)})).apply(this,arguments)}function bo(b,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(b,f,g=!1){const w=Qt(b),G=Ts(w,f),vt=yield new Ul(w,G,g).execute();return vt&&!g&&(delete vt.user._redirectEventId,yield w._persistUserIfCurrent(vt.user),yield w._setRedirectUser(null,f)),vt})).apply(this,arguments)}function Mu(b){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(b){const f=fa(`${b.uid}:::`);return b._redirectEventId=f,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),f})).apply(this,arguments)}class Ea{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Rh(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bd(b);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!bd(f)){const G=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Qe(this.auth,G))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_s(f))}saveEventToCache(f){this.cachedEventUids.add(_s(f)),this.lastProcessedEventTime=Date.now()}}function _s(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(f=>f).join("-")}function bd({type:b,error:f}){return"unknown"===b&&"auth/no-auth-event"===(null==f?void 0:f.code)}function rl(b){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(b,f={}){return ft(b,"GET","/v1/projects",f)})).apply(this,arguments)}const Id=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,il=/^https?/;function jl(){return(jl=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:f}=yield rl(b);for(const g of f)try{if(Zo(g))return}catch(w){}J(b,"unauthorized-domain")})).apply(this,arguments)}function Zo(b){const f=Ve(),{protocol:g,hostname:w}=new URL(f);if(b.startsWith("chrome-extension://")){const vt=new URL(b);return""===vt.hostname&&""===w?"chrome-extension:"===g&&b.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&vt.hostname===w}if(!il.test(g))return!1;if(Id.test(b))return w===b;const G=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(w)}const ba=new et(3e4,6e4);function Ic(){const b=di().___jsl;if(null==b?void 0:b.H)for(const f of Object.keys(b.H))if(b.H[f].r=b.H[f].r||[],b.H[f].L=b.H[f].L||[],b.H[f].r=[...b.H[f].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let sl=null;function Ks(b){return sl=sl||function wd(b){return new Promise((f,g)=>{var w,G,pe;function vt(){Ic(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ic(),g(Qe(b,"network-request-failed"))},timeout:ba.get()})}if(null===(G=null===(w=di().gapi)||void 0===w?void 0:w.iframes)||void 0===G?void 0:G.Iframe)f(gapi.iframes.getContext());else{if(!(null===(pe=di().gapi)||void 0===pe?void 0:pe.load)){const Ht=Ue("iframefcb");return di()[Ht]=()=>{gapi.load?vt():g(Qe(b,"network-request-failed"))},Te(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(Fn=>g(Fn))}vt()}}).catch(f=>{throw sl=null,f})}(b),sl}const Ou=new et(5e3,15e3),ol={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dd(b){const f=b.config;Be(f.authDomain,b,"auth-domain-config-required");const g=f.emulator?Ze(f,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:b.name,v:V.SDK_VERSION},G=Dc.get(b.config.apiHost);G&&(w.eid=G);const pe=b._getFrameworks();return pe.length&&(w.fw=pe.join(",")),`${g}?${(0,$.xO)(w).slice(1)}`}function Fa(){return Fa=(0,a.Z)(function*(b){const f=yield Ks(b),g=di().gapi;return Be(g,b,"internal-error"),f.open({where:document.body,url:Dd(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ol,dontclear:!0},w=>new Promise(function(){var G=(0,a.Z)(function*(pe,vt){yield w.restyle({setHideOnLeave:!1});const Ht=Qe(b,"network-request-failed"),Fn=di().setTimeout(()=>{vt(Ht)},Ou.get());function Qn(){di().clearTimeout(Fn),pe(w)}w.ping(Qn).then(Qn,()=>{vt(Ht)})});return function(pe,vt){return G.apply(this,arguments)}}()))}),Fa.apply(this,arguments)}const Io={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ll(b,f,g,w,G,pe){Be(b.config.authDomain,b,"auth-domain-config-required"),Be(b.config.apiKey,b,"invalid-api-key");const vt={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:w,v:V.SDK_VERSION,eventId:G};if(f instanceof fi){f.setDefaultLanguage(b.languageCode),vt.providerId=f.providerId||"",(0,$.xb)(f.getCustomParameters())||(vt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fn,Qn]of Object.entries(pe||{}))vt[Fn]=Qn}if(f instanceof Rs){const Fn=f.getScopes().filter(Qn=>""!==Qn);Fn.length>0&&(vt.scopes=Fn.join(","))}b.tenantId&&(vt.tid=b.tenantId);const Ht=vt;for(const Fn of Object.keys(Ht))void 0===Ht[Fn]&&delete Ht[Fn];return`${function xc({config:b}){return b.emulator?Ze(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,$.xO)(Ht).slice(1)}`}const du="webStorageSupport",Cd=class Nh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mo,this._completeRedirectFn=bo}_openPopup(f,g,w,G){var pe=this;return(0,a.Z)(function*(){var vt;le(null===(vt=pe.eventManagers[f._key()])||void 0===vt?void 0:vt.manager,"_initialize() not called before _openPopup()");const Ht=ll(f,g,w,Ve(),G);return function Ph(b,f,g,w=500,G=600){const pe=Math.max((window.screen.availHeight-G)/2,0).toString(),vt=Math.max((window.screen.availWidth-w)/2,0).toString();let Ht="";const Fn=Object.assign(Object.assign({},Io),{width:w.toString(),height:G.toString(),top:pe,left:vt}),Qn=(0,$.z$)().toLowerCase();g&&(Ht=mt(Qn)?"_blank":g),he(Qn)&&(f=f||"http://localhost",Fn.scrollbars="yes");const wr=Object.entries(Fn).reduce((os,[Qo,Nu])=>`${os}${Qo}=${Nu},`,"");if(function Wn(b=(0,$.z$)()){var f;return zn(b)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Qn)&&"_self"!==Ht)return function ul(b,f){const g=document.createElement("a");g.href=b,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",Ht),new Hl(null);const Fr=window.open(f||"",Ht,wr);Be(Fr,b,"popup-blocked");try{Fr.focus()}catch(os){}return new Hl(Fr)}(f,Ht,fa())})()}_openRedirect(f,g,w,G){var pe=this;return(0,a.Z)(function*(){return yield pe._originValidation(f),function pa(b){di().location.href=b}(ll(f,g,w,Ve(),G)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:G,promise:pe}=this.eventManagers[g];return G?Promise.resolve(G):(le(pe,"If manager is not set, promise should be"),pe)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const w=yield function Cc(b){return Fa.apply(this,arguments)}(f),G=new Ea(f);return w.register("authEvent",pe=>(Be(null==pe?void 0:pe.authEvent,f,"invalid-auth-event"),{status:G.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:G},g.iframes[f._key()]=w,G})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(du,{type:du},G=>{var pe;const vt=null===(pe=null==G?void 0:G[0])||void 0===pe?void 0:pe[du];void 0!==vt&&g(!!vt),J(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Oh(b){return jl.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return De()||_e()||zn()}};class La extends class Td{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return Ct("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new La(f)}_finalizeEnroll(f,g,w){return function Di(b,f){return ft(b,"POST","/v2/accounts/mfaEnrollment:finalize",ct(b,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function _(b,f){return ft(b,"POST","/v2/accounts/mfaSignIn:finalize",ct(b,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hu=(()=>{class b{constructor(){}static assertion(g){return La._fromCredential(g)}}return b.FACTOR_ID="phone",b})();var Xo="@firebase/auth",wo="0.19.11";class Sd{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{var G;f((null===(G=w)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function kh(b){(0,V._registerComponent)(new ne.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),G=f.getProvider("heartbeat"),{apiKey:pe,authDomain:vt}=w.options;return((Ht,Fn)=>{Be(pe&&!pe.includes(":"),"invalid-api-key",{appName:Ht.name}),Be(!(null==vt?void 0:vt.includes(":")),"argument-error",{appName:Ht.name});const Qn={apiKey:pe,authDomain:vt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pt(b)},wr=new Dt(Ht,Fn,Qn);return function qe(b,f){const g=(null==f?void 0:f.persistence)||[],w=(Array.isArray(g)?g:[g]).map(ae);(null==f?void 0:f.errorMap)&&b._updateErrorMap(f.errorMap),b._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(wr,g),wr})(w,G)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new ne.wA("auth-internal",f=>{const g=Qt(f.getProvider("auth").getImmediate());return new Sd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(Xo,wo,function cl(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,V.registerVersion)(Xo,wo,"esm2017")}("Browser")},2090:(Xt,rt,N)=>{"use strict";N.d(rt,{BH:()=>Fe,LL:()=>kt,ZR:()=>Ve,zI:()=>ae,US:()=>me,tV:()=>re,L:()=>ce,$s:()=>Ur,r3:()=>ft,Sg:()=>ke,ne:()=>In,vZ:()=>sn,ZB:()=>ue,Lj:()=>en,pd:()=>Kn,m9:()=>ur,z$:()=>ie,jU:()=>Je,ru:()=>J,d:()=>we,xb:()=>cn,w1:()=>We,hl:()=>le,uI:()=>Ae,UG:()=>fe,b$:()=>Qe,G6:()=>Ct,Mn:()=>lt,X3:()=>yn,xO:()=>Gn,zd:()=>Un,eu:()=>Pe});var a=N(5861);const Ie=function(Ne){const ge=[];let $e=0;for(let dt=0;dt<Ne.length;dt++){let se=Ne.charCodeAt(dt);se<128?ge[$e++]=se:se<2048?(ge[$e++]=se>>6|192,ge[$e++]=63&se|128):55296==(64512&se)&&dt+1<Ne.length&&56320==(64512&Ne.charCodeAt(dt+1))?(se=65536+((1023&se)<<10)+(1023&Ne.charCodeAt(++dt)),ge[$e++]=se>>18|240,ge[$e++]=se>>12&63|128,ge[$e++]=se>>6&63|128,ge[$e++]=63&se|128):(ge[$e++]=se>>12|224,ge[$e++]=se>>6&63|128,ge[$e++]=63&se|128)}return ge},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,ge){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $e=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,dt=[];for(let se=0;se<Ne.length;se+=3){const he=Ne[se],_e=se+1<Ne.length,mt=_e?Ne[se+1]:0,Vt=se+2<Ne.length,hn=Vt?Ne[se+2]:0;let zn=(15&mt)<<2|hn>>6,gr=63&hn;Vt||(gr=64,_e||(zn=64)),dt.push($e[he>>2],$e[(3&he)<<4|mt>>4],$e[zn],$e[gr])}return dt.join("")},encodeString(Ne,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(Ne):this.encodeByteArray(Ie(Ne),ge)},decodeString(Ne,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(Ne):function(Ne){const ge=[];let $e=0,dt=0;for(;$e<Ne.length;){const se=Ne[$e++];if(se<128)ge[dt++]=String.fromCharCode(se);else if(se>191&&se<224){const he=Ne[$e++];ge[dt++]=String.fromCharCode((31&se)<<6|63&he)}else if(se>239&&se<365){const Vt=((7&se)<<18|(63&Ne[$e++])<<12|(63&Ne[$e++])<<6|63&Ne[$e++])-65536;ge[dt++]=String.fromCharCode(55296+(Vt>>10)),ge[dt++]=String.fromCharCode(56320+(1023&Vt))}else{const he=Ne[$e++],_e=Ne[$e++];ge[dt++]=String.fromCharCode((15&se)<<12|(63&he)<<6|63&_e)}}return ge.join("")}(this.decodeStringToByteArray(Ne,ge))},decodeStringToByteArray(Ne,ge){this.init_();const $e=ge?this.charToByteMapWebSafe_:this.charToByteMap_,dt=[];for(let se=0;se<Ne.length;){const he=$e[Ne.charAt(se++)],mt=se<Ne.length?$e[Ne.charAt(se)]:0;++se;const hn=se<Ne.length?$e[Ne.charAt(se)]:64;++se;const pn=se<Ne.length?$e[Ne.charAt(se)]:64;if(++se,null==he||null==mt||null==hn||null==pn)throw Error();dt.push(he<<2|mt>>4),64!==hn&&(dt.push(mt<<4&240|hn>>2),64!==pn&&dt.push(hn<<6&192|pn))}return dt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}},ce=function(Ne){return function(Ne){const ge=Ie(Ne);return me.encodeByteArray(ge,!0)}(Ne).replace(/\./g,"")},re=function(Ne){try{return me.decodeString(Ne,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function ue(Ne,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return ge}for(const $e in ge)!ge.hasOwnProperty($e)||!Z($e)||(Ne[$e]=ue(Ne[$e],ge[$e]));return Ne}function Z(Ne){return"__proto__"!==Ne}class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,$e)=>{this.resolve=ge,this.reject=$e})}wrapCallback(ge){return($e,dt)=>{$e?this.reject($e):this.resolve(dt),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge($e):ge($e,dt))}}}function ke(Ne,ge){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const dt=ge||"demo-project",se=Ne.iat||0,he=Ne.sub||Ne.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _e=Object.assign({iss:`https://securetoken.google.com/${dt}`,aud:dt,iat:se,exp:se+3600,auth_time:se,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(_e)),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ne){return!1}}function Je(){return"object"==typeof self&&self.self===self}function J(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){return ie().indexOf("Electron/")>=0}function We(){const Ne=ie();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function lt(){return ie().indexOf("MSAppHost/")>=0}function Ct(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){return"object"==typeof indexedDB}function Pe(){return new Promise((Ne,ge)=>{try{let $e=!0;const dt="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(dt);se.onsuccess=()=>{se.result.close(),$e||self.indexedDB.deleteDatabase(dt),Ne(!0)},se.onupgradeneeded=()=>{$e=!1},se.onerror=()=>{var he;ge((null===(he=se.error)||void 0===he?void 0:he.message)||"")}}catch($e){ge($e)}})}function ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ve extends Error{constructor(ge,$e,dt){super($e),this.code=ge,this.customData=dt,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kt.prototype.create)}}class kt{constructor(ge,$e,dt){this.service=ge,this.serviceName=$e,this.errors=dt}create(ge,...$e){const dt=$e[0]||{},se=`${this.service}/${ge}`,he=this.errors[ge],_e=he?function Yt(Ne,ge){return Ne.replace(at,($e,dt)=>{const se=ge[dt];return null!=se?String(se):`<${dt}?>`})}(he,dt):"Error";return new Ve(se,`${this.serviceName}: ${_e} (${se}).`,dt)}}const at=/\{\$([^}]+)}/g;function ft(Ne,ge){return Object.prototype.hasOwnProperty.call(Ne,ge)}function cn(Ne){for(const ge in Ne)if(Object.prototype.hasOwnProperty.call(Ne,ge))return!1;return!0}function sn(Ne,ge){if(Ne===ge)return!0;const $e=Object.keys(Ne),dt=Object.keys(ge);for(const se of $e){if(!dt.includes(se))return!1;const he=Ne[se],_e=ge[se];if(vn(he)&&vn(_e)){if(!sn(he,_e))return!1}else if(he!==_e)return!1}for(const se of dt)if(!$e.includes(se))return!1;return!0}function vn(Ne){return null!==Ne&&"object"==typeof Ne}function Gn(Ne){const ge=[];for(const[$e,dt]of Object.entries(Ne))Array.isArray(dt)?dt.forEach(se=>{ge.push(encodeURIComponent($e)+"="+encodeURIComponent(se))}):ge.push(encodeURIComponent($e)+"="+encodeURIComponent(dt));return ge.length?"&"+ge.join("&"):""}function Un(Ne){const ge={};return Ne.replace(/^\?/,"").split("&").forEach(dt=>{if(dt){const[se,he]=dt.split("=");ge[decodeURIComponent(se)]=decodeURIComponent(he)}}),ge}function Kn(Ne){const ge=Ne.indexOf("?");if(!ge)return"";const $e=Ne.indexOf("#",ge);return Ne.substring(ge,$e>0?$e:void 0)}function In(Ne,ge){const $e=new kn(Ne,ge);return $e.subscribe.bind($e)}class kn{constructor(ge,$e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$e,this.task.then(()=>{ge(this)}).catch(dt=>{this.error(dt)})}next(ge){this.forEachObserver($e=>{$e.next(ge)})}error(ge){this.forEachObserver($e=>{$e.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,$e,dt){let se;if(void 0===ge&&void 0===$e&&void 0===dt)throw new Error("Missing Observer.");se=function Rn(Ne,ge){if("object"!=typeof Ne||null===Ne)return!1;for(const $e of ge)if($e in Ne&&"function"==typeof Ne[$e])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:$e,complete:dt},void 0===se.next&&(se.next=Vn),void 0===se.error&&(se.error=Vn),void 0===se.complete&&(se.complete=Vn);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(_e){}}),this.observers.push(se),he}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let $e=0;$e<this.observers.length;$e++)this.sendOne($e,ge)}sendOne(ge,$e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{$e(this.observers[ge])}catch(dt){"undefined"!=typeof console&&console.error&&console.error(dt)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}function Ur(Ne,ge=1e3,$e=2){const dt=ge*Math.pow($e,Ne),se=Math.round(.5*dt*(Math.random()-.5)*2);return Math.min(144e5,dt+se)}function ur(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}function Pn(Ne,ge){return new Promise(($e,dt)=>{Ne.onsuccess=se=>{$e(se.target.result)},Ne.onerror=se=>{var he;dt(`${ge}: ${null===(he=se.target.error)||void 0===he?void 0:he.message}`)}})}class Jn{constructor(ge){this._db=ge,this.objectStoreNames=this._db.objectStoreNames}transaction(ge,$e){return new zt(this._db.transaction.call(this._db,ge,$e))}createObjectStore(ge,$e){return new It(this._db.createObjectStore(ge,$e))}close(){this._db.close()}}class zt{constructor(ge){this._transaction=ge,this.complete=new Promise(($e,dt)=>{this._transaction.oncomplete=function(){$e()},this._transaction.onerror=()=>{dt(this._transaction.error)},this._transaction.onabort=()=>{dt(this._transaction.error)}})}objectStore(ge){return new It(this._transaction.objectStore(ge))}}class It{constructor(ge){this._store=ge}index(ge){return new Lt(this._store.index(ge))}createIndex(ge,$e,dt){return new Lt(this._store.createIndex(ge,$e,dt))}get(ge){return Pn(this._store.get(ge),"Error reading from IndexedDB")}put(ge,$e){return Pn(this._store.put(ge,$e),"Error writing to IndexedDB")}delete(ge){return Pn(this._store.delete(ge),"Error deleting from IndexedDB")}clear(){return Pn(this._store.clear(),"Error clearing IndexedDB object store")}}class Lt{constructor(ge){this._index=ge}get(ge){return Pn(this._index.get(ge),"Error reading from IndexedDB")}}function yn(Ne,ge,$e){return new Promise((dt,se)=>{try{const he=indexedDB.open(Ne,ge);he.onsuccess=_e=>{dt(new Jn(_e.target.result))},he.onerror=_e=>{var mt;se(`Error opening indexedDB: ${null===(mt=_e.target.error)||void 0===mt?void 0:mt.message}`)},he.onupgradeneeded=_e=>{$e(new Jn(he.result),_e.oldVersion,_e.newVersion,new zt(he.transaction))}}catch(he){se(`Error opening indexedDB: ${he.message}`)}})}function en(Ne){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(Ne){return new Promise((ge,$e)=>{try{const dt=indexedDB.deleteDatabase(Ne);dt.onsuccess=()=>{ge()},dt.onerror=se=>{var he;$e(`Error deleting indexedDB database "${Ne}": ${null===(he=se.target.error)||void 0===he?void 0:he.message}`)}}catch(dt){$e(`Error deleting indexedDB database "${Ne}": ${dt.message}`)}})})).apply(this,arguments)}},6926:(Xt,rt,N)=>{"use strict";N.d(rt,{Br:()=>Or,w:()=>er,We:()=>Dr,eh:()=>jn,dr:()=>on,YG:()=>dn,Sm:()=>ur,PM:()=>Pn,FN:()=>Jn,Zi:()=>zt,Dq:()=>Lt,nz:()=>yn,wI:()=>Tn,W2:()=>Ne,fr:()=>he,jY:()=>_e,Gu:()=>mt,gu:()=>Vt,Xz:()=>hn,pK:()=>zn,Ie:()=>gr,Q$:()=>Dt,q_:()=>Qt,z0:()=>qn,fG:()=>Zn,nJ:()=>ei,Wo:()=>vr,jP:()=>Zr,Nd:()=>ti,wd:()=>Sr,sr:()=>Ye,Pc:()=>H,r4:()=>k,HT:()=>tr,_q:()=>Ir,YI:()=>ds,j9:()=>Rn,yF:()=>zr});var a=N(6435),$=N(4182),V=N(655),Se=N(2916),Ie=N(6688),ne=N(7043),me=N(4850);function ce(p,M,m,P){return(0,ne.m)(m)&&(P=m,m=void 0),P?ce(p,M,m).pipe((0,me.U)(te=>(0,Ie.k)(te)?P(...te):P(te))):new Se.y(te=>{re(p,M,function yt(Zt){te.next(arguments.length>1?Array.prototype.slice.call(arguments):Zt)},te,m)})}function re(p,M,m,P,te){let yt;if(function Z(p){return p&&"function"==typeof p.addEventListener&&"function"==typeof p.removeEventListener}(p)){const Zt=p;p.addEventListener(M,m,te),yt=()=>Zt.removeEventListener(M,m,te)}else if(function ue(p){return p&&"function"==typeof p.on&&"function"==typeof p.off}(p)){const Zt=p;p.on(M,m),yt=()=>Zt.off(M,m)}else if(function oe(p){return p&&"function"==typeof p.addListener&&"function"==typeof p.removeListener}(p)){const Zt=p;p.addListener(M,m),yt=()=>Zt.removeListener(M,m)}else{if(!p||!p.length)throw new TypeError("Invalid event target");for(let Zt=0,ut=p.length;Zt<ut;Zt++)re(p[Zt],M,m,P,te)}P.add(yt)}var Fe=N(8929),ke=N(591),ie=N(3151),J=(N(5797),N(6409),N(1363),N(8686)),Qe=N(206),we=N(358),We=N(5970),lt=N(3986),Ct=(N(2733),N(2361)),Ve=N(2198),kt=N(7545),Yt=N(5778),at=N(9808);const et=J.i,Me=["*"],rn=p=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(p):"function"==typeof requestAnimationFrame?requestAnimationFrame(p):setTimeout(p);let sn=(()=>{class p{constructor(m,P){this.injector=m,this.el=P,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(m){this.el.nativeElement.value=this.lastValue=null==m?"":m,vn(this.el)}handleChangeEvent(m,P){m===this.el.nativeElement&&(P!==this.lastValue&&(this.lastValue=P,this.onChange(P)),vn(this.el))}_handleBlurEvent(m){m===this.el.nativeElement&&(this.onTouched(),vn(this.el))}registerOnChange(m){this.onChange=m}registerOnTouched(m){this.onTouched=m}setDisabledState(m){this.el.nativeElement.disabled=m}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let m;try{m=this.injector.get($.a5)}catch(te){}if(!m)return;m.statusChanges&&(this.statusChanges=m.statusChanges.subscribe(()=>vn(this.el)));const P=m.control;P&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(yt=>{if(void 0!==P[yt]){const Zt=P[yt].bind(P);P[yt]=(...ut)=>{Zt(...ut),vn(this.el)}}})}}return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.zs3),a.Y36(a.SBq))},p.\u0275dir=a.lG2({type:p,hostBindings:function(m,P){1&m&&a.NdJ("ionBlur",function(yt){return P._handleBlurEvent(yt.target)})}}),p})();const vn=p=>{rn(()=>{const M=p.nativeElement,m=Gn(M);Un(M,m);const P=M.closest("ion-item");P&&Un(P,m)})},Gn=p=>{const M=p.classList,m=[];for(let P=0;P<M.length;P++){const te=M.item(P);null!==te&&Kn(te,"ng-")&&m.push(`ion-${te.substr(3)}`)}return m},Un=(p,M)=>{const m=p.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(P=>m.remove(P)),M.forEach(P=>m.add(P))},Kn=(p,M)=>p.substr(0,M.length)===M;let er=(()=>{class p extends sn{constructor(m,P){super(m,P)}writeValue(m){this.el.nativeElement.checked=this.lastValue=null!=m&&m,vn(this.el)}_handleIonChange(m){this.handleChangeEvent(m,m.checked)}}return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.zs3),a.Y36(a.SBq))},p.\u0275dir=a.lG2({type:p,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(m,P){1&m&&a.NdJ("ionChange",function(yt){return P._handleIonChange(yt.target)})},features:[a._Bn([{provide:$.JU,useExisting:p,multi:!0}]),a.qOj]}),p})(),Rn=(()=>{class p extends sn{constructor(m,P){super(m,P)}_handleInputEvent(m){this.handleChangeEvent(m,m.value)}}return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.zs3),a.Y36(a.SBq))},p.\u0275dir=a.lG2({type:p,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(m,P){1&m&&a.NdJ("ionChange",function(yt){return P._handleInputEvent(yt.target)})},features:[a._Bn([{provide:$.JU,useExisting:p,multi:!0}]),a.qOj]}),p})();const Vn=(p,M)=>{const m=p.prototype;M.forEach(P=>{Object.defineProperty(m,P,{get(){return this.el[P]},set(te){this.z.runOutsideAngular(()=>this.el[P]=te)}})})},tn=(p,M)=>{const m=p.prototype;M.forEach(P=>{m[P]=function(){const te=arguments;return this.z.runOutsideAngular(()=>this.el[P].apply(this.el,te))}})},En=(p,M,m)=>{m.forEach(P=>p[P]=ce(M,P))};function Ot(p){return function(m){const{defineCustomElementFn:P,inputs:te,methods:yt}=p;return void 0!==P&&P(),te&&Vn(m,te),yt&&tn(m,yt),m}}let Dr=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],p),p})(),jn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionChange"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],p),p})(),on=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-app"]],ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0})],p),p})(),dn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionFocus","ionBlur"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],p),p})(),ur=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["collapse"]})],p),p})(),Pn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],p),p})(),Jn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["mode"]})],p),p})(),zt=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],p),p})(),Lt=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode"]})],p),p})(),yn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionChange","ionFocus","ionBlur"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],p),p})(),Tn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],p),p})(),Ne=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],p),p})(),he=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],p),p})(),_e=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["fixed"]})],p),p})(),mt=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],p),p})(),Vt=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],p),p})(),hn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["alt","src"]})],p),p})(),zn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],p),p})(),gr=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["button","color","counter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],p),p})(),Dt=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],p),p})(),Qt=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],p),p})(),qn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],p),p})(),Zn=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],p),p})(),ei=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement,En(this,this.el,["ionRefresh","ionPull","ionStart"])}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],p),p})(),vr=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],p),p})(),ti=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-row"]],ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0})],p),p})(),Sr=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","size"]})],p),p})(),Ye=(()=>{let p=class{constructor(m,P,te){this.z=te,m.detach(),this.el=P.nativeElement}};return p.\u0275fac=function(m){return new(m||p)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},p.\u0275cmp=a.Xpm({type:p,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(m,P){1&m&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),p=(0,V.gn)([Ot({defineCustomElementFn:void 0,inputs:["color","mode"]})],p),p})();class je{constructor(M={}){this.data=M}get(M){return this.data[M]}}let ot=(()=>{class p{constructor(m,P){this.zone=m,this.appRef=P}create(m,P,te){return new Tt(m,P,te,this.appRef,this.zone)}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(a.R0b),a.LFG(a.z2F))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})();class Tt{constructor(M,m,P,te,yt){this.resolver=M,this.injector=m,this.location=P,this.appRef=te,this.zone=yt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(M,m,P,te){return this.zone.run(()=>new Promise(yt=>{yt(Wt(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,M,m,P,te))}))}removeViewFromDom(M,m){return this.zone.run(()=>new Promise(P=>{const te=this.elRefMap.get(m);if(te){te.destroy(),this.elRefMap.delete(m);const yt=this.elEventsMap.get(m);yt&&(yt(),this.elEventsMap.delete(m))}P()}))}}const Wt=(p,M,m,P,te,yt,Zt,ut,mn,Pr,or)=>{const gi=M.resolveComponentFactory(mn),Ui=a.zs3.create({providers:_r(Pr),parent:m}),ri=P?P.createComponent(gi,P.length,Ui):gi.create(Ui),hs=ri.instance,ci=ri.location.nativeElement;if(Pr&&Object.assign(hs,Pr),or)for(const no of or)ci.classList.add(no);const Go=xr(p,hs,ci);return ut.appendChild(ci),P||te.attachView(ri.hostView),ri.changeDetectorRef.reattach(),yt.set(ci,ri),Zt.set(ci,Go),ci},bn=[we.L,we.a,we.b,we.c,we.d],xr=(p,M,m)=>p.run(()=>{const P=bn.filter(te=>"function"==typeof M[te]).map(te=>{const yt=Zt=>M[te](Zt.detail);return m.addEventListener(te,yt),()=>m.removeEventListener(te,yt)});return()=>P.forEach(te=>te())}),Kr=new a.OlP("NavParamsToken"),_r=p=>[{provide:Kr,useValue:p},{provide:je,useFactory:oi,deps:[Kr]}],oi=p=>new je(p),Zi=(p,M)=>((p=p.filter(m=>m.stackId!==M.stackId)).push(M),p),Qi=(p,M)=>{const m=p.createUrlTree(["."],{relativeTo:M});return p.serializeUrl(m)},Rs=(p,M)=>{if(!p)return;const m=es(M);for(let P=0;P<m.length;P++){if(P>=p.length)return m[P];if(m[P]!==p[P])return}},es=p=>p.split("/").map(M=>M.trim()).filter(M=>""!==M),Os=p=>{p&&(p.ref.destroy(),p.unlistenEvents())};class ms{constructor(M,m,P,te,yt,Zt){this.containerEl=m,this.router=P,this.navCtrl=te,this.zone=yt,this.location=Zt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==M?es(M):void 0}createView(M,m){var P;const te=Qi(this.router,m),yt=null===(P=null==M?void 0:M.location)||void 0===P?void 0:P.nativeElement,Zt=xr(this.zone,M.instance,yt);return{id:this.nextId++,stackId:Rs(this.tabsPrefix,te),unlistenEvents:Zt,element:yt,ref:M,url:te}}getExistingView(M){const m=Qi(this.router,M),P=this.views.find(te=>te.url===m);return P&&P.ref.changeDetectorRef.reattach(),P}setActive(M){var m,P;const te=this.navCtrl.consumeTransition();let{direction:yt,animation:Zt,animationBuilder:ut}=te;const mn=this.activeView,Pr=((p,M)=>!M||p.stackId!==M.stackId)(M,mn);Pr&&(yt="back",Zt=void 0);const or=this.views.slice();let gi;const Ui=this.router;Ui.getCurrentNavigation?gi=Ui.getCurrentNavigation():(null===(m=Ui.navigations)||void 0===m?void 0:m.value)&&(gi=Ui.navigations.value),(null===(P=null==gi?void 0:gi.extras)||void 0===P?void 0:P.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const ri=this.views.includes(M),hs=this.insertView(M,yt);ri||M.ref.changeDetectorRef.detectChanges();const ci=M.animationBuilder;return void 0===ut&&"back"===yt&&!Pr&&void 0!==ci&&(ut=ci),mn&&(mn.animationBuilder=ut),this.zone.runOutsideAngular(()=>this.wait(()=>(mn&&mn.ref.changeDetectorRef.detach(),M.ref.changeDetectorRef.reattach(),this.transition(M,mn,Zt,this.canGoBack(1),!1,ut).then(()=>Es(M,hs,or,this.location,this.zone)).then(()=>({enteringView:M,direction:yt,animation:Zt,tabSwitch:Pr})))))}canGoBack(M,m=this.getActiveStackId()){return this.getStack(m).length>M}pop(M,m=this.getActiveStackId()){return this.zone.run(()=>{var P,te;const yt=this.getStack(m);if(yt.length<=M)return Promise.resolve(!1);const Zt=yt[yt.length-M-1];let ut=Zt.url;const mn=Zt.savedData;if(mn){const or=mn.get("primary");(null===(te=null===(P=null==or?void 0:or.route)||void 0===P?void 0:P._routerState)||void 0===te?void 0:te.snapshot.url)&&(ut=or.route._routerState.snapshot.url)}const{animationBuilder:Pr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ut,Object.assign(Object.assign({},Zt.savedExtras),{animation:Pr})).then(()=>!0)})}startBackTransition(){const M=this.activeView;if(M){const m=this.getStack(M.stackId),P=m[m.length-2],te=P.animationBuilder;return this.wait(()=>this.transition(P,M,"back",this.canGoBack(2),!0,te))}return Promise.resolve()}endBackTransition(M){M?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ws(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(M){const m=this.getStack(M);return m.length>0?m[m.length-1]:void 0}getRootUrl(M){const m=this.getStack(M);return m.length>0?m[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Os),this.activeView=void 0,this.views=[]}getStack(M){return this.views.filter(m=>m.stackId===M)}insertView(M,m){return this.activeView=M,this.views=((p,M,m)=>"root"===m?Zi(p,M):"forward"===m?((p,M)=>(p.indexOf(M)>=0?p=p.filter(P=>P.stackId!==M.stackId||P.id<=M.id):p.push(M),p))(p,M):((p,M)=>p.indexOf(M)>=0?p.filter(P=>P.stackId!==M.stackId||P.id<=M.id):Zi(p,M))(p,M))(this.views,M,m),this.views.slice()}transition(M,m,P,te,yt,Zt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(m===M)return Promise.resolve(!1);const ut=M?M.element:void 0,mn=m?m.element:void 0,Pr=this.containerEl;return ut&&ut!==mn&&(ut.classList.add("ion-page"),ut.classList.add("ion-page-invisible"),ut.parentElement!==Pr&&Pr.appendChild(ut),Pr.commit)?Pr.commit(ut,mn,{deepWait:!0,duration:void 0===P?0:void 0,direction:P,showGoBack:te,progressAnimation:yt,animationBuilder:Zt}):Promise.resolve(!1)}wait(M){return(0,V.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const m=this.runningTask=M();return m.finally(()=>this.runningTask=void 0),m})}}const Es=(p,M,m,P,te)=>"function"==typeof requestAnimationFrame?new Promise(yt=>{requestAnimationFrame(()=>{Ws(p,M,m,P,te),yt()})}):Promise.resolve(),Ws=(p,M,m,P,te)=>{te.run(()=>m.filter(yt=>!M.includes(yt)).forEach(Os)),M.forEach(yt=>{const ut=P.path().split("?")[0].split("#")[0];if(yt!==p&&yt.url!==ut){const mn=yt.element;mn.setAttribute("aria-hidden","true"),mn.classList.add("ion-page-hidden"),yt.ref.changeDetectorRef.detach()}})};let Ei=(()=>{class p{get(m,P){const te=pi();return te?te.get(m,P):null}getBoolean(m,P){const te=pi();return!!te&&te.getBoolean(m,P)}getNumber(m,P){const te=pi();return te?te.getNumber(m,P):0}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const po=new a.OlP("USERCONFIG"),pi=()=>{if("undefined"!=typeof window){const p=window.Ionic;if(null==p?void 0:p.config)return p.config}return null};let bi=(()=>{class p{constructor(m,P){this.doc=m,this.backButton=new Fe.xQ,this.keyboardDidShow=new Fe.xQ,this.keyboardDidHide=new Fe.xQ,this.pause=new Fe.xQ,this.resume=new Fe.xQ,this.resize=new Fe.xQ,P.run(()=>{var te;let yt;this.win=m.defaultView,this.backButton.subscribeWithPriority=function(Zt,ut){return this.subscribe(mn=>mn.register(Zt,Pr=>P.run(()=>ut(Pr))))},Ii(this.pause,m,"pause"),Ii(this.resume,m,"resume"),Ii(this.backButton,m,"ionBackButton"),Ii(this.resize,this.win,"resize"),Ii(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ii(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Zt=>{yt=Zt}),(null===(te=this.win)||void 0===te?void 0:te.cordova)?m.addEventListener("deviceready",()=>{yt("cordova")},{once:!0}):yt("dom")})}is(m){return(0,J.a)(this.win,m)}platforms(){return(0,J.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(m){return go(this.win.location.href,m)}isLandscape(){return!this.isPortrait()}isPortrait(){var m,P;return null===(P=(m=this.win).matchMedia)||void 0===P?void 0:P.call(m,"(orientation: portrait)").matches}testUserAgent(m){const P=this.win.navigator;return!!((null==P?void 0:P.userAgent)&&P.userAgent.indexOf(m)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(at.K0),a.LFG(a.R0b))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const go=(p,M)=>{M=M.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const P=new RegExp("[\\?&]"+M+"=([^&#]*)").exec(p);return P?decodeURIComponent(P[1].replace(/\+/g," ")):null},Ii=(p,M,m)=>{M&&M.addEventListener(m,P=>{p.next(null!=P?P.detail:void 0)})};let ni=(()=>{class p{constructor(m,P,te,yt){this.location=P,this.serializer=te,this.router=yt,this.direction=ts,this.animated=ys,this.guessDirection="forward",this.lastNavId=-1,yt&&yt.events.subscribe(Zt=>{if(Zt instanceof ie.OD){const ut=Zt.restoredState?Zt.restoredState.navigationId:Zt.id;this.guessDirection=ut<this.lastNavId?"back":"forward",this.guessAnimation=Zt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Zt.id:ut}}),m.backButton.subscribeWithPriority(0,Zt=>{this.pop(),Zt()})}navigateForward(m,P={}){return this.setDirection("forward",P.animated,P.animationDirection,P.animation),this.navigate(m,P)}navigateBack(m,P={}){return this.setDirection("back",P.animated,P.animationDirection,P.animation),this.navigate(m,P)}navigateRoot(m,P={}){return this.setDirection("root",P.animated,P.animationDirection,P.animation),this.navigate(m,P)}back(m={animated:!0,animationDirection:"back"}){return this.setDirection("back",m.animated,m.animationDirection,m.animation),this.location.back()}pop(){return(0,V.mG)(this,void 0,void 0,function*(){let m=this.topOutlet;for(;m&&!(yield m.pop());)m=m.parentOutlet})}setDirection(m,P,te,yt){this.direction=m,this.animated=Mi(m,P,te),this.animationBuilder=yt}setTopOutlet(m){this.topOutlet=m}consumeTransition(){let P,m="root";const te=this.animationBuilder;return"auto"===this.direction?(m=this.guessDirection,P=this.guessAnimation):(P=this.animated,m=this.direction),this.direction=ts,this.animated=ys,this.animationBuilder=void 0,{direction:m,animation:P,animationBuilder:te}}navigate(m,P){if(Array.isArray(m))return this.router.navigate(m,P);{const te=this.serializer.parse(m.toString());return void 0!==P.queryParams&&(te.queryParams=Object.assign({},P.queryParams)),void 0!==P.fragment&&(te.fragment=P.fragment),this.router.navigateByUrl(te,P)}}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(bi),a.LFG(at.Ye),a.LFG(ie.Hx),a.LFG(ie.F0,8))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const Mi=(p,M,m)=>{if(!1!==M){if(void 0!==m)return m;if("forward"===p||"back"===p)return p;if("root"===p&&!0===M)return"forward"}},ts="auto",ys=void 0;let Zr=(()=>{class p{constructor(m,P,te,yt,Zt,ut,mn,Pr,or,gi,Ui,ri,hs){this.parentContexts=m,this.location=P,this.resolver=te,this.config=ut,this.navCtrl=mn,this.parentOutlet=hs,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ke.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=or.nativeElement,this.name=yt||ie.eC,this.tabsPrefix="true"===Zt?Qi(gi,ri):void 0,this.stackCtrl=new ms(this.tabsPrefix,this.nativeEl,gi,mn,Ui,Pr),m.onChildOutletCreated(this.name,this)}set animation(m){this.nativeEl.animation=m}set animated(m){this.nativeEl.animated=m}set swipeGesture(m){this._swipeGesture=m,this.nativeEl.swipeHandler=m?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:P=>this.stackCtrl.endBackTransition(P)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const m=this.getContext();(null==m?void 0:m.route)&&this.activateWith(m.route,m.resolver||null)}new Promise(m=>(0,Qe.c)(this.nativeEl,m)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(m,P){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const P=this.getContext();this.activatedView.savedData=new Map(P.children.contexts);const te=this.activatedView.savedData.get("primary");if(te&&P.route&&(te.route=Object.assign({},P.route)),this.activatedView.savedExtras={},P.route){const yt=P.route.snapshot;this.activatedView.savedExtras.queryParams=yt.queryParams,this.activatedView.savedExtras.fragment=yt.fragment}}const m=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=m;let te,yt=this.stackCtrl.getExistingView(m);if(yt){te=this.activated=yt.ref;const Zt=yt.savedData;Zt&&(this.getContext().children.contexts=Zt),this.updateActivatedRouteProxy(te.instance,m)}else{const mn=(P=P||this.resolver).resolveComponentFactory(m._futureSnapshot.routeConfig.component),Pr=this.parentContexts.getOrCreateContext(this.name).children,or=new ke.X(null),gi=this.createActivatedRouteProxy(or,m),Ui=new ai(gi,Pr,this.location.injector);te=this.activated=this.location.createComponent(mn,this.location.length,Ui),or.next(te.instance),yt=this.stackCtrl.createView(this.activated,m),this.proxyMap.set(te.instance,gi),this.currentActivatedRoute$.next({component:te.instance,activatedRoute:m})}this.activatedView=yt,this.stackCtrl.setActive(yt).then(Zt=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(te.instance),this.stackEvents.emit(Zt)})}canGoBack(m=1,P){return this.stackCtrl.canGoBack(m,P)}pop(m=1,P){return this.stackCtrl.pop(m,P)}getLastUrl(m){const P=this.stackCtrl.getLastUrl(m);return P?P.url:void 0}getLastRouteView(m){return this.stackCtrl.getLastUrl(m)}getRootView(m){return this.stackCtrl.getRootUrl(m)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(m,P){const te=new ie.gz;return te._futureSnapshot=P._futureSnapshot,te._routerState=P._routerState,te.snapshot=P.snapshot,te.outlet=P.outlet,te.component=P.component,te._paramMap=this.proxyObservable(m,"paramMap"),te._queryParamMap=this.proxyObservable(m,"queryParamMap"),te.url=this.proxyObservable(m,"url"),te.params=this.proxyObservable(m,"params"),te.queryParams=this.proxyObservable(m,"queryParams"),te.fragment=this.proxyObservable(m,"fragment"),te.data=this.proxyObservable(m,"data"),te}proxyObservable(m,P){return m.pipe((0,Ve.h)(te=>!!te),(0,kt.w)(te=>this.currentActivatedRoute$.pipe((0,Ve.h)(yt=>null!==yt&&yt.component===te),(0,kt.w)(yt=>yt&&yt.activatedRoute[P]),(0,Yt.x)())))}updateActivatedRouteProxy(m,P){const te=this.proxyMap.get(m);if(!te)throw new Error("Could not find activated route proxy for view");te._futureSnapshot=P._futureSnapshot,te._routerState=P._routerState,te.snapshot=P.snapshot,te.outlet=P.outlet,te.component=P.component,this.currentActivatedRoute$.next({component:m,activatedRoute:P})}}return p.\u0275fac=function(m){return new(m||p)(a.Y36(ie.y6),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.$8M("tabs"),a.Y36(Ei),a.Y36(ni),a.Y36(at.Ye),a.Y36(a.SBq),a.Y36(ie.F0),a.Y36(a.R0b),a.Y36(ie.gz),a.Y36(p,12))},p.\u0275dir=a.lG2({type:p,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),p})();class ai{constructor(M,m,P){this.route=M,this.childContexts=m,this.parent=P}get(M,m){return M===ie.gz?this.route:M===ie.y6?this.childContexts:this.parent.get(M,m)}}let ds=(()=>{class p{constructor(m,P,te,yt,Zt){this.locationStrategy=m,this.navCtrl=P,this.elementRef=te,this.router=yt,this.routerLink=Zt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var m;if(null===(m=this.routerLink)||void 0===m?void 0:m.urlTree){const P=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=P}}onClick(m){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),m.preventDefault()}}return p.\u0275fac=function(m){return new(m||p)(a.Y36(at.S$),a.Y36(ni),a.Y36(a.SBq),a.Y36(ie.F0),a.Y36(ie.rH,8))},p.\u0275dir=a.lG2({type:p,selectors:[["","routerLink",""]],hostBindings:function(m,P){1&m&&a.NdJ("click",function(yt){return P.onClick(yt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),p})();class Nt{constructor(M){this.ctrl=M}create(M){return this.ctrl.create(M||{})}dismiss(M,m,P){return this.ctrl.dismiss(M,m,P)}getTop(){return this.ctrl.getTop()}}let Or=(()=>{class p extends Nt{constructor(){super(lt.a)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),tr=(()=>{class p extends Nt{constructor(){super(lt.l)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Ir=(()=>{class p{open(m){return We.m.open(m)}close(m){return We.m.close(m)}toggle(m){return We.m.toggle(m)}enable(m,P){return We.m.enable(m,P)}swipeGesture(m,P){return We.m.swipeGesture(m,P)}isOpen(m){return We.m.isOpen(m)}isEnabled(m){return We.m.isEnabled(m)}get(m){return We.m.get(m)}getOpen(){return We.m.getOpen()}getMenus(){return We.m.getMenus()}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Qr=(()=>{class p extends Nt{constructor(m,P,te){super(lt.m),this.angularDelegate=m,this.resolver=P,this.injector=te}create(m){return super.create(Object.assign(Object.assign({},m),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(ot),a.LFG(a._Vd),a.LFG(a.zs3))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})(),br=(()=>{class p extends Nt{constructor(m,P,te){super(lt.c),this.angularDelegate=m,this.resolver=P,this.injector=te}create(m){return super.create(Object.assign(Object.assign({},m),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return p.\u0275fac=function(m){return new(m||p)(a.LFG(ot),a.LFG(a._Vd),a.LFG(a.zs3))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac}),p})(),zr=(()=>{class p extends Nt{constructor(){super(lt.t)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();class k{shouldDetach(M){return!1}shouldAttach(M){return!1}store(M,m){}retrieve(M){return null}shouldReuseRoute(M,m){if(M.routeConfig!==m.routeConfig)return!1;const P=M.params,te=m.params,yt=Object.keys(P),Zt=Object.keys(te);if(yt.length!==Zt.length)return!1;for(const ut of yt)if(te[ut]!==P[ut])return!1;return!0}}const x=(p,M,m)=>()=>{if(M.defaultView&&"undefined"!=typeof window){(p=>{const M=window,m=M.Ionic;m&&m.config&&"Object"!==m.config.constructor.name||(M.Ionic=M.Ionic||{},M.Ionic.config=Object.assign(Object.assign({},M.Ionic.config),p))})(Object.assign(Object.assign({},p),{_zoneGate:yt=>m.run(yt)}));const te="__zone_symbol__addEventListener"in M.body?"__zone_symbol__addEventListener":"addEventListener";return function it(){var p=[];if("undefined"!=typeof window){var M=window;(!M.customElements||M.Element&&(!M.Element.prototype.closest||!M.Element.prototype.matches||!M.Element.prototype.remove||!M.Element.prototype.getRootNode))&&p.push(N.e(6748).then(N.t.bind(N,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||M.NodeList&&!M.NodeList.prototype.forEach||!M.fetch||!function(){try{var P=new URL("b","http://a");return P.pathname="c%20d","http://a/c%20d"===P.href&&P.searchParams}catch(te){return!1}}()||"undefined"==typeof WeakMap)&&p.push(N.e(2214).then(N.t.bind(N,4144,23)))}return Promise.all(p)}().then(()=>((p,M)=>"undefined"==typeof window?Promise.resolve():(0,Ct.p)().then(()=>(et(),(0,Ct.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),M))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:rn,jmp:yt=>m.runOutsideAngular(yt),ael(yt,Zt,ut,mn){yt[te](Zt,ut,mn)},rel(yt,Zt,ut,mn){yt.removeEventListener(Zt,ut,mn)}}))}};let H=(()=>{class p{static forRoot(m){return{ngModule:p,providers:[{provide:po,useValue:m},{provide:a.ip1,useFactory:x,multi:!0,deps:[po,at.K0,a.R0b]}]}}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({providers:[ot,Qr,br],imports:[[at.ez]]}),p})()},6304:(Xt,rt,N)=>{"use strict";N.d(rt,{c:()=>ke});var a=N(206);let $;const Se=ie=>ie.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ie=ie=>{if(void 0===$){const fe=void 0!==ie.style.webkitAnimationName;$=void 0===ie.style.animationName&&fe?"-webkit-":""}return $},ne=(ie,Ae,fe)=>{const Je=Ae.startsWith("animation")?Ie(ie):"";ie.style.setProperty(Je+Ae,fe)},me=(ie,Ae)=>{const fe=Ae.startsWith("animation")?Ie(ie):"";ie.style.removeProperty(fe+Ae)},re=[],Fe=(ie=[],Ae)=>{if(void 0!==Ae){const fe=Array.isArray(Ae)?Ae:[Ae];return[...ie,...fe]}return ie},ke=ie=>{let Ae,fe,Je,J,Qe,we,le,at,it,et,Ze,ct,ft,We=[],lt=[],Be=[],Ct=!1,Pe={},ae=[],be=[],qe={},Ve=0,kt=!1,Yt=!1,tt=!0,Me=!1,Ke=!0;const $t=ie,cn=[],rn=[],sn=[],vn=[],Gn=[],Un=[],Kn=[],er=[],In=[],kn=[],dr="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Rn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&dr,tn=()=>kn,Dr=(K,Ce)=>((Ce&&Ce.oneTimeCallback?rn:cn).push({c:K,o:Ce}),ft),on=()=>{if(Rn)kn.forEach(K=>{K.cancel()}),kn.length=0;else{const K=sn.slice();(0,a.r)(()=>{K.forEach(Ce=>{me(Ce,"animation-name"),me(Ce,"animation-duration"),me(Ce,"animation-timing-function"),me(Ce,"animation-iteration-count"),me(Ce,"animation-delay"),me(Ce,"animation-play-state"),me(Ce,"animation-fill-mode"),me(Ce,"animation-direction")})})}},Kt=()=>{Gn.forEach(K=>{K&&K.parentNode&&K.parentNode.removeChild(K)}),Gn.length=0},yn=()=>void 0!==Qe?Qe:le?le.getFill():"both",en=()=>void 0!==it?it:void 0!==we?we:le?le.getDirection():"normal",Tn=()=>kt?"linear":void 0!==Je?Je:le?le.getEasing():"linear",Ne=()=>Yt?0:void 0!==et?et:void 0!==fe?fe:le?le.getDuration():0,ge=()=>void 0!==J?J:le?le.getIterations():1,$e=()=>void 0!==Ze?Ze:void 0!==Ae?Ae:le?le.getDelay():0,ye=()=>{0!==Ve&&(Ve--,0===Ve&&((()=>{Tr(),er.forEach(st=>st()),In.forEach(st=>st());const K=tt?1:0,Ce=ae,He=be,Xe=qe;sn.forEach(st=>{const wt=st.classList;Ce.forEach(At=>wt.add(At)),He.forEach(At=>wt.remove(At));for(const At in Xe)Xe.hasOwnProperty(At)&&ne(st,At,Xe[At])}),cn.forEach(st=>st.c(K,ft)),rn.forEach(st=>st.c(K,ft)),rn.length=0,Ke=!0,tt&&(Me=!0),tt=!0})(),le&&le.animationFinish()))},pt=(K=!0)=>{Kt();const Ce=(ie=>(ie.forEach(Ae=>{for(const fe in Ae)if(Ae.hasOwnProperty(fe)){const Je=Ae[fe];if("easing"===fe)Ae["animation-timing-function"]=Je,delete Ae[fe];else{const J=Se(fe);J!==fe&&(Ae[J]=Je,delete Ae[fe])}}}),ie))(We);sn.forEach(He=>{if(Ce.length>0){const Xe=((ie=[])=>ie.map(Ae=>{const fe=Ae.offset,Je=[];for(const J in Ae)Ae.hasOwnProperty(J)&&"offset"!==J&&Je.push(`${J}: ${Ae[J]};`);return`${100*fe}% { ${Je.join(" ")} }`}).join(" "))(Ce);ct=void 0!==ie?ie:(ie=>{let Ae=re.indexOf(ie);return Ae<0&&(Ae=re.push(ie)-1),`ion-animation-${Ae}`})(Xe);const st=((ie,Ae,fe)=>{const Je=(ie=>{const Ae=ie.getRootNode();return Ae.head||Ae})(fe),J=Ie(fe),Qe=Je.querySelector("#"+ie);if(Qe)return Qe;const we=(fe.ownerDocument||document).createElement("style");return we.id=ie,we.textContent=`@${J}keyframes ${ie} { ${Ae} } @${J}keyframes ${ie}-alt { ${Ae} }`,Je.appendChild(we),we})(ct,Xe,He);Gn.push(st),ne(He,"animation-duration",`${Ne()}ms`),ne(He,"animation-timing-function",Tn()),ne(He,"animation-delay",`${$e()}ms`),ne(He,"animation-fill-mode",yn()),ne(He,"animation-direction",en());const wt=ge()===1/0?"infinite":ge().toString();ne(He,"animation-iteration-count",wt),ne(He,"animation-play-state","paused"),K&&ne(He,"animation-name",`${st.id}-alt`),(0,a.r)(()=>{ne(He,"animation-name",st.id||null)})}})},Qt=(K=!0)=>{(()=>{Un.forEach(Xe=>Xe()),Kn.forEach(Xe=>Xe());const K=lt,Ce=Be,He=Pe;sn.forEach(Xe=>{const st=Xe.classList;K.forEach(wt=>st.add(wt)),Ce.forEach(wt=>st.remove(wt));for(const wt in He)He.hasOwnProperty(wt)&&ne(Xe,wt,He[wt])})})(),We.length>0&&(Rn?(sn.forEach(K=>{const Ce=K.animate(We,{id:$t,delay:$e(),duration:Ne(),easing:Tn(),iterations:ge(),fill:yn(),direction:en()});Ce.pause(),kn.push(Ce)}),kn.length>0&&(kn[0].onfinish=()=>{ye()})):pt(K)),Ct=!0},an=K=>{if(K=Math.min(Math.max(K,0),.9999),Rn)kn.forEach(Ce=>{Ce.currentTime=Ce.effect.getComputedTiming().delay+Ne()*K,Ce.pause()});else{const Ce=`-${Ne()*K}ms`;sn.forEach(He=>{We.length>0&&(ne(He,"animation-delay",Ce),ne(He,"animation-play-state","paused"))})}},qn=K=>{kn.forEach(Ce=>{Ce.effect.updateTiming({delay:$e(),duration:Ne(),easing:Tn(),iterations:ge(),fill:yn(),direction:en()})}),void 0!==K&&an(K)},Zn=(K=!0,Ce)=>{(0,a.r)(()=>{sn.forEach(He=>{ne(He,"animation-name",ct||null),ne(He,"animation-duration",`${Ne()}ms`),ne(He,"animation-timing-function",Tn()),ne(He,"animation-delay",void 0!==Ce?`-${Ce*Ne()}ms`:`${$e()}ms`),ne(He,"animation-fill-mode",yn()||null),ne(He,"animation-direction",en()||null);const Xe=ge()===1/0?"infinite":ge().toString();ne(He,"animation-iteration-count",Xe),K&&ne(He,"animation-name",`${ct}-alt`),(0,a.r)(()=>{ne(He,"animation-name",ct||null)})})})},Cr=(K=!1,Ce=!0,He)=>(K&&vn.forEach(Xe=>{Xe.update(K,Ce,He)}),Rn?qn(He):Zn(Ce,He),ft),hr=()=>{Ct&&(Rn?kn.forEach(K=>{K.pause()}):sn.forEach(K=>{ne(K,"animation-play-state","paused")}))},Yr=()=>{at=void 0,ye()},Tr=()=>{at&&clearTimeout(at)},xn=K=>new Promise(Ce=>{K&&K.sync&&(Yt=!0,Dr(()=>Yt=!1,{oneTimeCallback:!0})),Ct||Qt(),Me&&(Rn?(an(0),qn()):Zn(),Me=!1),Ke&&(Ve=vn.length+1,Ke=!1),Dr(()=>Ce(),{oneTimeCallback:!0}),vn.forEach(He=>{He.play()}),Rn?(kn.forEach(K=>{K.play()}),(0===We.length||0===sn.length)&&ye()):(()=>{if(Tr(),(0,a.r)(()=>{sn.forEach(K=>{We.length>0&&ne(K,"animation-play-state","running")})}),0===We.length||0===sn.length)ye();else{const K=$e()||0,Ce=Ne()||0,He=ge()||1;isFinite(He)&&(at=setTimeout(Yr,K+Ce*He+100)),((ie,Ae)=>{let fe;const Je={passive:!0},Qe=we=>{ie===we.target&&(fe&&fe(),Tr(),(0,a.r)(()=>{sn.forEach(K=>{me(K,"animation-duration"),me(K,"animation-delay"),me(K,"animation-play-state")}),(0,a.r)(ye)}))};ie&&(ie.addEventListener("webkitAnimationEnd",Qe,Je),ie.addEventListener("animationend",Qe,Je),fe=()=>{ie.removeEventListener("webkitAnimationEnd",Qe,Je),ie.removeEventListener("animationend",Qe,Je)})})(sn[0])}})()}),si=(K,Ce)=>{const He=We[0];return void 0===He||void 0!==He.offset&&0!==He.offset?We=[{offset:0,[K]:Ce},...We]:He[K]=Ce,ft};return ft={parentAnimation:le,elements:sn,childAnimations:vn,id:$t,animationFinish:ye,from:si,to:(K,Ce)=>{const He=We[We.length-1];return void 0===He||void 0!==He.offset&&1!==He.offset?We=[...We,{offset:1,[K]:Ce}]:He[K]=Ce,ft},fromTo:(K,Ce,He)=>si(K,Ce).to(K,He),parent:K=>(le=K,ft),play:xn,pause:()=>(vn.forEach(K=>{K.pause()}),hr(),ft),stop:()=>{vn.forEach(K=>{K.stop()}),Ct&&(on(),Ct=!1),kt=!1,Yt=!1,Ke=!0,it=void 0,et=void 0,Ze=void 0,Ve=0,Me=!1,tt=!0},destroy:K=>(vn.forEach(Ce=>{Ce.destroy(K)}),(K=>{on(),K&&Kt()})(K),sn.length=0,vn.length=0,We.length=0,cn.length=0,rn.length=0,Ct=!1,Ke=!0,ft),keyframes:K=>{const Ce=We!==K;return We=K,Ce&&(K=>{Rn?tn().forEach(Ce=>{if(Ce.effect.setKeyframes)Ce.effect.setKeyframes(K);else{const He=new KeyframeEffect(Ce.effect.target,K,Ce.effect.getTiming());Ce.effect=He}}):pt()})(We),ft},addAnimation:K=>{if(null!=K)if(Array.isArray(K))for(const Ce of K)Ce.parent(ft),vn.push(Ce);else K.parent(ft),vn.push(K);return ft},addElement:K=>{if(null!=K)if(1===K.nodeType)sn.push(K);else if(K.length>=0)for(let Ce=0;Ce<K.length;Ce++)sn.push(K[Ce]);else console.error("Invalid addElement value");return ft},update:Cr,fill:K=>(Qe=K,Cr(!0),ft),direction:K=>(we=K,Cr(!0),ft),iterations:K=>(J=K,Cr(!0),ft),duration:K=>(!Rn&&0===K&&(K=1),fe=K,Cr(!0),ft),easing:K=>(Je=K,Cr(!0),ft),delay:K=>(Ae=K,Cr(!0),ft),getWebAnimations:tn,getKeyframes:()=>We,getFill:yn,getDirection:en,getDelay:$e,getIterations:ge,getEasing:Tn,getDuration:Ne,afterAddRead:K=>(er.push(K),ft),afterAddWrite:K=>(In.push(K),ft),afterClearStyles:(K=[])=>{for(const Ce of K)qe[Ce]="";return ft},afterStyles:(K={})=>(qe=K,ft),afterRemoveClass:K=>(be=Fe(be,K),ft),afterAddClass:K=>(ae=Fe(ae,K),ft),beforeAddRead:K=>(Un.push(K),ft),beforeAddWrite:K=>(Kn.push(K),ft),beforeClearStyles:(K=[])=>{for(const Ce of K)Pe[Ce]="";return ft},beforeStyles:(K={})=>(Pe=K,ft),beforeRemoveClass:K=>(Be=Fe(Be,K),ft),beforeAddClass:K=>(lt=Fe(lt,K),ft),onFinish:Dr,progressStart:(K=!1,Ce)=>(vn.forEach(He=>{He.progressStart(K,Ce)}),hr(),kt=K,Ct||Qt(),Cr(!1,!0,Ce),ft),progressStep:K=>(vn.forEach(Ce=>{Ce.progressStep(K)}),an(K),ft),progressEnd:(K,Ce,He)=>(kt=!1,vn.forEach(Xe=>{Xe.progressEnd(K,Ce,He)}),void 0!==He&&(et=He),Me=!1,tt=!0,0===K?(it="reverse"===en()?"normal":"reverse","reverse"===it&&(tt=!1),Rn?(Cr(),an(1-Ce)):(Ze=(1-Ce)*Ne()*-1,Cr(!1,!1))):1===K&&(Rn?(Cr(),an(Ce)):(Ze=Ce*Ne()*-1,Cr(!1,!1))),void 0!==K&&(Dr(()=>{et=void 0,it=void 0,Ze=void 0},{oneTimeCallback:!0}),le||xn()),ft)}}},2733:(Xt,rt,N)=>{"use strict";N.d(rt,{G:()=>Ie});class ${constructor(me,Ee,ce,re,oe){this.id=Ee,this.name=ce,this.disableScroll=oe,this.priority=1e6*re+Ee,this.ctrl=me}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const me=this.ctrl.capture(this.name,this.id,this.priority);return me&&this.disableScroll&&this.ctrl.disableScroll(this.id),me}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class V{constructor(me,Ee,ce,re){this.id=Ee,this.disable=ce,this.disableScroll=re,this.ctrl=me}block(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.disableGesture(me,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.enableGesture(me,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Se="backdrop-no-scroll",Ie=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(me){return new $(this,this.newID(),me.name,me.priority||0,!!me.disableScroll)}createBlocker(me={}){return new V(this,this.newID(),me.disable,!!me.disableScroll)}start(me,Ee,ce){return this.canStart(me)?(this.requestedStart.set(Ee,ce),!0):(this.requestedStart.delete(Ee),!1)}capture(me,Ee,ce){if(!this.start(me,Ee,ce))return!1;const re=this.requestedStart;let oe=-1e4;if(re.forEach(ue=>{oe=Math.max(oe,ue)}),oe===ce){this.capturedId=Ee,re.clear();const ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:me}});return document.dispatchEvent(ue),!0}return re.delete(Ee),!1}release(me){this.requestedStart.delete(me),this.capturedId===me&&(this.capturedId=void 0)}disableGesture(me,Ee){let ce=this.disabledGestures.get(me);void 0===ce&&(ce=new Set,this.disabledGestures.set(me,ce)),ce.add(Ee)}enableGesture(me,Ee){const ce=this.disabledGestures.get(me);void 0!==ce&&ce.delete(Ee)}disableScroll(me){this.disabledScroll.add(me),1===this.disabledScroll.size&&document.body.classList.add(Se)}enableScroll(me){this.disabledScroll.delete(me),0===this.disabledScroll.size&&document.body.classList.remove(Se)}canStart(me){return!(void 0!==this.capturedId||this.isDisabled(me))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(me){const Ee=this.disabledGestures.get(me);return!!(Ee&&Ee.size>0)}newID(){return this.gestureId++,this.gestureId}}},527:(Xt,rt,N)=>{"use strict";N.r(rt),N.d(rt,{MENU_BACK_BUTTON_PRIORITY:()=>Ie,OVERLAY_BACK_BUTTON_PRIORITY:()=>Se,blockHardwareBackButton:()=>$,startHardwareBackButton:()=>V});var a=N(5861);const $=()=>{document.addEventListener("backbutton",()=>{})},V=()=>{const ne=document;let me=!1;ne.addEventListener("backbutton",()=>{if(me)return;let Ee=0,ce=[];const re=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Z,Fe){ce.push({priority:Z,handler:Fe,id:Ee++})}}});ne.dispatchEvent(re);const oe=function(){var Z=(0,a.Z)(function*(Fe){try{if(Fe&&Fe.handler){const ke=Fe.handler(ue);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return Z.apply(this,arguments)}}(),ue=()=>{if(ce.length>0){let Z={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ce.forEach(Fe=>{Fe.priority>=Z.priority&&(Z=Fe)}),me=!0,ce=ce.filter(Fe=>Fe.id!==Z.id),oe(Z).then(()=>me=!1)}};ue()})},Se=100,Ie=99},206:(Xt,rt,N)=>{"use strict";N.d(rt,{a:()=>Ie,b:()=>ne,c:()=>V,d:()=>ue,e:()=>Z,f:()=>oe,g:()=>me,h:()=>Je,i:()=>Se,j:()=>re,k:()=>Fe,l:()=>ce,m:()=>ke,n:()=>fe,o:()=>J,p:()=>Ae,q:()=>ie,r:()=>Ee,s:()=>Qe,t:()=>a});const a=(we,We=0)=>new Promise(lt=>{$(we,We,lt)}),$=(we,We=0,lt)=>{let Be,Ct;const le={passive:!0},ae=()=>{Be&&Be()},be=qe=>{(void 0===qe||we===qe.target)&&(ae(),lt(qe))};return we&&(we.addEventListener("webkitTransitionEnd",be,le),we.addEventListener("transitionend",be,le),Ct=setTimeout(be,We+500),Be=()=>{Ct&&(clearTimeout(Ct),Ct=void 0),we.removeEventListener("webkitTransitionEnd",be,le),we.removeEventListener("transitionend",be,le)}),ae},V=(we,We)=>{we.componentOnReady?we.componentOnReady().then(lt=>We(lt)):Ee(()=>We(we))},Se=(we,We=[])=>{const lt={};return We.forEach(Be=>{we.hasAttribute(Be)&&(null!==we.getAttribute(Be)&&(lt[Be]=we.getAttribute(Be)),we.removeAttribute(Be))}),lt},Ie=(we,We,lt,Be)=>{if("undefined"!=typeof window){const Ct=window,le=Ct&&Ct.Ionic&&Ct.Ionic.config;if(le){const Pe=le.get("_ael");if(Pe)return Pe(we,We,lt,Be);if(le._ael)return le._ael(we,We,lt,Be)}}return we.addEventListener(We,lt,Be)},ne=(we,We,lt,Be)=>{if("undefined"!=typeof window){const Ct=window,le=Ct&&Ct.Ionic&&Ct.Ionic.config;if(le){const Pe=le.get("_rel");if(Pe)return Pe(we,We,lt,Be);if(le._rel)return le._rel(we,We,lt,Be)}}return we.removeEventListener(We,lt,Be)},me=(we,We=we)=>we.shadowRoot||We,Ee=we=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(we):"function"==typeof requestAnimationFrame?requestAnimationFrame(we):setTimeout(we),ce=we=>!!we.shadowRoot&&!!we.attachShadow,re=we=>{const We=we.closest("ion-item");return We?We.querySelector("ion-label"):null},oe=we=>{if(we.focus(),we.classList.contains("ion-focusable")){const We=we.closest("ion-app");We&&We.setFocus([we])}},ue=(we,We)=>{let lt;const Be=we.getAttribute("aria-labelledby"),Ct=we.id;let le=null!==Be&&""!==Be.trim()?Be:We+"-lbl",Pe=null!==Be&&""!==Be.trim()?document.getElementById(Be):re(we);return Pe?(null===Be&&(Pe.id=le),lt=Pe.textContent,Pe.setAttribute("aria-hidden","true")):""!==Ct.trim()&&(Pe=document.querySelector(`label[for="${Ct}"]`),Pe&&(""!==Pe.id?le=Pe.id:Pe.id=le=`${Ct}-lbl`,lt=Pe.textContent)),{label:Pe,labelId:le,labelText:lt}},Z=(we,We,lt,Be,Ct)=>{if(we||ce(We)){let le=We.querySelector("input.aux-input");le||(le=We.ownerDocument.createElement("input"),le.type="hidden",le.classList.add("aux-input"),We.appendChild(le)),le.disabled=Ct,le.name=lt,le.value=Be||""}},Fe=(we,We,lt)=>Math.max(we,Math.min(We,lt)),ke=(we,We)=>{if(!we){const lt="ASSERT: "+We;throw console.error(lt),new Error(lt)}},ie=we=>we.timeStamp||Date.now(),Ae=we=>{if(we){const We=we.changedTouches;if(We&&We.length>0){const lt=We[0];return{x:lt.clientX,y:lt.clientY}}if(void 0!==we.pageX)return{x:we.pageX,y:we.pageY}}return{x:0,y:0}},fe=we=>{const We="rtl"===document.dir;switch(we){case"start":return We;case"end":return!We;default:throw new Error(`"${we}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Je=(we,We)=>{const lt=we._original||we;return{_original:we,emit:J(lt.emit.bind(lt),We)}},J=(we,We=0)=>{let lt;return(...Be)=>{clearTimeout(lt),lt=setTimeout(we,We,...Be)}},Qe=(we,We)=>{if(null!=we||(we={}),null!=We||(We={}),we===We)return!0;const lt=Object.keys(we);if(lt.length!==Object.keys(We).length)return!1;for(const Be of lt)if(!(Be in We)||we[Be]!==We[Be])return!1;return!0}},1363:(Xt,rt,N)=>{"use strict";N.r(rt),N.d(rt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>ce});var a=N(2733);const $=(Z,Fe,ke,ie)=>{const Ae=V(Z)?{capture:!!ie.capture,passive:!!ie.passive}:!!ie.capture;let fe,Je;return Z.__zone_symbol__addEventListener?(fe="__zone_symbol__addEventListener",Je="__zone_symbol__removeEventListener"):(fe="addEventListener",Je="removeEventListener"),Z[fe](Fe,ke,Ae),()=>{Z[Je](Fe,ke,Ae)}},V=Z=>{if(void 0===Se)try{const Fe=Object.defineProperty({},"passive",{get:()=>{Se=!0}});Z.addEventListener("optsTest",()=>{},Fe)}catch(Fe){Se=!1}return!!Se};let Se;const me=Z=>Z instanceof Document?Z:Z.ownerDocument,ce=Z=>{let Fe=!1,ke=!1,ie=!0,Ae=!1;const fe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Z),Je=fe.canStart,J=fe.onWillStart,Qe=fe.onStart,we=fe.onEnd,We=fe.notCaptured,lt=fe.onMove,Be=fe.threshold,Ct=fe.passive,le=fe.blurOnStart,Pe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ae=((Z,Fe,ke)=>{const ie=ke*(Math.PI/180),Ae="x"===Z,fe=Math.cos(ie),Je=Fe*Fe;let J=0,Qe=0,we=!1,We=0;return{start(lt,Be){J=lt,Qe=Be,We=0,we=!0},detect(lt,Be){if(!we)return!1;const Ct=lt-J,le=Be-Qe,Pe=Ct*Ct+le*le;if(Pe<Je)return!1;const ae=Math.sqrt(Pe),be=(Ae?Ct:le)/ae;return We=be>fe?1:be<-fe?-1:0,we=!1,!0},isGesture:()=>0!==We,getDirection:()=>We}})(fe.direction,fe.threshold,fe.maxAngle),be=a.G.createGesture({name:Z.gestureName,priority:Z.gesturePriority,disableScroll:Z.disableScroll}),kt=()=>{!Fe||(Ae=!1,lt&&lt(Pe))},Yt=()=>!(be&&!be.capture()||(Fe=!0,ie=!1,Pe.startX=Pe.currentX,Pe.startY=Pe.currentY,Pe.startTime=Pe.currentTime,J?J(Pe).then(it):it(),0)),it=()=>{le&&(()=>{if("undefined"!=typeof document){const Ke=document.activeElement;null!==Ke&&Ke.blur&&Ke.blur()}})(),Qe&&Qe(Pe),ie=!0},et=()=>{Fe=!1,ke=!1,Ae=!1,ie=!0,be.release()},Ze=Ke=>{const ct=Fe,ft=ie;if(et(),ft){if(re(Pe,Ke),ct)return void(we&&we(Pe));We&&We(Pe)}},tt=((Z,Fe,ke,ie,Ae)=>{let fe,Je,J,Qe,we,We,lt,Be=0;const Ct=at=>{Be=Date.now()+2e3,Fe(at)&&(!Je&&ke&&(Je=$(Z,"touchmove",ke,Ae)),J||(J=$(at.target,"touchend",Pe,Ae)),Qe||(Qe=$(at.target,"touchcancel",Pe,Ae)))},le=at=>{Be>Date.now()||!Fe(at)||(!We&&ke&&(We=$(me(Z),"mousemove",ke,Ae)),lt||(lt=$(me(Z),"mouseup",ae,Ae)))},Pe=at=>{be(),ie&&ie(at)},ae=at=>{qe(),ie&&ie(at)},be=()=>{Je&&Je(),J&&J(),Qe&&Qe(),Je=J=Qe=void 0},qe=()=>{We&&We(),lt&&lt(),We=lt=void 0},Ve=()=>{be(),qe()},kt=(at=!0)=>{at?(fe||(fe=$(Z,"touchstart",Ct,Ae)),we||(we=$(Z,"mousedown",le,Ae))):(fe&&fe(),we&&we(),fe=we=void 0,Ve())};return{enable:kt,stop:Ve,destroy:()=>{kt(!1),ie=ke=Fe=void 0}}})(fe.el,Ke=>{const ct=ue(Ke);return!(ke||!ie||(oe(Ke,Pe),Pe.startX=Pe.currentX,Pe.startY=Pe.currentY,Pe.startTime=Pe.currentTime=ct,Pe.velocityX=Pe.velocityY=Pe.deltaX=Pe.deltaY=0,Pe.event=Ke,Je&&!1===Je(Pe))||(be.release(),!be.start()))&&(ke=!0,0===Be?Yt():(ae.start(Pe.startX,Pe.startY),!0))},Ke=>{Fe?!Ae&&ie&&(Ae=!0,re(Pe,Ke),requestAnimationFrame(kt)):(re(Pe,Ke),ae.detect(Pe.currentX,Pe.currentY)&&(!ae.isGesture()||!Yt())&&Me())},Ze,{capture:!1,passive:Ct}),Me=()=>{et(),tt.stop(),We&&We(Pe)};return{enable(Ke=!0){Ke||(Fe&&Ze(void 0),et()),tt.enable(Ke)},destroy(){be.destroy(),tt.destroy()}}},re=(Z,Fe)=>{if(!Fe)return;const ke=Z.currentX,ie=Z.currentY,Ae=Z.currentTime;oe(Fe,Z);const fe=Z.currentX,Je=Z.currentY,Qe=(Z.currentTime=ue(Fe))-Ae;if(Qe>0&&Qe<100){const We=(Je-ie)/Qe;Z.velocityX=(fe-ke)/Qe*.7+.3*Z.velocityX,Z.velocityY=.7*We+.3*Z.velocityY}Z.deltaX=fe-Z.startX,Z.deltaY=Je-Z.startY,Z.event=Fe},oe=(Z,Fe)=>{let ke=0,ie=0;if(Z){const Ae=Z.changedTouches;if(Ae&&Ae.length>0){const fe=Ae[0];ke=fe.clientX,ie=fe.clientY}else void 0!==Z.pageX&&(ke=Z.pageX,ie=Z.pageY)}Fe.currentX=ke,Fe.currentY=ie},ue=Z=>Z.timeStamp||Date.now()},2361:(Xt,rt,N)=>{"use strict";N.d(rt,{B:()=>si,H:()=>Gn,a:()=>Me,b:()=>pt,c:()=>ti,e:()=>Jn,f:()=>xn,g:()=>Ke,h:()=>sn,i:()=>Pn,j:()=>ge,k:()=>Dt,p:()=>ie,r:()=>qn,s:()=>Fe});var a=N(5861);let V,Se,Ie,ne=!1,me=!1,Ee=!1,ce=!1,re=!1;const oe="undefined"!=typeof window?window:{},ue=oe.document||{head:{}},Z={$flags$:0,$resourcesUrl$:"",jmp:Y=>Y(),raf:Y=>requestAnimationFrame(Y),ael:(Y,de,K,Ce)=>Y.addEventListener(de,K,Ce),rel:(Y,de,K,Ce)=>Y.removeEventListener(de,K,Ce),ce:(Y,de)=>new CustomEvent(Y,de)},Fe=Y=>{Object.assign(Z,Y)},ie=Y=>Promise.resolve(Y),Ae=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(Y){}return!1})(),fe=(Y,de,K,Ce)=>{K&&K.map(([He,Xe,st])=>{const wt=J(Y,He),At=Je(de,st),Mt=Qe(He);Z.ael(wt,Xe,At,Mt),(de.$rmListeners$=de.$rmListeners$||[]).push(()=>Z.rel(wt,Xe,At,Mt))})},Je=(Y,de)=>K=>{try{256&Y.$flags$?Y.$lazyInstance$[de](K):(Y.$queuedListeners$=Y.$queuedListeners$||[]).push([de,K])}catch(Ce){Er(Ce)}},J=(Y,de)=>4&de?ue:8&de?oe:16&de?ue.body:Y,Qe=Y=>0!=(2&Y),Ct="s-id",le="sty-id",be="http://www.w3.org/1999/xlink",kt=new WeakMap,Yt=(Y,de,K)=>{let Ce=hr.get(Y);Ae&&K?(Ce=Ce||new CSSStyleSheet,Ce.replace(de)):Ce=de,hr.set(Y,Ce)},at=(Y,de,K,Ce)=>{let He=et(de,K),Xe=hr.get(He);if(Y=11===Y.nodeType?Y:ue,Xe)if("string"==typeof Xe){let wt,st=kt.get(Y=Y.head||Y);st||kt.set(Y,st=new Set),st.has(He)||(Y.host&&(wt=Y.querySelector(`[${le}="${He}"]`))?wt.innerHTML=Xe:(wt=ue.createElement("style"),wt.innerHTML=Xe,Y.insertBefore(wt,Y.querySelector("link"))),st&&st.add(He))}else Y.adoptedStyleSheets.includes(Xe)||(Y.adoptedStyleSheets=[...Y.adoptedStyleSheets,Xe]);return He},et=(Y,de)=>"sc-"+(de&&32&Y.$flags$?Y.$tagName$+"-"+de:Y.$tagName$),Ze=Y=>Y.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Me=Y=>sr.push(Y),Ke=Y=>an(Y).$modeName$,ct={},rn=Y=>"object"==(Y=typeof Y)||"function"===Y,sn=(Y,de,...K)=>{let Ce=null,He=null,Xe=null,st=!1,wt=!1,At=[];const Mt=_n=>{for(let Mn=0;Mn<_n.length;Mn++)Ce=_n[Mn],Array.isArray(Ce)?Mt(Ce):null!=Ce&&"boolean"!=typeof Ce&&((st="function"!=typeof Y&&!rn(Ce))&&(Ce=String(Ce)),st&&wt?At[At.length-1].$text$+=Ce:At.push(st?vn(null,Ce):Ce),wt=st)};if(Mt(K),de){de.key&&(He=de.key),de.name&&(Xe=de.name);{const _n=de.className||de.class;_n&&(de.class="object"!=typeof _n?_n:Object.keys(_n).filter(Mn=>_n[Mn]).join(" "))}}if("function"==typeof Y)return Y(null===de?{}:de,At,Kn);const nn=vn(Y,null);return nn.$attrs$=de,At.length>0&&(nn.$children$=At),nn.$key$=He,nn.$name$=Xe,nn},vn=(Y,de)=>({$flags$:0,$tag$:Y,$text$:de,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Gn={},Kn={forEach:(Y,de)=>Y.map(er).forEach(de),map:(Y,de)=>Y.map(er).map(de).map(In)},er=Y=>({vattrs:Y.$attrs$,vchildren:Y.$children$,vkey:Y.$key$,vname:Y.$name$,vtag:Y.$tag$,vtext:Y.$text$}),In=Y=>{if("function"==typeof Y.vtag){const K=Object.assign({},Y.vattrs);return Y.vkey&&(K.key=Y.vkey),Y.vname&&(K.name=Y.vname),sn(Y.vtag,K,...Y.vchildren||[])}const de=vn(Y.vtag,Y.vtext);return de.$attrs$=Y.vattrs,de.$children$=Y.vchildren,de.$key$=Y.vkey,de.$name$=Y.vname,de},kn=(Y,de,K,Ce,He,Xe)=>{if(K!==Ce){let st=Cr(Y,de),wt=de.toLowerCase();if("class"===de){const At=Y.classList,Mt=Rn(K),nn=Rn(Ce);At.remove(...Mt.filter(_n=>_n&&!nn.includes(_n))),At.add(...nn.filter(_n=>_n&&!Mt.includes(_n)))}else if("style"===de){for(const At in K)(!Ce||null==Ce[At])&&(At.includes("-")?Y.style.removeProperty(At):Y.style[At]="");for(const At in Ce)(!K||Ce[At]!==K[At])&&(At.includes("-")?Y.style.setProperty(At,Ce[At]):Y.style[At]=Ce[At])}else if("key"!==de)if("ref"===de)Ce&&Ce(Y);else if(st||"o"!==de[0]||"n"!==de[1]){const At=rn(Ce);if((st||At&&null!==Ce)&&!He)try{if(Y.tagName.includes("-"))Y[de]=Ce;else{let nn=null==Ce?"":Ce;"list"===de?st=!1:(null==K||Y[de]!=nn)&&(Y[de]=nn)}}catch(nn){}let Mt=!1;wt!==(wt=wt.replace(/^xlink\:?/,""))&&(de=wt,Mt=!0),null==Ce||!1===Ce?(!1!==Ce||""===Y.getAttribute(de))&&(Mt?Y.removeAttributeNS(be,de):Y.removeAttribute(de)):(!st||4&Xe||He)&&!At&&(Ce=!0===Ce?"":Ce,Mt?Y.setAttributeNS(be,de,Ce):Y.setAttribute(de,Ce))}else de="-"===de[2]?de.slice(3):Cr(oe,wt)?wt.slice(2):wt[2]+de.slice(3),K&&Z.rel(Y,de,K,!1),Ce&&Z.ael(Y,de,Ce,!1)}},dr=/\s/,Rn=Y=>Y?Y.split(dr):[],Vn=(Y,de,K,Ce)=>{const He=11===de.$elm$.nodeType&&de.$elm$.host?de.$elm$.host:de.$elm$,Xe=Y&&Y.$attrs$||ct,st=de.$attrs$||ct;for(Ce in Xe)Ce in st||kn(He,Ce,Xe[Ce],void 0,K,de.$flags$);for(Ce in st)kn(He,Ce,Xe[Ce],st[Ce],K,de.$flags$)},tn=(Y,de,K,Ce)=>{let st,wt,At,He=de.$children$[K],Xe=0;if(ne||(Ee=!0,"slot"===He.$tag$&&(V&&Ce.classList.add(V+"-s"),He.$flags$|=He.$children$?2:1)),null!==He.$text$)st=He.$elm$=ue.createTextNode(He.$text$);else if(1&He.$flags$)st=He.$elm$=ue.createTextNode("");else{if(ce||(ce="svg"===He.$tag$),st=He.$elm$=ue.createElementNS(ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&He.$flags$?"slot-fb":He.$tag$),ce&&"foreignObject"===He.$tag$&&(ce=!1),Vn(null,He,ce),(Y=>null!=Y)(V)&&st["s-si"]!==V&&st.classList.add(st["s-si"]=V),He.$children$)for(Xe=0;Xe<He.$children$.length;++Xe)wt=tn(Y,He,Xe,st),wt&&st.appendChild(wt);"svg"===He.$tag$?ce=!1:"foreignObject"===st.tagName&&(ce=!0)}return st["s-hn"]=Ie,3&He.$flags$&&(st["s-sr"]=!0,st["s-cr"]=Se,st["s-sn"]=He.$name$||"",At=Y&&Y.$children$&&Y.$children$[K],At&&At.$tag$===He.$tag$&&Y.$elm$&&En(Y.$elm$,!1)),st},En=(Y,de)=>{Z.$flags$|=1;const K=Y.childNodes;for(let Ce=K.length-1;Ce>=0;Ce--){const He=K[Ce];He["s-hn"]!==Ie&&He["s-ol"]&&(Kt(He).insertBefore(He,on(He)),He["s-ol"].remove(),He["s-ol"]=void 0,Ee=!0),de&&En(He,de)}Z.$flags$&=-2},$r=(Y,de,K,Ce,He,Xe)=>{let wt,st=Y["s-cr"]&&Y["s-cr"].parentNode||Y;for(st.shadowRoot&&st.tagName===Ie&&(st=st.shadowRoot);He<=Xe;++He)Ce[He]&&(wt=tn(null,K,He,Y),wt&&(Ce[He].$elm$=wt,st.insertBefore(wt,on(de))))},Ot=(Y,de,K,Ce,He)=>{for(;de<=K;++de)(Ce=Y[de])&&(He=Ce.$elm$,dn(Ce),me=!0,He["s-ol"]?He["s-ol"].remove():En(He,!0),He.remove())},jn=(Y,de)=>Y.$tag$===de.$tag$&&("slot"===Y.$tag$?Y.$name$===de.$name$:Y.$key$===de.$key$),on=Y=>Y&&Y["s-ol"]||Y,Kt=Y=>(Y["s-ol"]?Y["s-ol"]:Y).parentNode,Rr=(Y,de)=>{const K=de.$elm$=Y.$elm$,Ce=Y.$children$,He=de.$children$,Xe=de.$tag$,st=de.$text$;let wt;null===st?(ce="svg"===Xe||"foreignObject"!==Xe&&ce,"slot"===Xe||Vn(Y,de,ce),null!==Ce&&null!==He?((Y,de,K,Ce)=>{let Sr,Br,He=0,Xe=0,st=0,wt=0,At=de.length-1,Mt=de[0],nn=de[At],_n=Ce.length-1,Mn=Ce[0],nr=Ce[_n];for(;He<=At&&Xe<=_n;)if(null==Mt)Mt=de[++He];else if(null==nn)nn=de[--At];else if(null==Mn)Mn=Ce[++Xe];else if(null==nr)nr=Ce[--_n];else if(jn(Mt,Mn))Rr(Mt,Mn),Mt=de[++He],Mn=Ce[++Xe];else if(jn(nn,nr))Rr(nn,nr),nn=de[--At],nr=Ce[--_n];else if(jn(Mt,nr))("slot"===Mt.$tag$||"slot"===nr.$tag$)&&En(Mt.$elm$.parentNode,!1),Rr(Mt,nr),Y.insertBefore(Mt.$elm$,nn.$elm$.nextSibling),Mt=de[++He],nr=Ce[--_n];else if(jn(nn,Mn))("slot"===Mt.$tag$||"slot"===nr.$tag$)&&En(nn.$elm$.parentNode,!1),Rr(nn,Mn),Y.insertBefore(nn.$elm$,Mt.$elm$),nn=de[--At],Mn=Ce[++Xe];else{for(st=-1,wt=He;wt<=At;++wt)if(de[wt]&&null!==de[wt].$key$&&de[wt].$key$===Mn.$key$){st=wt;break}st>=0?(Br=de[st],Br.$tag$!==Mn.$tag$?Sr=tn(de&&de[Xe],K,st,Y):(Rr(Br,Mn),de[st]=void 0,Sr=Br.$elm$),Mn=Ce[++Xe]):(Sr=tn(de&&de[Xe],K,Xe,Y),Mn=Ce[++Xe]),Sr&&Kt(Mt.$elm$).insertBefore(Sr,on(Mt.$elm$))}He>At?$r(Y,null==Ce[_n+1]?null:Ce[_n+1].$elm$,K,Ce,Xe,_n):Xe>_n&&Ot(de,He,At)})(K,Ce,de,He):null!==He?(null!==Y.$text$&&(K.textContent=""),$r(K,null,de,He,0,He.length-1)):null!==Ce&&Ot(Ce,0,Ce.length-1),ce&&"svg"===Xe&&(ce=!1)):(wt=K["s-cr"])?wt.parentNode.textContent=st:Y.$text$!==st&&(K.data=st)},qr=Y=>{let K,Ce,He,Xe,st,wt,de=Y.childNodes;for(Ce=0,He=de.length;Ce<He;Ce++)if(K=de[Ce],1===K.nodeType){if(K["s-sr"])for(st=K["s-sn"],K.hidden=!1,Xe=0;Xe<He;Xe++)if(wt=de[Xe].nodeType,de[Xe]["s-hn"]!==K["s-hn"]||""!==st){if(1===wt&&st===de[Xe].getAttribute("slot")){K.hidden=!0;break}}else if(1===wt||3===wt&&""!==de[Xe].textContent.trim()){K.hidden=!0;break}qr(K)}},ir=[],Ur=Y=>{let de,K,Ce,He,Xe,st,wt=0,At=Y.childNodes,Mt=At.length;for(;wt<Mt;wt++){if(de=At[wt],de["s-sr"]&&(K=de["s-cr"])&&K.parentNode)for(Ce=K.parentNode.childNodes,He=de["s-sn"],st=Ce.length-1;st>=0;st--)K=Ce[st],!K["s-cn"]&&!K["s-nr"]&&K["s-hn"]!==de["s-hn"]&&(pr(K,He)?(Xe=ir.find(nn=>nn.$nodeToRelocate$===K),me=!0,K["s-sn"]=K["s-sn"]||He,Xe?Xe.$slotRefNode$=de:ir.push({$slotRefNode$:de,$nodeToRelocate$:K}),K["s-sr"]&&ir.map(nn=>{pr(nn.$nodeToRelocate$,K["s-sn"])&&(Xe=ir.find(_n=>_n.$nodeToRelocate$===K),Xe&&!nn.$slotRefNode$&&(nn.$slotRefNode$=Xe.$slotRefNode$))})):ir.some(nn=>nn.$nodeToRelocate$===K)||ir.push({$nodeToRelocate$:K}));1===de.nodeType&&Ur(de)}},pr=(Y,de)=>1===Y.nodeType?null===Y.getAttribute("slot")&&""===de||Y.getAttribute("slot")===de:Y["s-sn"]===de||""===de,dn=Y=>{Y.$attrs$&&Y.$attrs$.ref&&Y.$attrs$.ref(null),Y.$children$&&Y.$children$.map(dn)},Pn=Y=>an(Y).$hostElement$,Jn=(Y,de,K)=>{const Ce=Pn(Y);return{emit:He=>zt(Ce,de,{bubbles:!!(4&K),composed:!!(2&K),cancelable:!!(1&K),detail:He})}},zt=(Y,de,K)=>{const Ce=Z.ce(de,K);return Y.dispatchEvent(Ce),Ce},It=(Y,de)=>{de&&!Y.$onRenderResolve$&&de["s-p"]&&de["s-p"].push(new Promise(K=>Y.$onRenderResolve$=K))},Lt=(Y,de)=>{if(Y.$flags$|=16,!(4&Y.$flags$))return It(Y,Y.$ancestorComponent$),ti(()=>yn(Y,de));Y.$flags$|=512},yn=(Y,de)=>{const Ce=Y.$lazyInstance$;let He;return de&&(Y.$flags$|=256,Y.$queuedListeners$&&(Y.$queuedListeners$.map(([Xe,st])=>dt(Ce,Xe,st)),Y.$queuedListeners$=null),He=dt(Ce,"componentWillLoad")),He=se(He,()=>dt(Ce,"componentWillRender")),se(He,()=>en(Y,Ce,de))},en=function(){var Y=(0,a.Z)(function*(de,K,Ce){const He=de.$hostElement$,st=He["s-rc"];Ce&&(Y=>{const de=Y.$cmpMeta$,K=Y.$hostElement$,Ce=de.$flags$,Xe=at(K.shadowRoot?K.shadowRoot:K.getRootNode(),de,Y.$modeName$);10&Ce&&(K["s-sc"]=Xe,K.classList.add(Xe+"-h"),2&Ce&&K.classList.add(Xe+"-s"))})(de);Tn(de,K),st&&(st.map(At=>At()),He["s-rc"]=void 0);{const At=He["s-p"],Mt=()=>Ne(de);0===At.length?Mt():(Promise.all(At).then(Mt),de.$flags$|=4,At.length=0)}});return function(K,Ce,He){return Y.apply(this,arguments)}}(),Tn=(Y,de,K)=>{try{de=de.render&&de.render(),Y.$flags$&=-17,Y.$flags$|=2,((Y,de)=>{const K=Y.$hostElement$,Ce=Y.$cmpMeta$,He=Y.$vnode$||vn(null,null),Xe=(Y=>Y&&Y.$tag$===Gn)(de)?de:sn(null,null,de);if(Ie=K.tagName,Ce.$attrsToReflect$&&(Xe.$attrs$=Xe.$attrs$||{},Ce.$attrsToReflect$.map(([st,wt])=>Xe.$attrs$[wt]=K[st])),Xe.$tag$=null,Xe.$flags$|=4,Y.$vnode$=Xe,Xe.$elm$=He.$elm$=K.shadowRoot||K,V=K["s-sc"],Se=K["s-cr"],ne=0!=(1&Ce.$flags$),me=!1,Rr(He,Xe),Z.$flags$|=1,Ee){Ur(Xe.$elm$);let st,wt,At,Mt,nn,_n,Mn=0;for(;Mn<ir.length;Mn++)st=ir[Mn],wt=st.$nodeToRelocate$,wt["s-ol"]||(At=ue.createTextNode(""),At["s-nr"]=wt,wt.parentNode.insertBefore(wt["s-ol"]=At,wt));for(Mn=0;Mn<ir.length;Mn++)if(st=ir[Mn],wt=st.$nodeToRelocate$,st.$slotRefNode$){for(Mt=st.$slotRefNode$.parentNode,nn=st.$slotRefNode$.nextSibling,At=wt["s-ol"];At=At.previousSibling;)if(_n=At["s-nr"],_n&&_n["s-sn"]===wt["s-sn"]&&Mt===_n.parentNode&&(_n=_n.nextSibling,!_n||!_n["s-nr"])){nn=_n;break}(!nn&&Mt!==wt.parentNode||wt.nextSibling!==nn)&&wt!==nn&&(!wt["s-hn"]&&wt["s-ol"]&&(wt["s-hn"]=wt["s-ol"].parentNode.nodeName),Mt.insertBefore(wt,nn))}else 1===wt.nodeType&&(wt.hidden=!0)}me&&qr(Xe.$elm$),Z.$flags$&=-2,ir.length=0})(Y,de)}catch(Ce){Er(Ce,Y.$hostElement$)}return null},Ne=Y=>{const K=Y.$hostElement$,He=Y.$lazyInstance$,Xe=Y.$ancestorComponent$;dt(He,"componentDidRender"),64&Y.$flags$?dt(He,"componentDidUpdate"):(Y.$flags$|=64,he(K),dt(He,"componentDidLoad"),Y.$onReadyResolve$(K),Xe||$e()),Y.$onInstanceResolve$(K),Y.$onRenderResolve$&&(Y.$onRenderResolve$(),Y.$onRenderResolve$=void 0),512&Y.$flags$&&jr(()=>Lt(Y,!1)),Y.$flags$&=-517},ge=Y=>{{const de=an(Y),K=de.$hostElement$.isConnected;return K&&2==(18&de.$flags$)&&Lt(de,!1),K}},$e=Y=>{he(ue.documentElement),jr(()=>zt(oe,"appload",{detail:{namespace:"ionic"}}))},dt=(Y,de,K)=>{if(Y&&Y[de])try{return Y[de](K)}catch(Ce){Er(Ce)}},se=(Y,de)=>Y&&Y.then?Y.then(de):de(),he=Y=>Y.classList.add("hydrated"),mt=(Y,de,K,Ce,He,Xe,st)=>{let wt,At,Mt,nn;if(1===Xe.nodeType){for(wt=Xe.getAttribute("c-id"),wt&&(At=wt.split("."),(At[0]===st||"0"===At[0])&&(Mt={$flags$:0,$hostId$:At[0],$nodeId$:At[1],$depth$:At[2],$index$:At[3],$tag$:Xe.tagName.toLowerCase(),$elm$:Xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},de.push(Mt),Xe.removeAttribute("c-id"),Y.$children$||(Y.$children$=[]),Y.$children$[Mt.$index$]=Mt,Y=Mt,Ce&&"0"===Mt.$depth$&&(Ce[Mt.$index$]=Mt.$elm$))),nn=Xe.childNodes.length-1;nn>=0;nn--)mt(Y,de,K,Ce,He,Xe.childNodes[nn],st);if(Xe.shadowRoot)for(nn=Xe.shadowRoot.childNodes.length-1;nn>=0;nn--)mt(Y,de,K,Ce,He,Xe.shadowRoot.childNodes[nn],st)}else if(8===Xe.nodeType)At=Xe.nodeValue.split("."),(At[1]===st||"0"===At[1])&&(wt=At[0],Mt={$flags$:0,$hostId$:At[1],$nodeId$:At[2],$depth$:At[3],$index$:At[4],$elm$:Xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===wt?(Mt.$elm$=Xe.nextSibling,Mt.$elm$&&3===Mt.$elm$.nodeType&&(Mt.$text$=Mt.$elm$.textContent,de.push(Mt),Xe.remove(),Y.$children$||(Y.$children$=[]),Y.$children$[Mt.$index$]=Mt,Ce&&"0"===Mt.$depth$&&(Ce[Mt.$index$]=Mt.$elm$))):Mt.$hostId$===st&&("s"===wt?(Mt.$tag$="slot",Xe["s-sn"]=At[5]?Mt.$name$=At[5]:"",Xe["s-sr"]=!0,Ce&&(Mt.$elm$=ue.createElement(Mt.$tag$),Mt.$name$&&Mt.$elm$.setAttribute("name",Mt.$name$),Xe.parentNode.insertBefore(Mt.$elm$,Xe),Xe.remove(),"0"===Mt.$depth$&&(Ce[Mt.$index$]=Mt.$elm$)),K.push(Mt),Y.$children$||(Y.$children$=[]),Y.$children$[Mt.$index$]=Mt):"r"===wt&&(Ce?Xe.remove():(He["s-cr"]=Xe,Xe["s-cn"]=!0))));else if(Y&&"style"===Y.$tag$){const _n=vn(null,Xe.textContent);_n.$elm$=Xe,_n.$index$="0",Y.$children$=[_n]}},Vt=(Y,de)=>{if(1===Y.nodeType){let K=0;for(;K<Y.childNodes.length;K++)Vt(Y.childNodes[K],de);if(Y.shadowRoot)for(K=0;K<Y.shadowRoot.childNodes.length;K++)Vt(Y.shadowRoot.childNodes[K],de)}else if(8===Y.nodeType){const K=Y.nodeValue.split(".");"o"===K[0]&&(de.set(K[1]+"."+K[2],Y),Y.nodeValue="",Y["s-en"]=K[3])}},zn=(Y,de,K)=>{if(de.$members$){Y.watchers&&(de.$watchers$=Y.watchers);const Ce=Object.entries(de.$members$),He=Y.prototype;if(Ce.map(([Xe,[st]])=>{31&st||2&K&&32&st?Object.defineProperty(He,Xe,{get(){return((Y,de)=>an(this).$instanceValues$.get(de))(0,Xe)},set(wt){((Y,de,K,Ce)=>{const He=an(Y),Xe=He.$hostElement$,st=He.$instanceValues$.get(de),wt=He.$flags$,At=He.$lazyInstance$;K=((Y,de)=>null==Y||rn(Y)?Y:4&de?"false"!==Y&&(""===Y||!!Y):2&de?parseFloat(Y):1&de?String(Y):Y)(K,Ce.$members$[de][0]);const Mt=Number.isNaN(st)&&Number.isNaN(K);if((!(8&wt)||void 0===st)&&K!==st&&!Mt&&(He.$instanceValues$.set(de,K),At)){if(Ce.$watchers$&&128&wt){const _n=Ce.$watchers$[de];_n&&_n.map(Mn=>{try{At[Mn](K,st,de)}catch(nr){Er(nr,Xe)}})}2==(18&wt)&&Lt(He,!1)}})(this,Xe,wt,de)},configurable:!0,enumerable:!0}):1&K&&64&st&&Object.defineProperty(He,Xe,{value(...wt){const At=an(this);return At.$onInstancePromise$.then(()=>At.$lazyInstance$[Xe](...wt))}})}),1&K){const Xe=new Map;He.attributeChangedCallback=function(st,wt,At){Z.jmp(()=>{const Mt=Xe.get(st);if(this.hasOwnProperty(Mt))At=this[Mt],delete this[Mt];else if(He.hasOwnProperty(Mt)&&"number"==typeof this[Mt]&&this[Mt]==At)return;this[Mt]=(null!==At||"boolean"!=typeof this[Mt])&&At})},Y.observedAttributes=Ce.filter(([st,wt])=>15&wt[0]).map(([st,wt])=>{const At=wt[1]||st;return Xe.set(At,st),512&wt[0]&&de.$attrsToReflect$.push([st,At]),At})}}return Y},gr=function(){var Y=(0,a.Z)(function*(de,K,Ce,He,Xe){if(0==(32&K.$flags$)){{if(K.$flags$|=32,(Xe=An(Ce)).then){const Mt=()=>{};Xe=yield Xe,Mt()}Xe.isProxied||(Ce.$watchers$=Xe.watchers,zn(Xe,Ce,2),Xe.isProxied=!0);const At=()=>{};K.$flags$|=8;try{new Xe(K)}catch(Mt){Er(Mt)}K.$flags$&=-9,K.$flags$|=128,At(),Wn(K.$lazyInstance$)}if(Xe.style){let At=Xe.style;"string"!=typeof At&&(At=At[K.$modeName$=(Y=>sr.map(de=>de(Y)).find(de=>!!de))(de)]);const Mt=et(Ce,K.$modeName$);if(!hr.has(Mt)){const nn=()=>{};Yt(Mt,At,!!(1&Ce.$flags$)),nn()}}}const st=K.$ancestorComponent$,wt=()=>Lt(K,!0);st&&st["s-rc"]?st["s-rc"].push(wt):wt()});return function(K,Ce,He,Xe,st){return Y.apply(this,arguments)}}(),Wn=Y=>{dt(Y,"connectedCallback")},De=Y=>{const de=Y["s-cr"]=ue.createComment("");de["s-cn"]=!0,Y.insertBefore(de,Y.firstChild)},pt=(Y,de={})=>{const Ce=[],He=de.exclude||[],Xe=oe.customElements,st=ue.head,wt=st.querySelector("meta[charset]"),At=ue.createElement("style"),Mt=[],nn=ue.querySelectorAll(`[${le}]`);let _n,Mn=!0,nr=0;for(Object.assign(Z,de),Z.$resourcesUrl$=new URL(de.resourcesUrl||"./",ue.baseURI).href,Z.$flags$|=2;nr<nn.length;nr++)Yt(nn[nr].getAttribute(le),Ze(nn[nr].innerHTML),!0);Y.map(Sr=>{Sr[1].map(Br=>{const Ye={$flags$:Br[0],$tagName$:Br[1],$members$:Br[2],$listeners$:Br[3]};Ye.$members$=Br[2],Ye.$listeners$=Br[3],Ye.$attrsToReflect$=[],Ye.$watchers$={};const je=Ye.$tagName$,ot=class extends HTMLElement{constructor(Tt){super(Tt),Zn(Tt=this,Ye),1&Ye.$flags$&&Tt.attachShadow({mode:"open",delegatesFocus:!!(16&Ye.$flags$)})}connectedCallback(){_n&&(clearTimeout(_n),_n=null),Mn?Mt.push(this):Z.jmp(()=>(Y=>{if(0==(1&Z.$flags$)){const de=an(Y),K=de.$cmpMeta$,Ce=()=>{};if(1&de.$flags$)fe(Y,de,K.$listeners$),Wn(de.$lazyInstance$);else{let He;if(de.$flags$|=1,He=Y.getAttribute(Ct),He){if(1&K.$flags$){const Xe=at(Y.shadowRoot,K,Y.getAttribute("s-mode"));Y.classList.remove(Xe+"-h",Xe+"-s")}((Y,de,K,Ce)=>{const Xe=Y.shadowRoot,st=[],At=Xe?[]:null,Mt=Ce.$vnode$=vn(de,null);Z.$orgLocNodes$||Vt(ue.body,Z.$orgLocNodes$=new Map),Y[Ct]=K,Y.removeAttribute(Ct),mt(Mt,st,[],At,Y,Y,K),st.map(nn=>{const _n=nn.$hostId$+"."+nn.$nodeId$,Mn=Z.$orgLocNodes$.get(_n),nr=nn.$elm$;Mn&&""===Mn["s-en"]&&Mn.parentNode.insertBefore(nr,Mn.nextSibling),Xe||(nr["s-hn"]=de,Mn&&(nr["s-ol"]=Mn,nr["s-ol"]["s-nr"]=nr)),Z.$orgLocNodes$.delete(_n)}),Xe&&At.map(nn=>{nn&&Xe.appendChild(nn)})})(Y,K.$tagName$,He,de)}He||12&K.$flags$&&De(Y);{let Xe=Y;for(;Xe=Xe.parentNode||Xe.host;)if(1===Xe.nodeType&&Xe.hasAttribute("s-id")&&Xe["s-p"]||Xe["s-p"]){It(de,de.$ancestorComponent$=Xe);break}}K.$members$&&Object.entries(K.$members$).map(([Xe,[st]])=>{if(31&st&&Y.hasOwnProperty(Xe)){const wt=Y[Xe];delete Y[Xe],Y[Xe]=wt}}),jr(()=>gr(Y,de,K))}Ce()}})(this))}disconnectedCallback(){Z.jmp(()=>(Y=>{if(0==(1&Z.$flags$)){const de=an(this),K=de.$lazyInstance$;de.$rmListeners$&&(de.$rmListeners$.map(Ce=>Ce()),de.$rmListeners$=void 0),dt(K,"disconnectedCallback")}})())}componentOnReady(){return an(this).$onReadyPromise$}};Ye.$lazyBundleId$=Sr[0],!He.includes(je)&&!Xe.get(je)&&(Ce.push(je),Xe.define(je,zn(ot,Ye,1)))})}),At.innerHTML=Ce+"{visibility:hidden}.hydrated{visibility:inherit}",At.setAttribute("data-styles",""),st.insertBefore(At,wt?wt.nextSibling:st.firstChild),Mn=!1,Mt.length?Mt.map(Sr=>Sr.connectedCallback()):Z.jmp(()=>_n=setTimeout($e,30))},Dt=Y=>{const de=new URL(Y,Z.$resourcesUrl$);return de.origin!==oe.location.origin?de.href:de.pathname},Qt=new WeakMap,an=Y=>Qt.get(Y),qn=(Y,de)=>Qt.set(de.$lazyInstance$=Y,de),Zn=(Y,de)=>{const K={$flags$:0,$hostElement$:Y,$cmpMeta$:de,$instanceValues$:new Map};return K.$onInstancePromise$=new Promise(Ce=>K.$onInstanceResolve$=Ce),K.$onReadyPromise$=new Promise(Ce=>K.$onReadyResolve$=Ce),Y["s-p"]=[],Y["s-rc"]=[],fe(Y,K,de.$listeners$),Qt.set(Y,K)},Cr=(Y,de)=>de in Y,Er=(Y,de)=>(0,console.error)(Y,de),Jt=new Map,An=(Y,de,K)=>{const Ce=Y.$tagName$.replace(/-/g,"_"),He=Y.$lazyBundleId$,Xe=Jt.get(He);return Xe?Xe[Ce]:N(863)(`./${He}.entry.js`).then(st=>(Jt.set(He,st),st[Ce]),Er)},hr=new Map,sr=[],Yr=[],Tr=[],ei=(Y,de)=>K=>{Y.push(K),re||(re=!0,de&&4&Z.$flags$?jr(hi):Z.raf(hi))},vr=Y=>{for(let de=0;de<Y.length;de++)try{Y[de](performance.now())}catch(K){Er(K)}Y.length=0},hi=()=>{vr(Yr),vr(Tr),(re=Yr.length>0)&&Z.raf(hi)},jr=Y=>ie().then(Y),xn=ei(Yr,!1),ti=ei(Tr,!0),si={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5970:(Xt,rt,N)=>{"use strict";N.d(rt,{m:()=>oe});var a=N(5861),$=N(527),V=N(206),Se=N(8686),Ie=N(6304);const ne=ue=>(0,Ie.c)().duration(ue?400:300),me=ue=>{let Z,Fe;const ke=ue.width+8,ie=(0,Ie.c)(),Ae=(0,Ie.c)();ue.isEndSide?(Z=ke+"px",Fe="0px"):(Z=-ke+"px",Fe="0px"),ie.addElement(ue.menuInnerEl).fromTo("transform",`translateX(${Z})`,`translateX(${Fe})`);const Je="ios"===(0,Se.b)(ue),J=Je?.2:.25;return Ae.addElement(ue.backdropEl).fromTo("opacity",.01,J),ne(Je).addAnimation([ie,Ae])},Ee=ue=>{let Z,Fe;const ke=(0,Se.b)(ue),ie=ue.width;ue.isEndSide?(Z=-ie+"px",Fe=ie+"px"):(Z=ie+"px",Fe=-ie+"px");const Ae=(0,Ie.c)().addElement(ue.menuInnerEl).fromTo("transform",`translateX(${Fe})`,"translateX(0px)"),fe=(0,Ie.c)().addElement(ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Z})`),Je=(0,Ie.c)().addElement(ue.backdropEl).fromTo("opacity",.01,.32);return ne("ios"===ke).addAnimation([Ae,fe,Je])},ce=ue=>{const Z=(0,Se.b)(ue),Fe=ue.width*(ue.isEndSide?-1:1)+"px",ke=(0,Ie.c)().addElement(ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Fe})`);return ne("ios"===Z).addAnimation(ke)},oe=(()=>{const ue=new Map,Z=[],Fe=function(){var it=(0,a.Z)(function*(et){const Ze=yield Qe(et);return!!Ze&&Ze.open()});return function(Ze){return it.apply(this,arguments)}}(),ke=function(){var it=(0,a.Z)(function*(et){const Ze=yield void 0!==et?Qe(et):we();return void 0!==Ze&&Ze.close()});return function(Ze){return it.apply(this,arguments)}}(),ie=function(){var it=(0,a.Z)(function*(et){const Ze=yield Qe(et);return!!Ze&&Ze.toggle()});return function(Ze){return it.apply(this,arguments)}}(),Ae=function(){var it=(0,a.Z)(function*(et,Ze){const tt=yield Qe(Ze);return tt&&(tt.disabled=!et),tt});return function(Ze,tt){return it.apply(this,arguments)}}(),fe=function(){var it=(0,a.Z)(function*(et,Ze){const tt=yield Qe(Ze);return tt&&(tt.swipeGesture=et),tt});return function(Ze,tt){return it.apply(this,arguments)}}(),Je=function(){var it=(0,a.Z)(function*(et){if(null!=et){const Ze=yield Qe(et);return void 0!==Ze&&Ze.isOpen()}return void 0!==(yield we())});return function(Ze){return it.apply(this,arguments)}}(),J=function(){var it=(0,a.Z)(function*(et){const Ze=yield Qe(et);return!!Ze&&!Ze.disabled});return function(Ze){return it.apply(this,arguments)}}(),Qe=function(){var it=(0,a.Z)(function*(et){return yield at(),"start"===et||"end"===et?Yt(Me=>Me.side===et&&!Me.disabled)||Yt(Me=>Me.side===et):null!=et?Yt(tt=>tt.menuId===et):Yt(tt=>!tt.disabled)||(Z.length>0?Z[0].el:void 0)});return function(Ze){return it.apply(this,arguments)}}(),we=function(){var it=(0,a.Z)(function*(){return yield at(),qe()});return function(){return it.apply(this,arguments)}}(),We=function(){var it=(0,a.Z)(function*(){return yield at(),Ve()});return function(){return it.apply(this,arguments)}}(),lt=function(){var it=(0,a.Z)(function*(){return yield at(),kt()});return function(){return it.apply(this,arguments)}}(),Be=(it,et)=>{ue.set(it,et)},Pe=it=>{const et=it.side;Z.filter(Ze=>Ze.side===et&&Ze!==it).forEach(Ze=>Ze.disabled=!0)},ae=function(){var it=(0,a.Z)(function*(et,Ze,tt){if(kt())return!1;if(Ze){const Me=yield we();Me&&et.el!==Me&&(yield Me.setOpen(!1,!1))}return et._setOpen(Ze,tt)});return function(Ze,tt,Me){return it.apply(this,arguments)}}(),qe=()=>Yt(it=>it._isOpen),Ve=()=>Z.map(it=>it.el),kt=()=>Z.some(it=>it.isAnimating),Yt=it=>{const et=Z.find(it);if(void 0!==et)return et.el},at=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(it=>new Promise(et=>(0,V.c)(it,et))));return Be("reveal",ce),Be("push",Ee),Be("overlay",me),"undefined"!=typeof document&&document.addEventListener("ionBackButton",it=>{const et=qe();et&&it.detail.register($.MENU_BACK_BUTTON_PRIORITY,()=>et.close())}),{registerAnimation:Be,get:Qe,getMenus:We,getOpen:we,isEnabled:J,swipeGesture:fe,isAnimating:lt,isOpen:Je,enable:Ae,toggle:ie,close:ke,open:Fe,_getOpenSync:qe,_createAnimation:(it,et)=>{const Ze=ue.get(it);if(!Ze)throw new Error("animation not registered");return Ze(et)},_register:it=>{Z.indexOf(it)<0&&(it.disabled||Pe(it),Z.push(it))},_unregister:it=>{const et=Z.indexOf(it);et>-1&&Z.splice(et,1)},_setOpen:ae,_setActiveMenu:Pe}})()},358:(Xt,rt,N)=>{"use strict";N.d(rt,{L:()=>Se,a:()=>Ie,b:()=>ne,c:()=>me,d:()=>Ee,e:()=>Be,g:()=>Pe,l:()=>We,s:()=>Ct,t:()=>oe});var a=N(5861),$=N(2361),V=N(206);const Se="ionViewWillEnter",Ie="ionViewDidEnter",ne="ionViewWillLeave",me="ionViewDidLeave",Ee="ionViewWillUnload",oe=ae=>new Promise((be,qe)=>{(0,$.c)(()=>{ue(ae),Z(ae).then(Ve=>{Ve.animation&&Ve.animation.destroy(),Fe(ae),be(Ve)},Ve=>{Fe(ae),qe(Ve)})})}),ue=ae=>{const be=ae.enteringEl,qe=ae.leavingEl;le(be,qe,ae.direction),ae.showGoBack?be.classList.add("can-go-back"):be.classList.remove("can-go-back"),Ct(be,!1),be.style.setProperty("pointer-events","none"),qe&&(Ct(qe,!1),qe.style.setProperty("pointer-events","none"))},Z=function(){var ae=(0,a.Z)(function*(be){const qe=yield ke(be);return qe&&$.B.isBrowser?ie(qe,be):Ae(be)});return function(qe){return ae.apply(this,arguments)}}(),Fe=ae=>{const be=ae.enteringEl,qe=ae.leavingEl;be.classList.remove("ion-page-invisible"),be.style.removeProperty("pointer-events"),void 0!==qe&&(qe.classList.remove("ion-page-invisible"),qe.style.removeProperty("pointer-events"))},ke=function(){var ae=(0,a.Z)(function*(be){return be.leavingEl&&be.animated&&0!==be.duration?be.animationBuilder?be.animationBuilder:"ios"===be.mode?(yield Promise.resolve().then(N.bind(N,5797))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,6409))).mdTransitionAnimation:void 0});return function(qe){return ae.apply(this,arguments)}}(),ie=function(){var ae=(0,a.Z)(function*(be,qe){yield fe(qe,!0);const Ve=be(qe.baseEl,qe);Qe(qe.enteringEl,qe.leavingEl);const kt=yield J(Ve,qe);return qe.progressCallback&&qe.progressCallback(void 0),kt&&we(qe.enteringEl,qe.leavingEl),{hasCompleted:kt,animation:Ve}});return function(qe,Ve){return ae.apply(this,arguments)}}(),Ae=function(){var ae=(0,a.Z)(function*(be){const qe=be.enteringEl,Ve=be.leavingEl;return yield fe(be,!1),Qe(qe,Ve),we(qe,Ve),{hasCompleted:!0}});return function(qe){return ae.apply(this,arguments)}}(),fe=function(){var ae=(0,a.Z)(function*(be,qe){const kt=(void 0!==be.deepWait?be.deepWait:qe)?[Be(be.enteringEl),Be(be.leavingEl)]:[lt(be.enteringEl),lt(be.leavingEl)];yield Promise.all(kt),yield Je(be.viewIsReady,be.enteringEl)});return function(qe,Ve){return ae.apply(this,arguments)}}(),Je=function(){var ae=(0,a.Z)(function*(be,qe){be&&(yield be(qe))});return function(qe,Ve){return ae.apply(this,arguments)}}(),J=(ae,be)=>{const qe=be.progressCallback,Ve=new Promise(kt=>{ae.onFinish(Yt=>kt(1===Yt))});return qe?(ae.progressStart(!0),qe(ae)):ae.play(),Ve},Qe=(ae,be)=>{We(be,ne),We(ae,Se)},we=(ae,be)=>{We(ae,Ie),We(be,me)},We=(ae,be)=>{if(ae){const qe=new CustomEvent(be,{bubbles:!1,cancelable:!1});ae.dispatchEvent(qe)}},lt=ae=>ae?new Promise(be=>(0,V.c)(ae,be)):Promise.resolve(),Be=function(){var ae=(0,a.Z)(function*(be){const qe=be;if(qe){if(null!=qe.componentOnReady){if(null!=(yield qe.componentOnReady()))return}else if(null!=qe.__registerHost)return void(yield new Promise(kt=>(0,V.r)(kt)));yield Promise.all(Array.from(qe.children).map(Be))}});return function(qe){return ae.apply(this,arguments)}}(),Ct=(ae,be)=>{be?(ae.setAttribute("aria-hidden","true"),ae.classList.add("ion-page-hidden")):(ae.hidden=!1,ae.removeAttribute("aria-hidden"),ae.classList.remove("ion-page-hidden"))},le=(ae,be,qe)=>{void 0!==ae&&(ae.style.zIndex="back"===qe?"99":"101"),void 0!==be&&(be.style.zIndex="100")},Pe=ae=>ae.classList.contains("ion-page")?ae:ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ae},8686:(Xt,rt,N)=>{"use strict";N.d(rt,{a:()=>oe,b:()=>kt,c:()=>V,g:()=>re,i:()=>Yt});var a=N(2361);class ${constructor(){this.m=new Map}reset(it){this.m=new Map(Object.entries(it))}get(it,et){const Ze=this.m.get(it);return void 0!==Ze?Ze:et}getBoolean(it,et=!1){const Ze=this.m.get(it);return void 0===Ze?et:"string"==typeof Ze?"true"===Ze:!!Ze}getNumber(it,et){const Ze=parseFloat(this.m.get(it));return isNaN(Ze)?void 0!==et?et:NaN:Ze}set(it,et){this.m.set(it,et)}}const V=new $,ce="ionic-persist-config",re=at=>ue(at),oe=(at,it)=>("string"==typeof at&&(it=at,at=void 0),re(at).includes(it)),ue=(at=window)=>{if(void 0===at)return[];at.Ionic=at.Ionic||{};let it=at.Ionic.platforms;return null==it&&(it=at.Ionic.platforms=Z(at),it.forEach(et=>at.document.documentElement.classList.add(`plt-${et}`))),it},Z=at=>{const it=V.get("platform");return Object.keys(qe).filter(et=>{const Ze=it&&it[et];return"function"==typeof Ze?Ze(at):qe[et](at)})},ke=at=>!!(ae(at,/iPad/i)||ae(at,/Macintosh/i)&&we(at)),fe=at=>ae(at,/android|sink/i),we=at=>be(at,"(any-pointer:coarse)"),lt=at=>Be(at)||Ct(at),Be=at=>!!(at.cordova||at.phonegap||at.PhoneGap),Ct=at=>{const it=at.Capacitor;return!(!it||!it.isNative)},ae=(at,it)=>it.test(at.navigator.userAgent),be=(at,it)=>at.matchMedia&&at.matchMedia(it).matches,qe={ipad:ke,iphone:at=>ae(at,/iPhone/i),ios:at=>ae(at,/iPhone|iPod/i)||ke(at),android:fe,phablet:at=>{const it=at.innerWidth,et=at.innerHeight,Ze=Math.min(it,et),tt=Math.max(it,et);return Ze>390&&Ze<520&&tt>620&&tt<800},tablet:at=>{const it=at.innerWidth,et=at.innerHeight,Ze=Math.min(it,et),tt=Math.max(it,et);return ke(at)||(at=>fe(at)&&!ae(at,/mobile/i))(at)||Ze>460&&Ze<820&&tt>780&&tt<1400},cordova:Be,capacitor:Ct,electron:at=>ae(at,/electron/i),pwa:at=>!!(at.matchMedia&&at.matchMedia("(display-mode: standalone)").matches||at.navigator.standalone),mobile:we,mobileweb:at=>we(at)&&!lt(at),desktop:at=>!we(at),hybrid:lt};let Ve;const kt=at=>at&&(0,a.g)(at)||Ve,Yt=(at={})=>{if("undefined"==typeof window)return;const it=window.document,et=window,Ze=et.Ionic=et.Ionic||{},tt={};at._ael&&(tt.ael=at._ael),at._rel&&(tt.rel=at._rel),at._ce&&(tt.ce=at._ce),(0,a.s)(tt);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(at=>{try{const it=at.sessionStorage.getItem(ce);return null!==it?JSON.parse(it):{}}catch(it){return{}}})(et)),{persistConfig:!1}),Ze.config),(at=>{const it={};return at.location.search.slice(1).split("&").map(et=>et.split("=")).map(([et,Ze])=>[decodeURIComponent(et),decodeURIComponent(Ze)]).filter(([et])=>((at,it)=>at.substr(0,it.length)===it)(et,"ionic:")).map(([et,Ze])=>[et.slice("ionic:".length),Ze]).forEach(([et,Ze])=>{it[et]=Ze}),it})(et)),at);V.reset(Me),V.getBoolean("persistConfig")&&((at,it)=>{try{at.sessionStorage.setItem(ce,JSON.stringify(it))}catch(et){return}})(et,Me),ue(et),Ze.config=V,Ze.mode=Ve=V.get("mode",it.documentElement.getAttribute("mode")||(oe(et,"ios")?"ios":"md")),V.set("mode",Ve),it.documentElement.setAttribute("mode",Ve),it.documentElement.classList.add(Ve),V.getBoolean("_testing")&&V.set("animated",!1);const Ke=ft=>ft.tagName&&ft.tagName.startsWith("ION-"),ct=ft=>["ios","md"].includes(ft);(0,a.a)(ft=>{for(;ft;){const $t=ft.mode||ft.getAttribute("mode");if($t){if(ct($t))return $t;Ke(ft)&&console.warn('Invalid ionic mode: "'+$t+'", expected: "ios" or "md"')}ft=ft.parentElement}return Ve})}},5797:(Xt,rt,N)=>{"use strict";N.r(rt),N.d(rt,{iosTransitionAnimation:()=>ue,shadow:()=>ne});var a=N(6304),$=N(358);N(2361);const Ie=Z=>document.querySelector(`${Z}.ion-cloned-element`),ne=Z=>Z.shadowRoot||Z,me=Z=>{const Fe="ION-TABS"===Z.tagName?Z:Z.querySelector("ion-tabs"),ke="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Fe){const ie=Fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ie?ie.querySelector(ke):null}return Z.querySelector(ke)},Ee=(Z,Fe)=>{const ke="ION-TABS"===Z.tagName?Z:Z.querySelector("ion-tabs");let ie=[];if(null!=ke){const Ae=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ae&&(ie=Ae.querySelectorAll("ion-buttons"))}else ie=Z.querySelectorAll("ion-buttons");for(const Ae of ie){const fe=Ae.closest("ion-header"),Je=fe&&!fe.classList.contains("header-collapse-condense-inactive"),J=Ae.querySelector("ion-back-button"),Qe=Ae.classList.contains("buttons-collapse"),we="start"===Ae.slot||""===Ae.slot;if(null!==J&&we&&(Qe&&Je&&Fe||!Qe))return J}return null},re=(Z,Fe,ke,ie,Ae,fe)=>{const Je=Fe?`calc(100% - ${fe.right+4}px)`:fe.left-4+"px",J=Fe?"7px":"-7px",Qe=Fe?"-4px":"4px",we=Fe?"-4px":"4px",We=Fe?"right":"left",lt=Fe?"left":"right",le=ke?[{offset:0,opacity:1,transform:`translate3d(${Qe}, ${fe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${Ae.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${J}, ${Ae.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Qe}, ${fe.top-46}px, 0) scale(1)`}],be=ke?[{offset:0,opacity:1,transform:`translate3d(${we}, ${fe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${we}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${we}, ${fe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${we}, ${fe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${we}, ${fe.top-46}px, 0) scale(1)`}],qe=(0,a.c)(),Ve=(0,a.c)(),kt=Ie("ion-back-button"),Yt=ne(kt).querySelector(".button-text"),at=ne(kt).querySelector("ion-icon");kt.text=ie.text,kt.mode=ie.mode,kt.icon=ie.icon,kt.color=ie.color,kt.disabled=ie.disabled,kt.style.setProperty("display","block"),kt.style.setProperty("position","fixed"),Ve.addElement(at),qe.addElement(Yt),qe.beforeStyles({"transform-origin":`${We} center`}).beforeAddWrite(()=>{ie.style.setProperty("display","none"),kt.style.setProperty(We,Je)}).afterAddWrite(()=>{ie.style.setProperty("display",""),kt.style.setProperty("display","none"),kt.style.removeProperty(We)}).keyframes(le),Ve.beforeStyles({"transform-origin":`${lt} center`}).keyframes(be),Z.addAnimation([qe,Ve])},oe=(Z,Fe,ke,ie,Ae,fe)=>{const Je=Fe?`calc(100% - ${Ae.right}px)`:`${Ae.left}px`,J=Fe?"-18px":"18px",Qe=Fe?"right":"left",lt=ke?[{offset:0,opacity:0,transform:`translate3d(${J}, ${fe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ae.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${fe.top-4}px, 0) scale(0.5)`}],Be=Ie("ion-title"),Ct=(0,a.c)();Be.innerText=ie.innerText,Be.size=ie.size,Be.color=ie.color,Ct.addElement(Be),Ct.beforeStyles({"transform-origin":`${Qe} center`,height:"46px",display:"",position:"relative",[Qe]:Je}).beforeAddWrite(()=>{ie.style.setProperty("display","none")}).afterAddWrite(()=>{ie.style.setProperty("display",""),Be.style.setProperty("display","none")}).keyframes(lt),Z.addAnimation(Ct)},ue=(Z,Fe)=>{try{const ke="cubic-bezier(0.32,0.72,0,1)",ie="opacity",Ae="transform",fe="0%",J="rtl"===Z.ownerDocument.dir,Qe=J?"-99.5%":"99.5%",we=J?"33%":"-33%",We=Fe.enteringEl,lt=Fe.leavingEl,Be="back"===Fe.direction,Ct=We.querySelector(":scope > ion-content"),le=We.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Pe=We.querySelectorAll(":scope > ion-header > ion-toolbar"),ae=(0,a.c)(),be=(0,a.c)();if(ae.addElement(We).duration(Fe.duration||540).easing(Fe.easing||ke).fill("both").beforeRemoveClass("ion-page-invisible"),lt&&Z){const Yt=(0,a.c)();Yt.addElement(Z),ae.addAnimation(Yt)}if(Ct||0!==Pe.length||0!==le.length?(be.addElement(Ct),be.addElement(le)):be.addElement(We.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ae.addAnimation(be),Be?be.beforeClearStyles([ie]).fromTo("transform",`translateX(${we})`,`translateX(${fe})`).fromTo(ie,.8,1):be.beforeClearStyles([ie]).fromTo("transform",`translateX(${Qe})`,`translateX(${fe})`),Ct){const Yt=ne(Ct).querySelector(".transition-effect");if(Yt){const at=Yt.querySelector(".transition-cover"),it=Yt.querySelector(".transition-shadow"),et=(0,a.c)(),Ze=(0,a.c)(),tt=(0,a.c)();et.addElement(Yt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ze.addElement(at).beforeClearStyles([ie]).fromTo(ie,0,.1),tt.addElement(it).beforeClearStyles([ie]).fromTo(ie,.03,.7),et.addAnimation([Ze,tt]),be.addAnimation([et])}}const qe=We.querySelector("ion-header.header-collapse-condense"),{forward:Ve,backward:kt}=((Z,Fe,ke,ie,Ae)=>{const fe=Ee(ie,ke),Je=me(Ae),J=me(ie),Qe=Ee(Ae,ke),we=null!==fe&&null!==Je&&!ke,We=null!==J&&null!==Qe&&ke;if(we){const lt=Je.getBoundingClientRect(),Be=fe.getBoundingClientRect();oe(Z,Fe,ke,Je,lt,Be),re(Z,Fe,ke,fe,lt,Be)}else if(We){const lt=J.getBoundingClientRect(),Be=Qe.getBoundingClientRect();oe(Z,Fe,ke,J,lt,Be),re(Z,Fe,ke,Qe,lt,Be)}return{forward:we,backward:We}})(ae,J,Be,We,lt);if(Pe.forEach(Yt=>{const at=(0,a.c)();at.addElement(Yt),ae.addAnimation(at);const it=(0,a.c)();it.addElement(Yt.querySelector("ion-title"));const et=(0,a.c)(),Ze=Array.from(Yt.querySelectorAll("ion-buttons,[menuToggle]")),tt=Yt.closest("ion-header"),Me=tt&&tt.classList.contains("header-collapse-condense-inactive");let Ke;Ke=Ze.filter(Be?rn=>{const sn=rn.classList.contains("buttons-collapse");return sn&&!Me||!sn}:rn=>!rn.classList.contains("buttons-collapse")),et.addElement(Ke);const ct=(0,a.c)();ct.addElement(Yt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ft=(0,a.c)();ft.addElement(ne(Yt).querySelector(".toolbar-background"));const $t=(0,a.c)(),cn=Yt.querySelector("ion-back-button");if(cn&&$t.addElement(cn),at.addAnimation([it,et,ct,ft,$t]),et.fromTo(ie,.01,1),ct.fromTo(ie,.01,1),Be)Me||it.fromTo("transform",`translateX(${we})`,`translateX(${fe})`).fromTo(ie,.01,1),ct.fromTo("transform",`translateX(${we})`,`translateX(${fe})`),$t.fromTo(ie,.01,1);else if(qe||it.fromTo("transform",`translateX(${Qe})`,`translateX(${fe})`).fromTo(ie,.01,1),ct.fromTo("transform",`translateX(${Qe})`,`translateX(${fe})`),ft.beforeClearStyles([ie,"transform"]),(null==tt?void 0:tt.translucent)?ft.fromTo("transform",J?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ft.fromTo(ie,.01,"var(--opacity)"),Ve||$t.fromTo(ie,.01,1),cn&&!Ve){const sn=(0,a.c)();sn.addElement(ne(cn).querySelector(".button-text")).fromTo("transform",J?"translateX(-100px)":"translateX(100px)","translateX(0px)"),at.addAnimation(sn)}}),lt){const Yt=(0,a.c)(),at=lt.querySelector(":scope > ion-content"),it=lt.querySelectorAll(":scope > ion-header > ion-toolbar"),et=lt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(at||0!==it.length||0!==et.length?(Yt.addElement(at),Yt.addElement(et)):Yt.addElement(lt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ae.addAnimation(Yt),Be){Yt.beforeClearStyles([ie]).fromTo("transform",`translateX(${fe})`,J?"translateX(-100%)":"translateX(100%)");const Ze=(0,$.g)(lt);ae.afterAddWrite(()=>{"normal"===ae.getDirection()&&Ze.style.setProperty("display","none")})}else Yt.fromTo("transform",`translateX(${fe})`,`translateX(${we})`).fromTo(ie,1,.8);if(at){const Ze=ne(at).querySelector(".transition-effect");if(Ze){const tt=Ze.querySelector(".transition-cover"),Me=Ze.querySelector(".transition-shadow"),Ke=(0,a.c)(),ct=(0,a.c)(),ft=(0,a.c)();Ke.addElement(Ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ct.addElement(tt).beforeClearStyles([ie]).fromTo(ie,.1,0),ft.addElement(Me).beforeClearStyles([ie]).fromTo(ie,.7,.03),Ke.addAnimation([ct,ft]),Yt.addAnimation([Ke])}}it.forEach(Ze=>{const tt=(0,a.c)();tt.addElement(Ze);const Me=(0,a.c)();Me.addElement(Ze.querySelector("ion-title"));const Ke=(0,a.c)(),ct=Ze.querySelectorAll("ion-buttons,[menuToggle]"),ft=Ze.closest("ion-header"),$t=ft&&ft.classList.contains("header-collapse-condense-inactive"),cn=Array.from(ct).filter(Kn=>{const er=Kn.classList.contains("buttons-collapse");return er&&!$t||!er});Ke.addElement(cn);const rn=(0,a.c)(),sn=Ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");sn.length>0&&rn.addElement(sn);const vn=(0,a.c)();vn.addElement(ne(Ze).querySelector(".toolbar-background"));const Gn=(0,a.c)(),Un=Ze.querySelector("ion-back-button");if(Un&&Gn.addElement(Un),tt.addAnimation([Me,Ke,rn,Gn,vn]),ae.addAnimation(tt),Gn.fromTo(ie,.99,0),Ke.fromTo(ie,.99,0),rn.fromTo(ie,.99,0),Be){if($t||Me.fromTo("transform",`translateX(${fe})`,J?"translateX(-100%)":"translateX(100%)").fromTo(ie,.99,0),rn.fromTo("transform",`translateX(${fe})`,J?"translateX(-100%)":"translateX(100%)"),vn.beforeClearStyles([ie,"transform"]),(null==ft?void 0:ft.translucent)?vn.fromTo("transform","translateX(0px)",J?"translateX(-100%)":"translateX(100%)"):vn.fromTo(ie,"var(--opacity)",0),Un&&!kt){const er=(0,a.c)();er.addElement(ne(Un).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(J?-124:124)+"px"})`),tt.addAnimation(er)}}else $t||Me.fromTo("transform",`translateX(${fe})`,`translateX(${we})`).fromTo(ie,.99,0).afterClearStyles([Ae,ie]),rn.fromTo("transform",`translateX(${fe})`,`translateX(${we})`).afterClearStyles([Ae,ie]),Gn.afterClearStyles([ie]),Me.afterClearStyles([ie]),Ke.afterClearStyles([ie])})}return ae}catch(ke){throw ke}}},6409:(Xt,rt,N)=>{"use strict";N.r(rt),N.d(rt,{mdTransitionAnimation:()=>Se});var a=N(6304),$=N(358);N(2361);const Se=(Ie,ne)=>{const ce="back"===ne.direction,oe=ne.leavingEl,ue=(0,$.g)(ne.enteringEl),Z=ue.querySelector("ion-toolbar"),Fe=(0,a.c)();if(Fe.addElement(ue).fill("both").beforeRemoveClass("ion-page-invisible"),ce?Fe.duration(ne.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Fe.duration(ne.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Z){const ke=(0,a.c)();ke.addElement(Z),Fe.addAnimation(ke)}if(oe&&ce){Fe.duration(ne.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ke=(0,a.c)();ke.addElement((0,$.g)(oe)).onFinish(ie=>{1===ie&&ke.elements.length>0&&ke.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Fe.addAnimation(ke)}return Fe}},3986:(Xt,rt,N)=>{"use strict";N.d(rt,{B:()=>Ze,a:()=>Ee,b:()=>ce,c:()=>Z,d:()=>Pe,e:()=>ke,f:()=>be,g:()=>kt,h:()=>ne,i:()=>at,j:()=>Je,k:()=>Ct,l:()=>re,m:()=>oe,s:()=>et,t:()=>Fe});var a=N(5861),$=N(8686),V=N(527),Se=N(206);let Ie=0;const ne=new WeakMap,me=tt=>({create:Me=>ie(tt,Me),dismiss:(Me,Ke,ct)=>lt(document,Me,Ke,tt,ct),getTop:()=>(0,a.Z)(function*(){return Ct(document,tt)})()}),Ee=me("ion-alert"),ce=me("ion-action-sheet"),re=me("ion-loading"),oe=me("ion-modal"),Z=me("ion-popover"),Fe=me("ion-toast"),ke=tt=>{"undefined"!=typeof document&&We(document);const Me=Ie++;tt.overlayIndex=Me,tt.hasAttribute("id")||(tt.id=`ion-overlay-${Me}`)},ie=(tt,Me)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(tt).then(()=>{const Ke=document.createElement(tt);return Ke.classList.add("overlay-hidden"),Object.assign(Ke,Object.assign(Object.assign({},Me),{hasController:!0})),qe(document).appendChild(Ke),new Promise(ct=>(0,Se.c)(Ke,ct))}):Promise.resolve(),Ae='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',fe="input:not([type=hidden]), textarea, button, select",Je=(tt,Me)=>{let Ke=tt.querySelector(Ae);const ct=Ke&&Ke.shadowRoot;ct&&(Ke=ct.querySelector(fe)||Ke),Ke?(0,Se.f)(Ke):Me.focus()},Qe=(tt,Me)=>{const Ke=Array.from(tt.querySelectorAll(Ae));let ct=Ke.length>0?Ke[Ke.length-1]:null;const ft=ct&&ct.shadowRoot;ft&&(ct=ft.querySelector(fe)||ct),ct?ct.focus():Me.focus()},We=tt=>{0===Ie&&(Ie=1,tt.addEventListener("focus",Me=>{((tt,Me)=>{const Ke=Ct(Me,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ct=tt.target;Ke&&ct&&!Ke.classList.contains("ion-disable-focus-trap")&&(Ke.shadowRoot?(()=>{if(Ke.contains(ct))Ke.lastFocus=ct;else{const cn=Ke.lastFocus;Je(Ke,Ke),cn===Me.activeElement&&Qe(Ke,Ke),Ke.lastFocus=Me.activeElement}})():(()=>{if(Ke===ct)Ke.lastFocus=void 0;else{const cn=(0,Se.g)(Ke);if(!cn.contains(ct))return;const rn=cn.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(ct))Ke.lastFocus=ct;else{const sn=Ke.lastFocus;Je(rn,Ke),sn===Me.activeElement&&Qe(rn,Ke),Ke.lastFocus=Me.activeElement}}})())})(Me,tt)},!0),tt.addEventListener("ionBackButton",Me=>{const Ke=Ct(tt);Ke&&Ke.backdropDismiss&&Me.detail.register(V.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ke.dismiss(void 0,Ze))}),tt.addEventListener("keyup",Me=>{if("Escape"===Me.key){const Ke=Ct(tt);Ke&&Ke.backdropDismiss&&Ke.dismiss(void 0,Ze)}}))},lt=(tt,Me,Ke,ct,ft)=>{const $t=Ct(tt,ct,ft);return $t?$t.dismiss(Me,Ke):Promise.reject("overlay does not exist")},Ct=(tt,Me,Ke)=>{const ct=((tt,Me)=>(void 0===Me&&(Me="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(tt.querySelectorAll(Me)).filter(Ke=>Ke.overlayIndex>0)))(tt,Me).filter(ft=>!(tt=>tt.classList.contains("overlay-hidden"))(ft));return void 0===Ke?ct[ct.length-1]:ct.find(ft=>ft.id===Ke)},le=(tt=!1)=>{const Ke=qe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ke||(tt?Ke.setAttribute("aria-hidden","true"):Ke.removeAttribute("aria-hidden"))},Pe=function(){var tt=(0,a.Z)(function*(Me,Ke,ct,ft,$t){var cn,rn;if(Me.presented)return;le(!0),Me.presented=!0,Me.willPresent.emit(),null===(cn=Me.willPresentShorthand)||void 0===cn||cn.emit();const sn=(0,$.b)(Me),vn=Me.enterAnimation?Me.enterAnimation:$.c.get(Ke,"ios"===sn?ct:ft);(yield Ve(Me,vn,Me.el,$t))&&(Me.didPresent.emit(),null===(rn=Me.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==Me.el.tagName&&ae(Me.el),Me.keyboardClose&&Me.el.focus()});return function(Ke,ct,ft,$t,cn){return tt.apply(this,arguments)}}(),ae=function(){var tt=(0,a.Z)(function*(Me){let Ke=document.activeElement;if(!Ke)return;const ct=Ke&&Ke.shadowRoot;ct&&(Ke=ct.querySelector(fe)||Ke),yield Me.onDidDismiss(),Ke.focus()});return function(Ke){return tt.apply(this,arguments)}}(),be=function(){var tt=(0,a.Z)(function*(Me,Ke,ct,ft,$t,cn,rn){var sn,vn;if(!Me.presented)return!1;le(!1),Me.presented=!1;try{Me.el.style.setProperty("pointer-events","none"),Me.willDismiss.emit({data:Ke,role:ct}),null===(sn=Me.willDismissShorthand)||void 0===sn||sn.emit({data:Ke,role:ct});const Gn=(0,$.b)(Me),Un=Me.leaveAnimation?Me.leaveAnimation:$.c.get(ft,"ios"===Gn?$t:cn);"gesture"!==ct&&(yield Ve(Me,Un,Me.el,rn)),Me.didDismiss.emit({data:Ke,role:ct}),null===(vn=Me.didDismissShorthand)||void 0===vn||vn.emit({data:Ke,role:ct}),ne.delete(Me),Me.el.classList.add("overlay-hidden"),Me.el.style.removeProperty("pointer-events")}catch(Gn){console.error(Gn)}return Me.el.remove(),!0});return function(Ke,ct,ft,$t,cn,rn,sn){return tt.apply(this,arguments)}}(),qe=tt=>tt.querySelector("ion-app")||tt.body,Ve=function(){var tt=(0,a.Z)(function*(Me,Ke,ct,ft){ct.classList.remove("overlay-hidden");const cn=Ke(Me.el,ft);(!Me.animated||!$.c.getBoolean("animated",!0))&&cn.duration(0),Me.keyboardClose&&cn.beforeAddWrite(()=>{const sn=ct.ownerDocument.activeElement;sn&&sn.matches("input,ion-input, ion-textarea")&&sn.blur()});const rn=ne.get(Me)||[];return ne.set(Me,[...rn,cn]),yield cn.play(),!0});return function(Ke,ct,ft,$t){return tt.apply(this,arguments)}}(),kt=(tt,Me)=>{let Ke;const ct=new Promise(ft=>Ke=ft);return Yt(tt,Me,ft=>{Ke(ft.detail)}),ct},Yt=(tt,Me,Ke)=>{const ct=ft=>{(0,Se.b)(tt,Me,ct),Ke(ft)};(0,Se.a)(tt,Me,ct)},at=tt=>"cancel"===tt||tt===Ze,it=tt=>tt(),et=(tt,Me)=>{if("function"==typeof tt)return $.c.get("_zoneGate",it)(()=>{try{return tt(Me)}catch(ct){throw ct}})},Ze="backdrop"},5041:(Xt,rt,N)=>{"use strict";N.d(rt,{y:()=>ue});var a=N(655),$=N(6435),V=N(6926),Se=N(9762),Ie=N(3151),ne=N(4941),me=N(2796),Ee=N(2741),ce=N(9808);function re(Z,Fe){if(1&Z){const ke=$.EpF();$.TgZ(0,"div",17)(1,"ion-item",18),$.NdJ("click",function(){return $.CHM(ke),$.oxw(2).closeMenu()}),$._UZ(2,"ion-icon",15),$.TgZ(3,"ion-label"),$._uU(4),$.qZA()()()}if(2&Z){const ke=Fe.$implicit;$.xp6(1),$.s9C("routerLink",ke.url),$.xp6(1),$.s9C("src",ke.icon),$.xp6(2),$.Oqu(ke.title)}}function oe(Z,Fe){if(1&Z&&($.TgZ(0,"ion-accordion")(1,"ion-item",14),$._UZ(2,"ion-icon",15),$.TgZ(3,"ion-label"),$._uU(4),$.qZA()(),$.YNc(5,re,5,3,"div",16),$.qZA()),2&Z){const ke=Fe.$implicit;$.xp6(2),$.s9C("src",ke.icon),$.xp6(2),$.Oqu(ke.categorie),$.xp6(1),$.Q6J("ngForOf",ke.cours)}}let ue=(()=>{class Z{constructor(ke,ie,Ae,fe,Je,J,Qe,we){this.menu=ke,this.serviceFormation=ie,this.route=Ae,this.fireAuth=fe,this.firestore=Je,this.router=J,this.ionicAuthService=Qe,this.alertController=we,this.listForm=this.serviceFormation.getFormation()}doRefresh(ke){console.log("call api to get data"),setTimeout(()=>{this.listForm=this.serviceFormation.getFormation(),console.log("api responded"),ke.target.complete()},2e3)}closeMenu(){this.menu.close()}signOut(){return(0,a.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Sign out",message:"Are you sure to sign out?",buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>{console.log("log out"),this.ionicAuthService.SignOut()}}]})).present()})}getName(){return(0,a.mG)(this,void 0,void 0,function*(){var ke=yield this.fireAuth.currentUser;null!=ke.email&&(this.email=ke.email,this.firestore.collection("/Users").snapshotChanges(["added"]).subscribe(ie=>{ie.forEach(Ae=>{this.email==Ae.payload.doc.data().email&&(this.name=Ae.payload.doc.data().name,this.name=this.name[0].toUpperCase()+this.name.substring(1),console.log(this.name))})}))})}ngOnInit(){}}return Z.\u0275fac=function(ke){return new(ke||Z)($.Y36(V._q),$.Y36(Se.G),$.Y36(Ie.gz),$.Y36(ne.zQ),$.Y36(me.ST),$.Y36(Ie.F0),$.Y36(Ee.E),$.Y36(V.Br))},Z.\u0275cmp=$.Xpm({type:Z,selectors:[["app-root"]],decls:27,vars:2,consts:[["contentId","main"],["slot","fixed",3,"ionRefresh"],[1,"menu-header-bg"],[1,"header-content"],["src","../assets/images/OIP.jfif","alt",""],[1,"name"],["lines","none","routerLink","/home","slot","header","toggle-icon","",3,"click"],["src","../assets/icons/house.svg","slot","start"],[4,"ngFor","ngForOf"],["routerLink","/summary","slot","header","lines","none",3,"click"],["src","../assets/icons/cart-check.svg","slot","start"],["lines","none",3,"click"],["src","../assets/icons/sign_out_icon.svg","slot","start"],["id","main"],["slot","header","lines","none"],["slot","start",3,"src"],["slot","content",4,"ngFor","ngForOf"],["slot","content"],["lines","none",1,"item_content",3,"routerLink","click"]],template:function(ke,ie){1&ke&&($.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-content")(3,"ion-refresher",1),$.NdJ("ionRefresh",function(fe){return ie.doRefresh(fe)}),$._UZ(4,"ion-refresher-content"),$.qZA(),$._UZ(5,"div",2),$.TgZ(6,"div",3),$._UZ(7,"img",4),$.TgZ(8,"ion-label")(9,"h2",5),$._uU(10),$.qZA()()(),$.TgZ(11,"ion-list")(12,"ion-item",6),$.NdJ("click",function(){return ie.closeMenu()}),$._UZ(13,"ion-icon",7),$.TgZ(14,"ion-label"),$._uU(15,"Home"),$.qZA()(),$.TgZ(16,"ion-accordion-group"),$.YNc(17,oe,6,3,"ion-accordion",8),$.qZA(),$.TgZ(18,"ion-item",9),$.NdJ("click",function(){return ie.closeMenu()}),$._UZ(19,"ion-icon",10),$.TgZ(20,"ion-label"),$._uU(21,"My courses"),$.qZA()(),$.TgZ(22,"ion-item",11),$.NdJ("click",function(){return ie.signOut()}),$._UZ(23,"ion-icon",12),$.TgZ(24,"ion-label"),$._uU(25,"Sign out"),$.qZA()()()()(),$._UZ(26,"ion-router-outlet",13),$.qZA()),2&ke&&($.xp6(10),$.Oqu(ie.name),$.xp6(7),$.Q6J("ngForOf",ie.listForm))},directives:[V.dr,V.z0,V.W2,V.nJ,V.Wo,V.Q$,V.q_,V.Ie,V.YI,Ie.rH,V.gu,V.eh,ce.sg,V.We,V.jP],styles:[".item_content[_ngcontent-%COMP%]{margin-left:20px}.menu-header-bg[_ngcontent-%COMP%]{height:180px;width:350px;background:#7590d6;background:linear-gradient(90deg,#f9b801 0%,#f96c01bd 100%);box-shadow:0 1px 10px #628cff80;transform:rotate(-15deg);border-radius:10px 10px 10px 50px;margin-left:-18px;margin-top:-50px;margin-bottom:60px}.header-content[_ngcontent-%COMP%]{position:absolute;top:30px;left:15px;display:flex;align-items:center}img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;margin-left:30px}h2[_ngcontent-%COMP%]{font-weight:300;color:#fff;margin-top:20px;margin-left:10px}.myFit[_ngcontent-%COMP%]{background-color:#000;height:1px;margin-bottom:10px}ion-label[_ngcontent-%COMP%]{text-decoration:none}@font-face{font-family:Pacifico;src:url(Pacifico-Regular.f84675713043186b.ttf)}.name[_ngcontent-%COMP%]{font-family:Pacifico;src:url(Pacifico-Regular.f84675713043186b.ttf)}"]}),Z})()},9762:(Xt,rt,N)=>{"use strict";N.d(rt,{G:()=>Se});var a=N(6435),$=N(2796),V=N(3151);let Se=(()=>{class Ie{constructor(me,Ee){this.firestore=me,this.route=Ee,this.categories=[],this.cour=[],this.cours=[],this.fetchData()}fetchData(){return this.firestore.collection("/Formations").snapshotChanges(["added"]).subscribe(me=>{me.forEach(Ee=>{this.cours.push({categorie:Ee.payload.doc.data().categorie,icon:Ee.payload.doc.data().icon,cours:Ee.payload.doc.data().cours})})}),console.log("hello from fetshData"),this.cours}getFormation(){return console.log("hello from getFormation"),this.cours}getPaths(){let me=[];return this.cours.forEach(Ee=>{Ee.cours.forEach(ce=>{me.push("Languages"==Ee.categorie?{title:ce.url.substring(10),path:"/Formations/Frameworks/"+ce.url.substring(10),id:ce.id}:"Frameworks"==Ee.categorie?{title:ce.url.substring(10),path:"/Formations/Languages/"+ce.url.substring(10),id:ce.id}:{title:ce.url.substring(10),path:"/Formations/"+Ee.categorie+"/"+ce.url.substring(10),id:ce.id})})}),me}}return Ie.\u0275fac=function(me){return new(me||Ie)(a.LFG($.ST),a.LFG(V.gz))},Ie.\u0275prov=a.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},2741:(Xt,rt,N)=>{"use strict";N.d(rt,{E:()=>ue});var a=N(424),ne=(N(2090),N(9681),N(1877),N(4859),N(6435)),me=N(4941),Ee=N(2796),ce=N(3151),re=N(6926),oe=N(6086);let ue=(()=>{class Z{constructor(ke,ie,Ae,fe,Je,J){this.angularFireAuth=ke,this.afStore=ie,this.router=Ae,this.ngZone=fe,this.menu=Je,this.ionicToastService=J,this.angularFireAuth.authState.subscribe(Qe=>{Qe?(this.userData=Qe,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}createUser(ke){return new Promise((ie,Ae)=>{this.angularFireAuth.createUserWithEmailAndPassword(ke.email,ke.password).then(fe=>ie(fe),fe=>Ae(fe))})}signinUser(ke){return new Promise((ie,Ae)=>{this.angularFireAuth.signInWithEmailAndPassword(ke.email,ke.password).then(fe=>ie(fe),fe=>Ae(fe))})}PasswordRecover(ke){return this.angularFireAuth.sendPasswordResetEmail(ke).then(()=>{this.ionicToastService.showToast("Password reset email has been sent, please check your inbox."),this.router.navigate(["login"])}).catch(ie=>{this.ionicToastService.showToast(ie)})}get isLoggedIn(){const ke=JSON.parse(localStorage.getItem("user"));return null!==ke&&!1!==ke.emailVerified}get isEmailVerified(){return!1!==JSON.parse(localStorage.getItem("user")).emailVerified}GoogleAuth(){return this.AuthLogin(new a.N)}AuthLogin(ke){return this.angularFireAuth.signInWithPopup(ke).then(ie=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),this.SetUserData(ie.user)}).catch(ie=>{window.alert(ie)})}SetUserData(ke){this.afStore.collection("/Users").doc().set({name:ke.fullName,email:ke.email})}SignOut(){return this.angularFireAuth.signOut().then(()=>{localStorage.removeItem("user"),this.menu.close(),this.router.navigate(["login"])})}}return Z.\u0275fac=function(ke){return new(ke||Z)(ne.LFG(me.zQ),ne.LFG(Ee.ST),ne.LFG(ce.F0),ne.LFG(ne.R0b),ne.LFG(re._q),ne.LFG(oe.a))},Z.\u0275prov=ne.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},6086:(Xt,rt,N)=>{"use strict";N.d(rt,{a:()=>V});var a=N(6435),$=N(6926);let V=(()=>{class Se{constructor(ne){this.toast=ne}showToast(ne){this.myToast=this.toast.create({message:ne,animated:!0,cssClass:"my-custom-class",duration:2e3}).then(me=>{console.log(me),me.present()})}HideToast(){this.myToast=this.toast.dismiss()}}return Se.\u0275fac=function(ne){return new(ne||Se)(a.LFG($.yF))},Se.\u0275prov=a.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})()},9964:(Xt,rt,N)=>{"use strict";var a=N(9808),$=N(6435);class V extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends V{static makeCurrent(){(0,a.HT)(new Se)}onAndCancel(De,ye,pt){return De.addEventListener(ye,pt,!1),()=>{De.removeEventListener(ye,pt,!1)}}dispatchEvent(De,ye){De.dispatchEvent(ye)}remove(De){De.parentNode&&De.parentNode.removeChild(De)}createElement(De,ye){return(ye=ye||this.getDefaultDocument()).createElement(De)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(De){return De.nodeType===Node.ELEMENT_NODE}isShadowRoot(De){return De instanceof DocumentFragment}getGlobalEventTarget(De,ye){return"window"===ye?window:"document"===ye?De:"body"===ye?De.body:null}getBaseHref(De){const ye=function ne(){return Ie=Ie||document.querySelector("base"),Ie?Ie.getAttribute("href"):null}();return null==ye?null:function Ee(Le){me=me||document.createElement("a"),me.setAttribute("href",Le);const De=me.pathname;return"/"===De.charAt(0)?De:`/${De}`}(ye)}resetBaseElement(){Ie=null}getUserAgent(){return window.navigator.userAgent}getCookie(De){return(0,a.Mx)(document.cookie,De)}}let me,Ie=null;const ce=new $.OlP("TRANSITION_ID"),oe=[{provide:$.ip1,useFactory:function re(Le,De,ye){return()=>{ye.get($.CZH).donePromise.then(()=>{const pt=(0,a.q)(),Dt=De.querySelectorAll(`style[ng-transition="${Le}"]`);for(let Qt=0;Qt<Dt.length;Qt++)pt.remove(Dt[Qt])})}},deps:[ce,a.K0,$.zs3],multi:!0}];class ue{static init(){(0,$.VLi)(new ue)}addToWindow(De){$.dqk.getAngularTestability=(pt,Dt=!0)=>{const Qt=De.findTestabilityInTree(pt,Dt);if(null==Qt)throw new Error("Could not find testability for element.");return Qt},$.dqk.getAllAngularTestabilities=()=>De.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>De.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(pt=>{const Dt=$.dqk.getAllAngularTestabilities();let Qt=Dt.length,an=!1;const qn=function(Zn){an=an||Zn,Qt--,0==Qt&&pt(an)};Dt.forEach(function(Zn){Zn.whenStable(qn)})})}findTestabilityInTree(De,ye,pt){if(null==ye)return null;const Dt=De.getTestability(ye);return null!=Dt?Dt:pt?(0,a.q)().isShadowRoot(ye)?this.findTestabilityInTree(De,ye.host,!0):this.findTestabilityInTree(De,ye.parentElement,!0):null}}let Z=(()=>{class Le{build(){return new XMLHttpRequest}}return Le.\u0275fac=function(ye){return new(ye||Le)},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Fe=new $.OlP("EventManagerPlugins");let ke=(()=>{class Le{constructor(ye,pt){this._zone=pt,this._eventNameToPlugin=new Map,ye.forEach(Dt=>Dt.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,pt,Dt){return this._findPluginFor(pt).addEventListener(ye,pt,Dt)}addGlobalEventListener(ye,pt,Dt){return this._findPluginFor(pt).addGlobalEventListener(ye,pt,Dt)}getZone(){return this._zone}_findPluginFor(ye){const pt=this._eventNameToPlugin.get(ye);if(pt)return pt;const Dt=this._plugins;for(let Qt=0;Qt<Dt.length;Qt++){const an=Dt[Qt];if(an.supports(ye))return this._eventNameToPlugin.set(ye,an),an}throw new Error(`No event manager plugin found for event ${ye}`)}}return Le.\u0275fac=function(ye){return new(ye||Le)($.LFG(Fe),$.LFG($.R0b))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class ie{constructor(De){this._doc=De}addGlobalEventListener(De,ye,pt){const Dt=(0,a.q)().getGlobalEventTarget(this._doc,De);if(!Dt)throw new Error(`Unsupported event target ${Dt} for event ${ye}`);return this.addEventListener(Dt,ye,pt)}}let Ae=(()=>{class Le{constructor(){this._stylesSet=new Set}addStyles(ye){const pt=new Set;ye.forEach(Dt=>{this._stylesSet.has(Dt)||(this._stylesSet.add(Dt),pt.add(Dt))}),this.onStylesAdded(pt)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return Le.\u0275fac=function(ye){return new(ye||Le)},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac}),Le})(),fe=(()=>{class Le extends Ae{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,pt,Dt){ye.forEach(Qt=>{const an=this._doc.createElement("style");an.textContent=Qt,Dt.push(pt.appendChild(an))})}addHost(ye){const pt=[];this._addStylesToHost(this._stylesSet,ye,pt),this._hostNodes.set(ye,pt)}removeHost(ye){const pt=this._hostNodes.get(ye);pt&&pt.forEach(Je),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((pt,Dt)=>{this._addStylesToHost(ye,Dt,pt)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(Je))}}return Le.\u0275fac=function(ye){return new(ye||Le)($.LFG(a.K0))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac}),Le})();function Je(Le){(0,a.q)().remove(Le)}const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qe=/%COMP%/g;function Pe(Le,De,ye){for(let pt=0;pt<De.length;pt++){let Dt=De[pt];Array.isArray(Dt)?Pe(Le,Dt,ye):(Dt=Dt.replace(Qe,Le),ye.push(Dt))}return ye}function ae(Le){return De=>{if("__ngUnwrap__"===De)return Le;!1===Le(De)&&(De.preventDefault(),De.returnValue=!1)}}let qe=(()=>{class Le{constructor(ye,pt,Dt){this.eventManager=ye,this.sharedStylesHost=pt,this.appId=Dt,this.rendererByCompId=new Map,this.defaultRenderer=new Ve(ye)}createRenderer(ye,pt){if(!ye||!pt)return this.defaultRenderer;switch(pt.encapsulation){case $.ifc.Emulated:{let Dt=this.rendererByCompId.get(pt.id);return Dt||(Dt=new at(this.eventManager,this.sharedStylesHost,pt,this.appId),this.rendererByCompId.set(pt.id,Dt)),Dt.applyToHost(ye),Dt}case 1:case $.ifc.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,ye,pt);default:if(!this.rendererByCompId.has(pt.id)){const Dt=Pe(pt.id,pt.styles,[]);this.sharedStylesHost.addStyles(Dt),this.rendererByCompId.set(pt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Le.\u0275fac=function(ye){return new(ye||Le)($.LFG(ke),$.LFG(fe),$.LFG($.AFp))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac}),Le})();class Ve{constructor(De){this.eventManager=De,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(De,ye){return ye?document.createElementNS(J[ye]||ye,De):document.createElement(De)}createComment(De){return document.createComment(De)}createText(De){return document.createTextNode(De)}appendChild(De,ye){De.appendChild(ye)}insertBefore(De,ye,pt){De&&De.insertBefore(ye,pt)}removeChild(De,ye){De&&De.removeChild(ye)}selectRootElement(De,ye){let pt="string"==typeof De?document.querySelector(De):De;if(!pt)throw new Error(`The selector "${De}" did not match any elements`);return ye||(pt.textContent=""),pt}parentNode(De){return De.parentNode}nextSibling(De){return De.nextSibling}setAttribute(De,ye,pt,Dt){if(Dt){ye=Dt+":"+ye;const Qt=J[Dt];Qt?De.setAttributeNS(Qt,ye,pt):De.setAttribute(ye,pt)}else De.setAttribute(ye,pt)}removeAttribute(De,ye,pt){if(pt){const Dt=J[pt];Dt?De.removeAttributeNS(Dt,ye):De.removeAttribute(`${pt}:${ye}`)}else De.removeAttribute(ye)}addClass(De,ye){De.classList.add(ye)}removeClass(De,ye){De.classList.remove(ye)}setStyle(De,ye,pt,Dt){Dt&($.JOm.DashCase|$.JOm.Important)?De.style.setProperty(ye,pt,Dt&$.JOm.Important?"important":""):De.style[ye]=pt}removeStyle(De,ye,pt){pt&$.JOm.DashCase?De.style.removeProperty(ye):De.style[ye]=""}setProperty(De,ye,pt){De[ye]=pt}setValue(De,ye){De.nodeValue=ye}listen(De,ye,pt){return"string"==typeof De?this.eventManager.addGlobalEventListener(De,ye,ae(pt)):this.eventManager.addEventListener(De,ye,ae(pt))}}class at extends Ve{constructor(De,ye,pt,Dt){super(De),this.component=pt;const Qt=Pe(Dt+"-"+pt.id,pt.styles,[]);ye.addStyles(Qt),this.contentAttr=function Ct(Le){return"_ngcontent-%COMP%".replace(Qe,Le)}(Dt+"-"+pt.id),this.hostAttr=function le(Le){return"_nghost-%COMP%".replace(Qe,Le)}(Dt+"-"+pt.id)}applyToHost(De){super.setAttribute(De,this.hostAttr,"")}createElement(De,ye){const pt=super.createElement(De,ye);return super.setAttribute(pt,this.contentAttr,""),pt}}class it extends Ve{constructor(De,ye,pt,Dt){super(De),this.sharedStylesHost=ye,this.hostEl=pt,this.shadowRoot=pt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qt=Pe(Dt.id,Dt.styles,[]);for(let an=0;an<Qt.length;an++){const qn=document.createElement("style");qn.textContent=Qt[an],this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(De){return De===this.hostEl?this.shadowRoot:De}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(De,ye){return super.appendChild(this.nodeOrShadowRoot(De),ye)}insertBefore(De,ye,pt){return super.insertBefore(this.nodeOrShadowRoot(De),ye,pt)}removeChild(De,ye){return super.removeChild(this.nodeOrShadowRoot(De),ye)}parentNode(De){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(De)))}}let et=(()=>{class Le extends ie{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,pt,Dt){return ye.addEventListener(pt,Dt,!1),()=>this.removeEventListener(ye,pt,Dt)}removeEventListener(ye,pt,Dt){return ye.removeEventListener(pt,Dt)}}return Le.\u0275fac=function(ye){return new(ye||Le)($.LFG(a.K0))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Ze=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let ft=(()=>{class Le extends ie{constructor(ye){super(ye)}supports(ye){return null!=Le.parseEventName(ye)}addEventListener(ye,pt,Dt){const Qt=Le.parseEventName(pt),an=Le.eventCallback(Qt.fullKey,Dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(ye,Qt.domEventName,an))}static parseEventName(ye){const pt=ye.toLowerCase().split("."),Dt=pt.shift();if(0===pt.length||"keydown"!==Dt&&"keyup"!==Dt)return null;const Qt=Le._normalizeKey(pt.pop());let an="";if(Ze.forEach(Zn=>{const Cr=pt.indexOf(Zn);Cr>-1&&(pt.splice(Cr,1),an+=Zn+".")}),an+=Qt,0!=pt.length||0===Qt.length)return null;const qn={};return qn.domEventName=Dt,qn.fullKey=an,qn}static getEventFullKey(ye){let pt="",Dt=function $t(Le){let De=Le.key;if(null==De){if(De=Le.keyIdentifier,null==De)return"Unidentified";De.startsWith("U+")&&(De=String.fromCharCode(parseInt(De.substring(2),16)),3===Le.location&&Ke.hasOwnProperty(De)&&(De=Ke[De]))}return Me[De]||De}(ye);return Dt=Dt.toLowerCase()," "===Dt?Dt="space":"."===Dt&&(Dt="dot"),Ze.forEach(Qt=>{Qt!=Dt&&ct[Qt](ye)&&(pt+=Qt+".")}),pt+=Dt,pt}static eventCallback(ye,pt,Dt){return Qt=>{Le.getEventFullKey(Qt)===ye&&Dt.runGuarded(()=>pt(Qt))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return Le.\u0275fac=function(ye){return new(ye||Le)($.LFG(a.K0))},Le.\u0275prov=$.Yz7({token:Le,factory:Le.\u0275fac}),Le})();const Gn=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:a.bD},{provide:$.g9A,useValue:function cn(){Se.makeCurrent(),ue.init()},multi:!0},{provide:a.K0,useFactory:function sn(){return(0,$.RDi)(document),document},deps:[]}]),Un=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function rn(){return new $.qLn},deps:[]},{provide:Fe,useClass:et,multi:!0,deps:[a.K0,$.R0b,$.Lbi]},{provide:Fe,useClass:ft,multi:!0,deps:[a.K0]},{provide:qe,useClass:qe,deps:[ke,fe,$.AFp]},{provide:$.FYo,useExisting:qe},{provide:Ae,useExisting:fe},{provide:fe,useClass:fe,deps:[a.K0]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b]},{provide:ke,useClass:ke,deps:[Fe,$.R0b]},{provide:a.JF,useClass:Z,deps:[]}];let Kn=(()=>{class Le{constructor(ye){if(ye)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ye){return{ngModule:Le,providers:[{provide:$.AFp,useValue:ye.appId},{provide:ce,useExisting:$.AFp},oe]}}}return Le.\u0275fac=function(ye){return new(ye||Le)($.LFG(Le,12))},Le.\u0275mod=$.oAB({type:Le}),Le.\u0275inj=$.cJS({providers:Un,imports:[a.ez,$.hGG]}),Le})();"undefined"!=typeof window&&window;var _e=N(3151),mt=N(6926),Vt=N(5041);const hn=[{path:"home",loadChildren:()=>Promise.all([N.e(8592),N.e(4851)]).then(N.bind(N,4851)).then(Le=>Le.HomePageModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"register",loadChildren:()=>N.e(7826).then(N.bind(N,7826)).then(Le=>Le.RegisterPageModule)},{path:"login",loadChildren:()=>N.e(4987).then(N.bind(N,4987)).then(Le=>Le.LoginPageModule)},{path:"dettails/:item/:id",loadChildren:()=>Promise.all([N.e(8592),N.e(650)]).then(N.bind(N,650)).then(Le=>Le.DettailsPageModule)},{path:"dettails/:id",loadChildren:()=>Promise.all([N.e(8592),N.e(650)]).then(N.bind(N,650)).then(Le=>Le.DettailsPageModule)},{path:"enroll-into-formation/:id/:title/:image",loadChildren:()=>N.e(8643).then(N.bind(N,8643)).then(Le=>Le.EnrollIntoFormationPageModule)},{path:"summary",loadChildren:()=>N.e(7734).then(N.bind(N,7734)).then(Le=>Le.SummaryPageModule)},{path:"formation/:formationName",loadChildren:()=>Promise.all([N.e(8592),N.e(9239)]).then(N.bind(N,9239)).then(Le=>Le.FormationPageModule)},{path:"recover",loadChildren:()=>N.e(1736).then(N.bind(N,1736)).then(Le=>Le.RecoverPageModule)}];let Bn=(()=>{class Le{}return Le.\u0275fac=function(ye){return new(ye||Le)},Le.\u0275mod=$.oAB({type:Le}),Le.\u0275inj=$.cJS({imports:[[_e.Bz.forRoot(hn,{preloadingStrategy:_e.wm})],_e.Bz]}),Le})();var pn=N(2011),zn=N(4941);const gr_firebaseConfig={apiKey:"AIzaSyAA1veyRjD7bMywktdbQELLp6C-5Q7XN4Q",authDomain:"ionicauthentificationproject.firebaseapp.com",projectId:"ionicauthentificationproject",storageBucket:"ionicauthentificationproject.appspot.com",messagingSenderId:"879216998823",appId:"1:879216998823:web:e43237af95d26ffd04de82"};let Wn=(()=>{class Le{}return Le.\u0275fac=function(ye){return new(ye||Le)},Le.\u0275mod=$.oAB({type:Le,bootstrap:[Vt.y]}),Le.\u0275inj=$.cJS({providers:[{provide:_e.wN,useClass:mt.r4}],imports:[[Kn,mt.Pc.forRoot(),Bn,pn.hO.initializeApp(gr_firebaseConfig),zn.ww]]}),Le})();(0,$.G48)(),Gn().bootstrapModule(Wn).catch(Le=>console.log(Le))},5867:(Xt,rt,N)=>{"use strict";N.d(rt,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=N(9681);(0,a.registerVersion)("firebase","9.6.10","app")},127:(Xt,rt,N)=>{"use strict";N.d(rt,{Z:()=>a.Z});var a=N(3942);a.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(Xt,rt,N)=>{"use strict";N.r(rt);var a=N(5861),$=N(3942),V=N(424),Se=N(2090),me=(N(9681),N(1877),N(4859));function Ee(){return window}function oe(){return(oe=(0,a.Z)(function*(se,he,_e){var mt;const{BuildInfo:Vt}=Ee();(0,V.ap)(he.sessionId,"AuthEvent did not contain a session ID");const hn=yield fe(he.sessionId),Bn={};return(0,V.aq)()?Bn.ibi=Vt.packageName:(0,V.ar)()?Bn.apn=Vt.packageName:(0,V.as)(se,"operation-not-supported-in-this-environment"),Vt.displayName&&(Bn.appDisplayName=Vt.displayName),Bn.sessionId=hn,(0,V.at)(se,_e,he.type,void 0,null!==(mt=he.eventId)&&void 0!==mt?mt:void 0,Bn)})).apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(se){const{BuildInfo:he}=Ee(),_e={};(0,V.aq)()?_e.iosBundleId=he.packageName:(0,V.ar)()?_e.androidPackageName=he.packageName:(0,V.as)(se,"operation-not-supported-in-this-environment"),yield(0,V.au)(se,_e)})).apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(se,he,_e){const{cordova:mt}=Ee();let Vt=()=>{};try{yield new Promise((hn,Bn)=>{let pn=null;function zn(){var Le;hn();const De=null===(Le=mt.plugins.browsertab)||void 0===Le?void 0:Le.close;"function"==typeof De&&De(),"function"==typeof(null==_e?void 0:_e.close)&&_e.close()}function gr(){pn||(pn=window.setTimeout(()=>{Bn((0,V.av)(se,"redirect-cancelled-by-user"))},2e3))}function Wn(){"visible"===(null==document?void 0:document.visibilityState)&&gr()}he.addPassiveListener(zn),document.addEventListener("resume",gr,!1),(0,V.ar)()&&document.addEventListener("visibilitychange",Wn,!1),Vt=()=>{he.removePassiveListener(zn),document.removeEventListener("resume",gr,!1),document.removeEventListener("visibilitychange",Wn,!1),pn&&window.clearTimeout(pn)}})}finally{Vt()}})).apply(this,arguments)}function fe(se){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(se){const he=J(se),_e=yield crypto.subtle.digest("SHA-256",he);return Array.from(new Uint8Array(_e)).map(Vt=>Vt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function J(se){if((0,V.ap)(/[0-9a-zA-Z]+/.test(se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(se);const he=new ArrayBuffer(se.length),_e=new Uint8Array(he);for(let mt=0;mt<se.length;mt++)_e[mt]=se.charCodeAt(mt);return _e}class we extends V.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(he=>{this.resolveInialized=he})}addPassiveListener(he){this.passiveListeners.add(he)}removePassiveListener(he){this.passiveListeners.delete(he)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(he){return this.resolveInialized(),this.passiveListeners.forEach(_e=>_e(he)),super.onEvent(he)}initialized(){var he=this;return(0,a.Z)(function*(){yield he.initPromise})()}}function Be(se){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(se){const he=yield ae()._get(be(se));return he&&(yield ae()._remove(be(se))),he})).apply(this,arguments)}function Pe(){const se=[],he="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _e=0;_e<20;_e++){const mt=Math.floor(Math.random()*he.length);se.push(he.charAt(mt))}return se.join("")}function ae(){return(0,V.ax)(V.b)}function be(se){return(0,V.ay)("authEvent",se.config.apiKey,se.name)}function kt(se){if(!(null==se?void 0:se.includes("?")))return{};const[he,..._e]=se.split("?");return(0,Se.zd)(_e.join("?"))}function et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.av)("no-auth-event")}}function ct(){var se;return(null===(se=null==self?void 0:self.location)||void 0===se?void 0:se.protocol)||null}function $t(se=(0,Se.z$)()){return!("file:"!==ct()&&"ionic:"!==ct()||!se.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gn(){try{const se=self.localStorage,he=V.aG();if(se)return se.setItem(he,"1"),se.removeItem(he),!function vn(se=(0,Se.z$)()){return function rn(){return(0,Se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function sn(se=(0,Se.z$)()){return/Edge\/\d+/.test(se)}(se)}()||(0,Se.hl)()}catch(se){return Un()&&(0,Se.hl)()}return!1}function Un(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function ft(){return"http:"===ct()||"https:"===ct()}()||(0,Se.ru)()||$t())&&!function cn(){return(0,Se.b$)()||(0,Se.UG)()}()&&Gn()&&!Un()}function er(){return $t()&&"undefined"!=typeof document}function kn(){return(kn=(0,a.Z)(function*(){return!!er()&&new Promise(se=>{const he=setTimeout(()=>{se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(he),se(!0)})})})).apply(this,arguments)}const Rn={LOCAL:"local",NONE:"none",SESSION:"session"},Vn=V.aw,tn="persistence";function $r(se){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(se){yield se._initializationPromise;const he=jn(),_e=V.ay(tn,se.config.apiKey,se.name);he&&he.setItem(_e,se._getPersistence())})).apply(this,arguments)}function jn(){var se;try{return(null===(se=function dr(){return"undefined"!=typeof window?window:null}())||void 0===se?void 0:se.sessionStorage)||null}catch(he){return null}}const on=V.aw;class Kt{constructor(){this.browserResolver=V.ax(V.k),this.cordovaResolver=V.ax(class at{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aA}_initialize(he){var _e=this;return(0,a.Z)(function*(){const mt=he._key();let Vt=_e.eventManagers.get(mt);return Vt||(Vt=new we(he),_e.eventManagers.set(mt,Vt),_e.attachCallbackListeners(he,Vt)),Vt})()}_openPopup(he){(0,V.as)(he,"operation-not-supported-in-this-environment")}_openRedirect(he,_e,mt,Vt){var hn=this;return(0,a.Z)(function*(){!function Ae(se){var he,_e,mt,Vt,hn,Bn,pn,zn,gr,Wn;const Le=Ee();(0,V.aw)("function"==typeof(null===(he=null==Le?void 0:Le.universalLinks)||void 0===he?void 0:he.subscribe),se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aw)(void 0!==(null===(_e=null==Le?void 0:Le.BuildInfo)||void 0===_e?void 0:_e.packageName),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aw)("function"==typeof(null===(hn=null===(Vt=null===(mt=null==Le?void 0:Le.cordova)||void 0===mt?void 0:mt.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===hn?void 0:hn.openUrl),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(zn=null===(pn=null===(Bn=null==Le?void 0:Le.cordova)||void 0===Bn?void 0:Bn.plugins)||void 0===pn?void 0:pn.browsertab)||void 0===zn?void 0:zn.isAvailable),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aw)("function"==typeof(null===(Wn=null===(gr=null==Le?void 0:Le.cordova)||void 0===gr?void 0:gr.InAppBrowser)||void 0===Wn?void 0:Wn.open),se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(he);const Bn=yield hn._initialize(he);yield Bn.initialized(),Bn.resetRedirect(),(0,V.aB)(),yield hn._originValidation(he);const pn=function We(se,he,_e=null){return{type:he,eventId:_e,urlResponse:null,sessionId:Pe(),postBody:null,tenantId:se.tenantId,error:(0,V.av)(se,"no-auth-event")}}(he,mt,Vt);yield function lt(se,he){return ae()._set(be(se),he)}(he,pn);const zn=yield function re(se,he,_e){return oe.apply(this,arguments)}(he,pn,_e),gr=yield function Fe(se){const{cordova:he}=Ee();return new Promise(_e=>{he.plugins.browsertab.isAvailable(mt=>{let Vt=null;mt?he.plugins.browsertab.openUrl(se):Vt=he.InAppBrowser.open(se,(0,V.ao)()?"_blank":"_system","location=yes"),_e(Vt)})})}(zn);return function ke(se,he,_e){return ie.apply(this,arguments)}(he,Bn,gr)})()}_isIframeWebStorageSupported(he,_e){throw new Error("Method not implemented.")}_originValidation(he){const _e=he._key();return this.originValidationPromises[_e]||(this.originValidationPromises[_e]=function ue(se){return Z.apply(this,arguments)}(he)),this.originValidationPromises[_e]}attachCallbackListeners(he,_e){const{universalLinks:mt,handleOpenURL:Vt,BuildInfo:hn}=Ee(),Bn=setTimeout((0,a.Z)(function*(){yield Be(he),_e.onEvent(et())}),500),pn=function(){var Wn=(0,a.Z)(function*(Le){clearTimeout(Bn);const De=yield Be(he);let ye=null;De&&(null==Le?void 0:Le.url)&&(ye=function le(se,he){var _e,mt;const Vt=function Ve(se){const he=kt(se),_e=he.link?decodeURIComponent(he.link):void 0,mt=kt(_e).link,Vt=he.deep_link_id?decodeURIComponent(he.deep_link_id):void 0;return kt(Vt).link||Vt||mt||_e||se}(he);if(Vt.includes("/__/auth/callback")){const hn=kt(Vt),Bn=hn.firebaseError?function qe(se){try{return JSON.parse(se)}catch(he){return null}}(decodeURIComponent(hn.firebaseError)):null,pn=null===(mt=null===(_e=null==Bn?void 0:Bn.code)||void 0===_e?void 0:_e.split("auth/"))||void 0===mt?void 0:mt[1],zn=pn?(0,V.av)(pn):null;return zn?{type:se.type,eventId:se.eventId,tenantId:se.tenantId,error:zn,urlResponse:null,sessionId:null,postBody:null}:{type:se.type,eventId:se.eventId,tenantId:se.tenantId,sessionId:se.sessionId,urlResponse:Vt,postBody:null}}return null}(De,Le.url)),_e.onEvent(ye||et())});return function(De){return Wn.apply(this,arguments)}}();void 0!==mt&&"function"==typeof mt.subscribe&&mt.subscribe(null,pn);const zn=Vt,gr=`${hn.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var Wn=(0,a.Z)(function*(Le){if(Le.toLowerCase().startsWith(gr)&&pn({url:Le}),"function"==typeof zn)try{zn(Le)}catch(De){console.error(De)}});return function(Le){return Wn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aA}_initialize(he){var _e=this;return(0,a.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._initialize(he)})()}_openPopup(he,_e,mt,Vt){var hn=this;return(0,a.Z)(function*(){return yield hn.selectUnderlyingResolver(),hn.assertedUnderlyingResolver._openPopup(he,_e,mt,Vt)})()}_openRedirect(he,_e,mt,Vt){var hn=this;return(0,a.Z)(function*(){return yield hn.selectUnderlyingResolver(),hn.assertedUnderlyingResolver._openRedirect(he,_e,mt,Vt)})()}_isIframeWebStorageSupported(he,_e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(he,_e)}_originValidation(he){return this.assertedUnderlyingResolver._originValidation(he)}get _shouldInitProactively(){return er()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return on(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var he=this;return(0,a.Z)(function*(){if(he.underlyingResolver)return;const _e=yield function In(){return kn.apply(this,arguments)}();he.underlyingResolver=_e?he.cordovaResolver:he.browserResolver})()}}function Rr(se){return se.unwrap()}function ir(se){return pr(se)}function pr(se){const{_tokenResponse:he}=se instanceof Se.ZR?se.customData:se;if(!he)return null;if(!(se instanceof Se.ZR)&&"temporaryProof"in he&&"phoneNumber"in he)return V.P.credentialFromResult(se);const _e=he.providerId;if(!_e||_e===V.o.PASSWORD)return null;let mt;switch(_e){case V.o.GOOGLE:mt=V.N;break;case V.o.FACEBOOK:mt=V.M;break;case V.o.GITHUB:mt=V.Q;break;case V.o.TWITTER:mt=V.V;break;default:const{oauthIdToken:Vt,oauthAccessToken:hn,oauthTokenSecret:Bn,pendingToken:pn,nonce:zn}=he;return hn||Bn||Vt||pn?pn?_e.startsWith("saml.")?V.aJ._create(_e,pn):V.I._fromParams({providerId:_e,signInMethod:_e,pendingToken:pn,idToken:Vt,accessToken:hn}):new V.T(_e).credential({idToken:Vt,accessToken:hn,rawNonce:zn}):null}return se instanceof Se.ZR?mt.credentialFromError(se):mt.credentialFromResult(se)}function dn(se,he){return he.catch(_e=>{throw _e instanceof Se.ZR&&function Ur(se,he){var _e;const mt=null===(_e=he.customData)||void 0===_e?void 0:_e._tokenResponse;if("auth/multi-factor-auth-required"===he.code)he.resolver=new Jn(se,V.am(se,he));else if(mt){const Vt=pr(he),hn=he;Vt&&(hn.credential=Vt,hn.tenantId=mt.tenantId||void 0,hn.email=mt.email||void 0,hn.phoneNumber=mt.phoneNumber||void 0)}}(se,_e),_e}).then(_e=>{const Vt=_e.user;return{operationType:_e.operationType,credential:ir(_e),additionalUserInfo:V.ak(_e),user:zt.getOrCreate(Vt)}})}function ur(se,he){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(se,he){const _e=yield he;return{verificationId:_e.verificationId,confirm:mt=>dn(se,_e.confirm(mt))}})).apply(this,arguments)}class Jn{constructor(he,_e){this.resolver=_e,this.auth=function qr(se){return se.wrapped()}(he)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(he){return dn(Rr(this.auth),this.resolver.resolveSignIn(he))}}class zt{constructor(he){this._delegate=he,this.multiFactor=V.an(he)}static getOrCreate(he){return zt.USER_MAP.has(he)||zt.USER_MAP.set(he,new zt(he)),zt.USER_MAP.get(he)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(he){return this._delegate.getIdTokenResult(he)}getIdToken(he){return this._delegate.getIdToken(he)}linkAndRetrieveDataWithCredential(he){return this.linkWithCredential(he)}linkWithCredential(he){var _e=this;return(0,a.Z)(function*(){return dn(_e.auth,V.Y(_e._delegate,he))})()}linkWithPhoneNumber(he,_e){var mt=this;return(0,a.Z)(function*(){return ur(mt.auth,V.l(mt._delegate,he,_e))})()}linkWithPopup(he){var _e=this;return(0,a.Z)(function*(){return dn(_e.auth,V.d(_e._delegate,he,Kt))})()}linkWithRedirect(he){var _e=this;return(0,a.Z)(function*(){return yield $r(V.aC(_e.auth)),V.g(_e._delegate,he,Kt)})()}reauthenticateAndRetrieveDataWithCredential(he){return this.reauthenticateWithCredential(he)}reauthenticateWithCredential(he){var _e=this;return(0,a.Z)(function*(){return dn(_e.auth,V.Z(_e._delegate,he))})()}reauthenticateWithPhoneNumber(he,_e){return ur(this.auth,V.r(this._delegate,he,_e))}reauthenticateWithPopup(he){return dn(this.auth,V.e(this._delegate,he,Kt))}reauthenticateWithRedirect(he){var _e=this;return(0,a.Z)(function*(){return yield $r(V.aC(_e.auth)),V.h(_e._delegate,he,Kt)})()}sendEmailVerification(he){return V.aa(this._delegate,he)}unlink(he){var _e=this;return(0,a.Z)(function*(){return yield V.aj(_e._delegate,he),_e})()}updateEmail(he){return V.af(this._delegate,he)}updatePassword(he){return V.ag(this._delegate,he)}updatePhoneNumber(he){return V.u(this._delegate,he)}updateProfile(he){return V.ae(this._delegate,he)}verifyBeforeUpdateEmail(he,_e){return V.ab(this._delegate,he,_e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const It=V.aw;let Lt=(()=>{class se{constructor(_e,mt){if(this.app=_e,mt.isInitialized())return this._delegate=mt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Vt}=_e.options;It(Vt,"invalid-api-key",{appName:_e.name}),It(Vt,"invalid-api-key",{appName:_e.name});const hn="undefined"!=typeof window?Kt:void 0;this._delegate=mt.initialize({options:{persistence:en(Vt,_e.name),popupRedirectResolver:hn}}),this._delegate._updateErrorMap(V.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_e){this._delegate.languageCode=_e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_e){this._delegate.tenantId=_e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_e,mt){V.E(this._delegate,_e,mt)}applyActionCode(_e){return V.a1(this._delegate,_e)}checkActionCode(_e){return V.a2(this._delegate,_e)}confirmPasswordReset(_e,mt){return V.a0(this._delegate,_e,mt)}createUserWithEmailAndPassword(_e,mt){var Vt=this;return(0,a.Z)(function*(){return dn(Vt._delegate,V.a4(Vt._delegate,_e,mt))})()}fetchProvidersForEmail(_e){return this.fetchSignInMethodsForEmail(_e)}fetchSignInMethodsForEmail(_e){return V.a9(this._delegate,_e)}isSignInWithEmailLink(_e){return V.a7(this._delegate,_e)}getRedirectResult(){var _e=this;return(0,a.Z)(function*(){It(Kn(),_e._delegate,"operation-not-supported-in-this-environment");const mt=yield V.j(_e._delegate,Kt);return mt?dn(_e._delegate,Promise.resolve(mt)):{credential:null,user:null}})()}addFrameworkForLogging(_e){!function Ze(se,he){(0,V.aC)(se)._logFramework(he)}(this._delegate,_e)}onAuthStateChanged(_e,mt,Vt){const{next:hn,error:Bn,complete:pn}=yn(_e,mt,Vt);return this._delegate.onAuthStateChanged(hn,Bn,pn)}onIdTokenChanged(_e,mt,Vt){const{next:hn,error:Bn,complete:pn}=yn(_e,mt,Vt);return this._delegate.onIdTokenChanged(hn,Bn,pn)}sendSignInLinkToEmail(_e,mt){return V.a6(this._delegate,_e,mt)}sendPasswordResetEmail(_e,mt){return V.$(this._delegate,_e,mt||void 0)}setPersistence(_e){var mt=this;return(0,a.Z)(function*(){let Vt;switch(function En(se,he){Vn(Object.values(Rn).includes(he),se,"invalid-persistence-type"),(0,Se.b$)()?Vn(he!==Rn.SESSION,se,"unsupported-persistence-type"):(0,Se.UG)()?Vn(he===Rn.NONE,se,"unsupported-persistence-type"):Un()?Vn(he===Rn.NONE||he===Rn.LOCAL&&(0,Se.hl)(),se,"unsupported-persistence-type"):Vn(he===Rn.NONE||Gn(),se,"unsupported-persistence-type")}(mt._delegate,_e),_e){case Rn.SESSION:Vt=V.a;break;case Rn.LOCAL:Vt=(yield V.ax(V.i)._isAvailable())?V.i:V.b;break;case Rn.NONE:Vt=V.K;break;default:return V.as("argument-error",{appName:mt._delegate.name})}return mt._delegate.setPersistence(Vt)})()}signInAndRetrieveDataWithCredential(_e){return this.signInWithCredential(_e)}signInAnonymously(){return dn(this._delegate,V.W(this._delegate))}signInWithCredential(_e){return dn(this._delegate,V.X(this._delegate,_e))}signInWithCustomToken(_e){return dn(this._delegate,V._(this._delegate,_e))}signInWithEmailAndPassword(_e,mt){return dn(this._delegate,V.a5(this._delegate,_e,mt))}signInWithEmailLink(_e,mt){return dn(this._delegate,V.a8(this._delegate,_e,mt))}signInWithPhoneNumber(_e,mt){return ur(this._delegate,V.s(this._delegate,_e,mt))}signInWithPopup(_e){var mt=this;return(0,a.Z)(function*(){return It(Kn(),mt._delegate,"operation-not-supported-in-this-environment"),dn(mt._delegate,V.c(mt._delegate,_e,Kt))})()}signInWithRedirect(_e){var mt=this;return(0,a.Z)(function*(){return It(Kn(),mt._delegate,"operation-not-supported-in-this-environment"),yield $r(mt._delegate),V.f(mt._delegate,_e,Kt)})()}updateCurrentUser(_e){return this._delegate.updateCurrentUser(_e)}verifyPasswordResetCode(_e){return V.a3(this._delegate,_e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return se.Persistence=Rn,se})();function yn(se,he,_e){let mt=se;"function"!=typeof se&&({next:mt,error:he,complete:_e}=se);const Vt=mt;return{next:Bn=>Vt(Bn&&zt.getOrCreate(Bn)),error:he,complete:_e}}function en(se,he){const _e=function Dr(se,he){const _e=jn();if(!_e)return[];const mt=V.ay(tn,se,he);switch(_e.getItem(mt)){case Rn.NONE:return[V.K];case Rn.LOCAL:return[V.i,V.a];case Rn.SESSION:return[V.a];default:return[]}}(se,he);if("undefined"!=typeof self&&!_e.includes(V.i)&&_e.push(V.i),"undefined"!=typeof window)for(const mt of[V.b,V.a])_e.includes(mt)||_e.push(mt);return _e.includes(V.K)||_e.push(V.K),_e}class Tn{constructor(){this.providerId="phone",this._delegate=new V.P(Rr($.Z.auth()))}static credential(he,_e){return V.P.credential(he,_e)}verifyPhoneNumber(he,_e){return this._delegate.verifyPhoneNumber(he,_e)}unwrap(){return this._delegate}}Tn.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,Tn.PROVIDER_ID=V.P.PROVIDER_ID;const Ne=V.aw;class ge{constructor(he,_e,mt=$.Z.app()){var Vt;Ne(null===(Vt=mt.options)||void 0===Vt?void 0:Vt.apiKey,"invalid-api-key",{appName:mt.name}),this._delegate=new V.R(he,_e,mt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dt(se){se.INTERNAL.registerComponent(new me.wA("auth-compat",he=>{const _e=he.getProvider("app-compat").getImmediate(),mt=he.getProvider("auth");return new Lt(_e,mt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.L,FacebookAuthProvider:V.M,GithubAuthProvider:V.Q,GoogleAuthProvider:V.N,OAuthProvider:V.T,SAMLAuthProvider:V.U,PhoneAuthProvider:Tn,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:ge,TwitterAuthProvider:V.V,Auth:Lt,AuthCredential:V.G,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),se.registerVersion("@firebase/auth-compat","0.2.11")}($.Z)},591:(Xt,rt,N)=>{"use strict";N.d(rt,{X:()=>V});var a=N(8929),$=N(5279);class V extends a.xQ{constructor(Ie){super(),this._value=Ie}get value(){return this.getValue()}_subscribe(Ie){const ne=super._subscribe(Ie);return ne&&!ne.closed&&Ie.next(this._value),ne}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $.N;return this._value}next(Ie){super.next(this._value=Ie)}}},2916:(Xt,rt,N)=>{"use strict";N.d(rt,{y:()=>oe});var a=N(3489),V=N(7668),Se=N(3292),ne=N(3821),me=N(5379);var re=N(2830);let oe=(()=>{class Z{constructor(ke){this._isScalar=!1,ke&&(this._subscribe=ke)}lift(ke){const ie=new Z;return ie.source=this,ie.operator=ke,ie}subscribe(ke,ie,Ae){const{operator:fe}=this,Je=function Ie(Z,Fe,ke){if(Z){if(Z instanceof a.L)return Z;if(Z[V.b])return Z[V.b]()}return Z||Fe||ke?new a.L(Z,Fe,ke):new a.L(Se.c)}(ke,ie,Ae);if(Je.add(fe?fe.call(Je,this.source):this.source||re.v.useDeprecatedSynchronousErrorHandling&&!Je.syncErrorThrowable?this._subscribe(Je):this._trySubscribe(Je)),re.v.useDeprecatedSynchronousErrorHandling&&Je.syncErrorThrowable&&(Je.syncErrorThrowable=!1,Je.syncErrorThrown))throw Je.syncErrorValue;return Je}_trySubscribe(ke){try{return this._subscribe(ke)}catch(ie){re.v.useDeprecatedSynchronousErrorHandling&&(ke.syncErrorThrown=!0,ke.syncErrorValue=ie),function $(Z){for(;Z;){const{closed:Fe,destination:ke,isStopped:ie}=Z;if(Fe||ie)return!1;Z=ke&&ke instanceof a.L?ke:null}return!0}(ke)?ke.error(ie):console.warn(ie)}}forEach(ke,ie){return new(ie=ue(ie))((Ae,fe)=>{let Je;Je=this.subscribe(J=>{try{ke(J)}catch(Qe){fe(Qe),Je&&Je.unsubscribe()}},fe,Ae)})}_subscribe(ke){const{source:ie}=this;return ie&&ie.subscribe(ke)}[ne.L](){return this}pipe(...ke){return 0===ke.length?this:function ce(Z){return 0===Z.length?me.y:1===Z.length?Z[0]:function(ke){return Z.reduce((ie,Ae)=>Ae(ie),ke)}}(ke)(this)}toPromise(ke){return new(ke=ue(ke))((ie,Ae)=>{let fe;this.subscribe(Je=>fe=Je,Je=>Ae(Je),()=>ie(fe))})}}return Z.create=Fe=>new Z(Fe),Z})();function ue(Z){if(Z||(Z=re.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},3292:(Xt,rt,N)=>{"use strict";N.d(rt,{c:()=>V});var a=N(2830),$=N(2782);const V={closed:!0,next(Se){},error(Se){if(a.v.useDeprecatedSynchronousErrorHandling)throw Se;(0,$.z)(Se)},complete(){}}},8929:(Xt,rt,N)=>{"use strict";N.d(rt,{Yc:()=>me,xQ:()=>Ee});var a=N(2916),$=N(3489),V=N(2654),Se=N(5279),Ie=N(5283),ne=N(7668);class me extends $.L{constructor(oe){super(oe),this.destination=oe}}let Ee=(()=>{class re extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ne.b](){return new me(this)}lift(ue){const Z=new ce(this,this);return Z.operator=ue,Z}next(ue){if(this.closed)throw new Se.N;if(!this.isStopped){const{observers:Z}=this,Fe=Z.length,ke=Z.slice();for(let ie=0;ie<Fe;ie++)ke[ie].next(ue)}}error(ue){if(this.closed)throw new Se.N;this.hasError=!0,this.thrownError=ue,this.isStopped=!0;const{observers:Z}=this,Fe=Z.length,ke=Z.slice();for(let ie=0;ie<Fe;ie++)ke[ie].error(ue);this.observers.length=0}complete(){if(this.closed)throw new Se.N;this.isStopped=!0;const{observers:ue}=this,Z=ue.length,Fe=ue.slice();for(let ke=0;ke<Z;ke++)Fe[ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ue){if(this.closed)throw new Se.N;return super._trySubscribe(ue)}_subscribe(ue){if(this.closed)throw new Se.N;return this.hasError?(ue.error(this.thrownError),V.w.EMPTY):this.isStopped?(ue.complete(),V.w.EMPTY):(this.observers.push(ue),new Ie.W(this,ue))}asObservable(){const ue=new a.y;return ue.source=this,ue}}return re.create=(oe,ue)=>new ce(oe,ue),re})();class ce extends Ee{constructor(oe,ue){super(),this.destination=oe,this.source=ue}next(oe){const{destination:ue}=this;ue&&ue.next&&ue.next(oe)}error(oe){const{destination:ue}=this;ue&&ue.error&&this.destination.error(oe)}complete(){const{destination:oe}=this;oe&&oe.complete&&this.destination.complete()}_subscribe(oe){const{source:ue}=this;return ue?this.source.subscribe(oe):V.w.EMPTY}}},5283:(Xt,rt,N)=>{"use strict";N.d(rt,{W:()=>$});var a=N(2654);class $ extends a.w{constructor(Se,Ie){super(),this.subject=Se,this.subscriber=Ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Se=this.subject,Ie=Se.observers;if(this.subject=null,!Ie||0===Ie.length||Se.isStopped||Se.closed)return;const ne=Ie.indexOf(this.subscriber);-1!==ne&&Ie.splice(ne,1)}}},3489:(Xt,rt,N)=>{"use strict";N.d(rt,{L:()=>me});var a=N(7043),$=N(3292),V=N(2654),Se=N(7668),Ie=N(2830),ne=N(2782);class me extends V.w{constructor(re,oe,ue){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=$.c;break;case 1:if(!re){this.destination=$.c;break}if("object"==typeof re){re instanceof me?(this.syncErrorThrowable=re.syncErrorThrowable,this.destination=re,re.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ee(this,re));break}default:this.syncErrorThrowable=!0,this.destination=new Ee(this,re,oe,ue)}}[Se.b](){return this}static create(re,oe,ue){const Z=new me(re,oe,ue);return Z.syncErrorThrowable=!1,Z}next(re){this.isStopped||this._next(re)}error(re){this.isStopped||(this.isStopped=!0,this._error(re))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(re){this.destination.next(re)}_error(re){this.destination.error(re),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:re}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=re,this}}class Ee extends me{constructor(re,oe,ue,Z){super(),this._parentSubscriber=re;let Fe,ke=this;(0,a.m)(oe)?Fe=oe:oe&&(Fe=oe.next,ue=oe.error,Z=oe.complete,oe!==$.c&&(ke=Object.create(oe),(0,a.m)(ke.unsubscribe)&&this.add(ke.unsubscribe.bind(ke)),ke.unsubscribe=this.unsubscribe.bind(this))),this._context=ke,this._next=Fe,this._error=ue,this._complete=Z}next(re){if(!this.isStopped&&this._next){const{_parentSubscriber:oe}=this;Ie.v.useDeprecatedSynchronousErrorHandling&&oe.syncErrorThrowable?this.__tryOrSetError(oe,this._next,re)&&this.unsubscribe():this.__tryOrUnsub(this._next,re)}}error(re){if(!this.isStopped){const{_parentSubscriber:oe}=this,{useDeprecatedSynchronousErrorHandling:ue}=Ie.v;if(this._error)ue&&oe.syncErrorThrowable?(this.__tryOrSetError(oe,this._error,re),this.unsubscribe()):(this.__tryOrUnsub(this._error,re),this.unsubscribe());else if(oe.syncErrorThrowable)ue?(oe.syncErrorValue=re,oe.syncErrorThrown=!0):(0,ne.z)(re),this.unsubscribe();else{if(this.unsubscribe(),ue)throw re;(0,ne.z)(re)}}}complete(){if(!this.isStopped){const{_parentSubscriber:re}=this;if(this._complete){const oe=()=>this._complete.call(this._context);Ie.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?(this.__tryOrSetError(re,oe),this.unsubscribe()):(this.__tryOrUnsub(oe),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(re,oe){try{re.call(this._context,oe)}catch(ue){if(this.unsubscribe(),Ie.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,ne.z)(ue)}}__tryOrSetError(re,oe,ue){if(!Ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{oe.call(this._context,ue)}catch(Z){return Ie.v.useDeprecatedSynchronousErrorHandling?(re.syncErrorValue=Z,re.syncErrorThrown=!0,!0):((0,ne.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:re}=this;this._context=null,this._parentSubscriber=null,re.unsubscribe()}}},2654:(Xt,rt,N)=>{"use strict";N.d(rt,{w:()=>ne});var a=N(6688),$=N(7830),V=N(7043);const Ie=(()=>{function Ee(ce){return Error.call(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((re,oe)=>`${oe+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce,this}return Ee.prototype=Object.create(Error.prototype),Ee})();class ne{constructor(ce){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ce&&(this._ctorUnsubscribe=!0,this._unsubscribe=ce)}unsubscribe(){let ce;if(this.closed)return;let{_parentOrParents:re,_ctorUnsubscribe:oe,_unsubscribe:ue,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,re instanceof ne)re.remove(this);else if(null!==re)for(let Fe=0;Fe<re.length;++Fe)re[Fe].remove(this);if((0,V.m)(ue)){oe&&(this._unsubscribe=void 0);try{ue.call(this)}catch(Fe){ce=Fe instanceof Ie?me(Fe.errors):[Fe]}}if((0,a.k)(Z)){let Fe=-1,ke=Z.length;for(;++Fe<ke;){const ie=Z[Fe];if((0,$.K)(ie))try{ie.unsubscribe()}catch(Ae){ce=ce||[],Ae instanceof Ie?ce=ce.concat(me(Ae.errors)):ce.push(Ae)}}}if(ce)throw new Ie(ce)}add(ce){let re=ce;if(!ce)return ne.EMPTY;switch(typeof ce){case"function":re=new ne(ce);case"object":if(re===this||re.closed||"function"!=typeof re.unsubscribe)return re;if(this.closed)return re.unsubscribe(),re;if(!(re instanceof ne)){const Z=re;re=new ne,re._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+ce+" added to Subscription.")}let{_parentOrParents:oe}=re;if(null===oe)re._parentOrParents=this;else if(oe instanceof ne){if(oe===this)return re;re._parentOrParents=[oe,this]}else{if(-1!==oe.indexOf(this))return re;oe.push(this)}const ue=this._subscriptions;return null===ue?this._subscriptions=[re]:ue.push(re),re}remove(ce){const re=this._subscriptions;if(re){const oe=re.indexOf(ce);-1!==oe&&re.splice(oe,1)}}}var Ee;function me(Ee){return Ee.reduce((ce,re)=>ce.concat(re instanceof Ie?re.errors:re),[])}ne.EMPTY=((Ee=new ne).closed=!0,Ee)},2830:(Xt,rt,N)=>{"use strict";N.d(rt,{v:()=>$});let a=!1;const $={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const Se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Se.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=V},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(Xt,rt,N)=>{"use strict";N.d(rt,{IY:()=>Se,Ds:()=>ne,ft:()=>Ee});var a=N(3489),$=N(2916),V=N(9249);class Se extends a.L{constructor(re){super(),this.parent=re}_next(re){this.parent.notifyNext(re)}_error(re){this.parent.notifyError(re),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ne extends a.L{notifyNext(re){this.destination.next(re)}notifyError(re){this.destination.error(re)}notifyComplete(){this.destination.complete()}}function Ee(ce,re){if(re.closed)return;if(ce instanceof $.y)return ce.subscribe(re);let oe;try{oe=(0,V.s)(ce)(re)}catch(ue){re.error(ue)}return oe}},1762:(Xt,rt,N)=>{"use strict";N.d(rt,{c:()=>Ie,N:()=>ne});var a=N(8929),$=N(2916),V=N(2654),Se=N(4327);class Ie extends $.y{constructor(oe,ue){super(),this.source=oe,this.subjectFactory=ue,this._refCount=0,this._isComplete=!1}_subscribe(oe){return this.getSubject().subscribe(oe)}getSubject(){const oe=this._subject;return(!oe||oe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let oe=this._connection;return oe||(this._isComplete=!1,oe=this._connection=new V.w,oe.add(this.source.subscribe(new me(this.getSubject(),this))),oe.closed&&(this._connection=null,oe=V.w.EMPTY)),oe}refCount(){return(0,Se.x)()(this)}}const ne=(()=>{const re=Ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:re._subscribe},_isComplete:{value:re._isComplete,writable:!0},getSubject:{value:re.getSubject},connect:{value:re.connect},refCount:{value:re.refCount}}})();class me extends a.Yc{constructor(oe,ue){super(oe),this.connectable=ue}_error(oe){this._unsubscribe(),super._error(oe)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const oe=this.connectable;if(oe){this.connectable=null;const ue=oe._connection;oe._refCount=0,oe._subject=null,oe._connection=null,ue&&ue.unsubscribe()}}}},1221:(Xt,rt,N)=>{"use strict";N.d(rt,{z:()=>Se});var a=N(1086),$=N(9146);function Se(...Ie){return function V(){return(0,$.J)(1)}()((0,a.of)(...Ie))}},8896:(Xt,rt,N)=>{"use strict";N.d(rt,{E:()=>$,c:()=>V});var a=N(2916);const $=new a.y(Ie=>Ie.complete());function V(Ie){return Ie?function Se(Ie){return new a.y(ne=>Ie.schedule(()=>ne.complete()))}(Ie):$}},5254:(Xt,rt,N)=>{"use strict";N.d(rt,{D:()=>ke});var a=N(2916),$=N(9249),V=N(2654),Se=N(3821),me=N(6454),Ee=N(5430),oe=N(8955),ue=N(8515);function ke(ie,Ae){return Ae?function Fe(ie,Ae){if(null!=ie){if(function re(ie){return ie&&"function"==typeof ie[Se.L]}(ie))return function Ie(ie,Ae){return new a.y(fe=>{const Je=new V.w;return Je.add(Ae.schedule(()=>{const J=ie[Se.L]();Je.add(J.subscribe({next(Qe){Je.add(Ae.schedule(()=>fe.next(Qe)))},error(Qe){Je.add(Ae.schedule(()=>fe.error(Qe)))},complete(){Je.add(Ae.schedule(()=>fe.complete()))}}))})),Je})}(ie,Ae);if((0,oe.t)(ie))return function ne(ie,Ae){return new a.y(fe=>{const Je=new V.w;return Je.add(Ae.schedule(()=>ie.then(J=>{Je.add(Ae.schedule(()=>{fe.next(J),Je.add(Ae.schedule(()=>fe.complete()))}))},J=>{Je.add(Ae.schedule(()=>fe.error(J)))}))),Je})}(ie,Ae);if((0,ue.z)(ie))return(0,me.r)(ie,Ae);if(function Z(ie){return ie&&"function"==typeof ie[Ee.hZ]}(ie)||"string"==typeof ie)return function ce(ie,Ae){if(!ie)throw new Error("Iterable cannot be null");return new a.y(fe=>{const Je=new V.w;let J;return Je.add(()=>{J&&"function"==typeof J.return&&J.return()}),Je.add(Ae.schedule(()=>{J=ie[Ee.hZ](),Je.add(Ae.schedule(function(){if(fe.closed)return;let Qe,we;try{const We=J.next();Qe=We.value,we=We.done}catch(We){return void fe.error(We)}we?fe.complete():(fe.next(Qe),this.schedule())}))})),Je})}(ie,Ae)}throw new TypeError((null!==ie&&typeof ie||ie)+" is not observable")}(ie,Ae):ie instanceof a.y?ie:new a.y((0,$.s)(ie))}},3009:(Xt,rt,N)=>{"use strict";N.d(rt,{n:()=>Se});var a=N(2916),$=N(3650),V=N(6454);function Se(Ie,ne){return ne?(0,V.r)(Ie,ne):new a.y((0,$.V)(Ie))}},6787:(Xt,rt,N)=>{"use strict";N.d(rt,{T:()=>Ie});var a=N(2916),$=N(2866),V=N(9146),Se=N(3009);function Ie(...ne){let me=Number.POSITIVE_INFINITY,Ee=null,ce=ne[ne.length-1];return(0,$.K)(ce)?(Ee=ne.pop(),ne.length>1&&"number"==typeof ne[ne.length-1]&&(me=ne.pop())):"number"==typeof ce&&(me=ne.pop()),null===Ee&&1===ne.length&&ne[0]instanceof a.y?ne[0]:(0,V.J)(me)((0,Se.n)(ne,Ee))}},1086:(Xt,rt,N)=>{"use strict";N.d(rt,{of:()=>Se});var a=N(2866),$=N(3009),V=N(6454);function Se(...Ie){let ne=Ie[Ie.length-1];return(0,a.K)(ne)?(Ie.pop(),(0,V.r)(Ie,ne)):(0,$.n)(Ie)}},1737:(Xt,rt,N)=>{"use strict";N.d(rt,{_:()=>$});var a=N(2916);function $(Se,Ie){return new a.y(Ie?ne=>Ie.schedule(V,0,{error:Se,subscriber:ne}):ne=>ne.error(Se))}function V({error:Se,subscriber:Ie}){Ie.error(Se)}},7314:(Xt,rt,N)=>{"use strict";N.d(rt,{d:()=>$});var a=N(3489);function $(Ie=null){return ne=>ne.lift(new V(Ie))}class V{constructor(ne){this.defaultValue=ne}call(ne,me){return me.subscribe(new Se(ne,this.defaultValue))}}class Se extends a.L{constructor(ne,me){super(ne),this.defaultValue=me,this.isEmpty=!0}_next(ne){this.isEmpty=!1,this.destination.next(ne)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Xt,rt,N)=>{"use strict";N.d(rt,{x:()=>$});var a=N(3489);function $(Ie,ne){return me=>me.lift(new V(Ie,ne))}class V{constructor(ne,me){this.compare=ne,this.keySelector=me}call(ne,me){return me.subscribe(new Se(ne,this.compare,this.keySelector))}}class Se extends a.L{constructor(ne,me,Ee){super(ne),this.keySelector=Ee,this.hasKey=!1,"function"==typeof me&&(this.compare=me)}compare(ne,me){return ne===me}_next(ne){let me;try{const{keySelector:ce}=this;me=ce?ce(ne):ne}catch(ce){return this.destination.error(ce)}let Ee=!1;if(this.hasKey)try{const{compare:ce}=this;Ee=ce(this.key,me)}catch(ce){return this.destination.error(ce)}else this.hasKey=!0;Ee||(this.key=me,this.destination.next(ne))}}},2198:(Xt,rt,N)=>{"use strict";N.d(rt,{h:()=>$});var a=N(3489);function $(Ie,ne){return function(Ee){return Ee.lift(new V(Ie,ne))}}class V{constructor(ne,me){this.predicate=ne,this.thisArg=me}call(ne,me){return me.subscribe(new Se(ne,this.predicate,this.thisArg))}}class Se extends a.L{constructor(ne,me,Ee){super(ne),this.predicate=me,this.thisArg=Ee,this.count=0}_next(ne){let me;try{me=this.predicate.call(this.thisArg,ne,this.count++)}catch(Ee){return void this.destination.error(Ee)}me&&this.destination.next(ne)}}},7224:(Xt,rt,N)=>{"use strict";N.d(rt,{P:()=>me});var a=N(4450),$=N(2198),V=N(2986),Se=N(7314),Ie=N(4907),ne=N(5379);function me(Ee,ce){const re=arguments.length>=2;return oe=>oe.pipe(Ee?(0,$.h)((ue,Z)=>Ee(ue,Z,oe)):ne.y,(0,V.q)(1),re?(0,Se.d)(ce):(0,Ie.T)(()=>new a.K))}},4850:(Xt,rt,N)=>{"use strict";N.d(rt,{U:()=>$});var a=N(3489);function $(Ie,ne){return function(Ee){if("function"!=typeof Ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ee.lift(new V(Ie,ne))}}class V{constructor(ne,me){this.project=ne,this.thisArg=me}call(ne,me){return me.subscribe(new Se(ne,this.project,this.thisArg))}}class Se extends a.L{constructor(ne,me,Ee){super(ne),this.project=me,this.count=0,this.thisArg=Ee||this}_next(ne){let me;try{me=this.project.call(this.thisArg,ne,this.count++)}catch(Ee){return void this.destination.error(Ee)}this.destination.next(me)}}},9146:(Xt,rt,N)=>{"use strict";N.d(rt,{J:()=>V});var a=N(1709),$=N(5379);function V(Se=Number.POSITIVE_INFINITY){return(0,a.zg)($.y,Se)}},1709:(Xt,rt,N)=>{"use strict";N.d(rt,{zg:()=>Se});var a=N(4850),$=N(5254),V=N(1177);function Se(Ee,ce,re=Number.POSITIVE_INFINITY){return"function"==typeof ce?oe=>oe.pipe(Se((ue,Z)=>(0,$.D)(Ee(ue,Z)).pipe((0,a.U)((Fe,ke)=>ce(ue,Fe,Z,ke))),re)):("number"==typeof ce&&(re=ce),oe=>oe.lift(new Ie(Ee,re)))}class Ie{constructor(ce,re=Number.POSITIVE_INFINITY){this.project=ce,this.concurrent=re}call(ce,re){return re.subscribe(new ne(ce,this.project,this.concurrent))}}class ne extends V.Ds{constructor(ce,re,oe=Number.POSITIVE_INFINITY){super(ce),this.project=re,this.concurrent=oe,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ce){this.active<this.concurrent?this._tryNext(ce):this.buffer.push(ce)}_tryNext(ce){let re;const oe=this.index++;try{re=this.project(ce,oe)}catch(ue){return void this.destination.error(ue)}this.active++,this._innerSub(re)}_innerSub(ce){const re=new V.IY(this),oe=this.destination;oe.add(re);const ue=(0,V.ft)(ce,re);ue!==re&&oe.add(ue)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ce){this.destination.next(ce)}notifyComplete(){const ce=this.buffer;this.active--,ce.length>0?this._next(ce.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Xt,rt,N)=>{"use strict";N.d(rt,{ht:()=>ce,QV:()=>me});var a=N(3489),$=N(8896),V=N(1086),Se=N(1737);class ne{constructor(ue,Z,Fe){this.kind=ue,this.value=Z,this.error=Fe,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,Z,Fe){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return Z&&Z(this.error);case"C":return Fe&&Fe()}}accept(ue,Z,Fe){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,Z,Fe)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return(0,Se._)(this.error);case"C":return(0,$.c)()}throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new ne("N",ue):ne.undefinedValueNotification}static createError(ue){return new ne("E",void 0,ue)}static createComplete(){return ne.completeNotification}}function me(oe,ue=0){return function(Fe){return Fe.lift(new Ee(oe,ue))}}ne.completeNotification=new ne("C"),ne.undefinedValueNotification=new ne("N",void 0);class Ee{constructor(ue,Z=0){this.scheduler=ue,this.delay=Z}call(ue,Z){return Z.subscribe(new ce(ue,this.scheduler,this.delay))}}class ce extends a.L{constructor(ue,Z,Fe=0){super(ue),this.scheduler=Z,this.delay=Fe}static dispatch(ue){const{notification:Z,destination:Fe}=ue;Z.observe(Fe),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(ce.dispatch,this.delay,new re(ue,this.destination)))}_next(ue){this.scheduleMessage(ne.createNext(ue))}_error(ue){this.scheduleMessage(ne.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(ne.createComplete()),this.unsubscribe()}}class re{constructor(ue,Z){this.notification=ue,this.destination=Z}}},4327:(Xt,rt,N)=>{"use strict";N.d(rt,{x:()=>$});var a=N(3489);function $(){return function(ne){return ne.lift(new V(ne))}}class V{constructor(ne){this.connectable=ne}call(ne,me){const{connectable:Ee}=this;Ee._refCount++;const ce=new Se(ne,Ee),re=me.subscribe(ce);return ce.closed||(ce.connection=Ee.connect()),re}}class Se extends a.L{constructor(ne,me){super(ne),this.connectable=me}_unsubscribe(){const{connectable:ne}=this;if(!ne)return void(this.connection=null);this.connectable=null;const me=ne._refCount;if(me<=0)return void(this.connection=null);if(ne._refCount=me-1,me>1)return void(this.connection=null);const{connection:Ee}=this,ce=ne._connection;this.connection=null,ce&&(!Ee||ce===Ee)&&ce.unsubscribe()}}},2014:(Xt,rt,N)=>{"use strict";N.d(rt,{R:()=>$});var a=N(3489);function $(Ie,ne){let me=!1;return arguments.length>=2&&(me=!0),function(ce){return ce.lift(new V(Ie,ne,me))}}class V{constructor(ne,me,Ee=!1){this.accumulator=ne,this.seed=me,this.hasSeed=Ee}call(ne,me){return me.subscribe(new Se(ne,this.accumulator,this.seed,this.hasSeed))}}class Se extends a.L{constructor(ne,me,Ee,ce){super(ne),this.accumulator=me,this._seed=Ee,this.hasSeed=ce,this.index=0}get seed(){return this._seed}set seed(ne){this.hasSeed=!0,this._seed=ne}_next(ne){if(this.hasSeed)return this._tryNext(ne);this.seed=ne,this.destination.next(ne)}_tryNext(ne){const me=this.index++;let Ee;try{Ee=this.accumulator(this.seed,ne,me)}catch(ce){this.destination.error(ce)}this.seed=Ee,this.destination.next(Ee)}}},1059:(Xt,rt,N)=>{"use strict";N.d(rt,{O:()=>V});var a=N(1221),$=N(2866);function V(...Se){const Ie=Se[Se.length-1];return(0,$.K)(Ie)?(Se.pop(),ne=>(0,a.z)(Se,ne,Ie)):ne=>(0,a.z)(Se,ne)}},8915:(Xt,rt,N)=>{"use strict";N.d(rt,{R:()=>Ae});var a=N(2916);let $=1;const V=Promise.resolve(),Se={};function Ie(Je){return Je in Se&&(delete Se[Je],!0)}const ne={setImmediate(Je){const J=$++;return Se[J]=!0,V.then(()=>Ie(J)&&Je()),J},clearImmediate(Je){Ie(Je)}};var Ee=N(6686),re=N(2268);const Z=new class oe extends re.v{flush(J){this.active=!0,this.scheduled=void 0;const{actions:Qe}=this;let we,We=-1,lt=Qe.length;J=J||Qe.shift();do{if(we=J.execute(J.state,J.delay))break}while(++We<lt&&(J=Qe.shift()));if(this.active=!1,we){for(;++We<lt&&(J=Qe.shift());)J.unsubscribe();throw we}}}(class ce extends Ee.o{constructor(J,Qe){super(J,Qe),this.scheduler=J,this.work=Qe}requestAsyncId(J,Qe,we=0){return null!==we&&we>0?super.requestAsyncId(J,Qe,we):(J.actions.push(this),J.scheduled||(J.scheduled=ne.setImmediate(J.flush.bind(J,null))))}recycleAsyncId(J,Qe,we=0){if(null!==we&&we>0||null===we&&this.delay>0)return super.recycleAsyncId(J,Qe,we);0===J.actions.length&&(ne.clearImmediate(Qe),J.scheduled=void 0)}});var Fe=N(6688);class ie extends a.y{constructor(J,Qe=0,we=Z){super(),this.source=J,this.delayTime=Qe,this.scheduler=we,(!function ke(Je){return!(0,Fe.k)(Je)&&Je-parseFloat(Je)+1>=0}(Qe)||Qe<0)&&(this.delayTime=0),(!we||"function"!=typeof we.schedule)&&(this.scheduler=Z)}static create(J,Qe=0,we=Z){return new ie(J,Qe,we)}static dispatch(J){const{source:Qe,subscriber:we}=J;return this.add(Qe.subscribe(we))}_subscribe(J){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:J})}}function Ae(Je,J=0){return function(we){return we.lift(new fe(Je,J))}}class fe{constructor(J,Qe){this.scheduler=J,this.delay=Qe}call(J,Qe){return new ie(Qe,this.delay,this.scheduler).subscribe(J)}}},7545:(Xt,rt,N)=>{"use strict";N.d(rt,{w:()=>Se});var a=N(4850),$=N(5254),V=N(1177);function Se(me,Ee){return"function"==typeof Ee?ce=>ce.pipe(Se((re,oe)=>(0,$.D)(me(re,oe)).pipe((0,a.U)((ue,Z)=>Ee(re,ue,oe,Z))))):ce=>ce.lift(new Ie(me))}class Ie{constructor(Ee){this.project=Ee}call(Ee,ce){return ce.subscribe(new ne(Ee,this.project))}}class ne extends V.Ds{constructor(Ee,ce){super(Ee),this.project=ce,this.index=0}_next(Ee){let ce;const re=this.index++;try{ce=this.project(Ee,re)}catch(oe){return void this.destination.error(oe)}this._innerSub(ce)}_innerSub(Ee){const ce=this.innerSubscription;ce&&ce.unsubscribe();const re=new V.IY(this),oe=this.destination;oe.add(re),this.innerSubscription=(0,V.ft)(Ee,re),this.innerSubscription!==re&&oe.add(this.innerSubscription)}_complete(){const{innerSubscription:Ee}=this;(!Ee||Ee.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Ee){this.destination.next(Ee)}}},2986:(Xt,rt,N)=>{"use strict";N.d(rt,{q:()=>Se});var a=N(3489),$=N(4231),V=N(8896);function Se(me){return Ee=>0===me?(0,V.c)():Ee.lift(new Ie(me))}class Ie{constructor(Ee){if(this.total=Ee,this.total<0)throw new $.W}call(Ee,ce){return ce.subscribe(new ne(Ee,this.total))}}class ne extends a.L{constructor(Ee,ce){super(Ee),this.total=ce,this.count=0}_next(Ee){const ce=this.total,re=++this.count;re<=ce&&(this.destination.next(Ee),re===ce&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Xt,rt,N)=>{"use strict";N.d(rt,{b:()=>Se});var a=N(3489);function $(){}var V=N(7043);function Se(me,Ee,ce){return function(oe){return oe.lift(new Ie(me,Ee,ce))}}class Ie{constructor(Ee,ce,re){this.nextOrObserver=Ee,this.error=ce,this.complete=re}call(Ee,ce){return ce.subscribe(new ne(Ee,this.nextOrObserver,this.error,this.complete))}}class ne extends a.L{constructor(Ee,ce,re,oe){super(Ee),this._tapNext=$,this._tapError=$,this._tapComplete=$,this._tapError=re||$,this._tapComplete=oe||$,(0,V.m)(ce)?(this._context=this,this._tapNext=ce):ce&&(this._context=ce,this._tapNext=ce.next||$,this._tapError=ce.error||$,this._tapComplete=ce.complete||$)}_next(Ee){try{this._tapNext.call(this._context,Ee)}catch(ce){return void this.destination.error(ce)}this.destination.next(Ee)}_error(Ee){try{this._tapError.call(this._context,Ee)}catch(ce){return void this.destination.error(ce)}this.destination.error(Ee)}_complete(){try{this._tapComplete.call(this._context)}catch(Ee){return void this.destination.error(Ee)}return this.destination.complete()}}},4907:(Xt,rt,N)=>{"use strict";N.d(rt,{T:()=>V});var a=N(4450),$=N(3489);function V(me=ne){return Ee=>Ee.lift(new Se(me))}class Se{constructor(Ee){this.errorFactory=Ee}call(Ee,ce){return ce.subscribe(new Ie(Ee,this.errorFactory))}}class Ie extends $.L{constructor(Ee,ce){super(Ee),this.errorFactory=ce,this.hasValue=!1}_next(Ee){this.hasValue=!0,this.destination.next(Ee)}_complete(){if(this.hasValue)return this.destination.complete();{let Ee;try{Ee=this.errorFactory()}catch(ce){Ee=ce}this.destination.error(Ee)}}}function ne(){return new a.K}},6454:(Xt,rt,N)=>{"use strict";N.d(rt,{r:()=>V});var a=N(2916),$=N(2654);function V(Se,Ie){return new a.y(ne=>{const me=new $.w;let Ee=0;return me.add(Ie.schedule(function(){Ee!==Se.length?(ne.next(Se[Ee++]),ne.closed||me.add(this.schedule())):ne.complete()})),me})}},6686:(Xt,rt,N)=>{"use strict";N.d(rt,{o:()=>V});var a=N(2654);class $ extends a.w{constructor(Ie,ne){super()}schedule(Ie,ne=0){return this}}class V extends ${constructor(Ie,ne){super(Ie,ne),this.scheduler=Ie,this.work=ne,this.pending=!1}schedule(Ie,ne=0){if(this.closed)return this;this.state=Ie;const me=this.id,Ee=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(Ee,me,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(Ee,this.id,ne),this}requestAsyncId(Ie,ne,me=0){return setInterval(Ie.flush.bind(Ie,this),me)}recycleAsyncId(Ie,ne,me=0){if(null!==me&&this.delay===me&&!1===this.pending)return ne;clearInterval(ne)}execute(Ie,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(Ie,ne);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,ne){let Ee,me=!1;try{this.work(Ie)}catch(ce){me=!0,Ee=!!ce&&ce||new Error(ce)}if(me)return this.unsubscribe(),Ee}_unsubscribe(){const Ie=this.id,ne=this.scheduler,me=ne.actions,Ee=me.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ee&&me.splice(Ee,1),null!=Ie&&(this.id=this.recycleAsyncId(ne,Ie,null)),this.delay=null}}},2268:(Xt,rt,N)=>{"use strict";N.d(rt,{v:()=>$});let a=(()=>{class V{constructor(Ie,ne=V.now){this.SchedulerAction=Ie,this.now=ne}schedule(Ie,ne=0,me){return new this.SchedulerAction(this,Ie).schedule(me,ne)}}return V.now=()=>Date.now(),V})();class $ extends a{constructor(Se,Ie=a.now){super(Se,()=>$.delegate&&$.delegate!==this?$.delegate.now():Ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Se,Ie=0,ne){return $.delegate&&$.delegate!==this?$.delegate.schedule(Se,Ie,ne):super.schedule(Se,Ie,ne)}flush(Se){const{actions:Ie}=this;if(this.active)return void Ie.push(Se);let ne;this.active=!0;do{if(ne=Se.execute(Se.state,Se.delay))break}while(Se=Ie.shift());if(this.active=!1,ne){for(;Se=Ie.shift();)Se.unsubscribe();throw ne}}}},353:(Xt,rt,N)=>{"use strict";N.d(rt,{z:()=>V});var a=N(6686);const V=new(N(2268).v)(a.o)},341:(Xt,rt,N)=>{"use strict";N.d(rt,{c:()=>ne,N:()=>Ie});var a=N(6686),V=N(2268);const Ie=new class Se extends V.v{}(class $ extends a.o{constructor(Ee,ce){super(Ee,ce),this.scheduler=Ee,this.work=ce}schedule(Ee,ce=0){return ce>0?super.schedule(Ee,ce):(this.delay=ce,this.state=Ee,this.scheduler.flush(this),this)}execute(Ee,ce){return ce>0||this.closed?super.execute(Ee,ce):this._execute(Ee,ce)}requestAsyncId(Ee,ce,re=0){return null!==re&&re>0||null===re&&this.delay>0?super.requestAsyncId(Ee,ce,re):Ee.flush(this)}}),ne=Ie},5430:(Xt,rt,N)=>{"use strict";N.d(rt,{hZ:()=>$});const $=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Xt,rt,N)=>{"use strict";N.d(rt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Xt,rt,N)=>{"use strict";N.d(rt,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Xt,rt,N)=>{"use strict";N.d(rt,{W:()=>$});const $=(()=>{function V(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return V.prototype=Object.create(Error.prototype),V})()},4450:(Xt,rt,N)=>{"use strict";N.d(rt,{K:()=>$});const $=(()=>{function V(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return V.prototype=Object.create(Error.prototype),V})()},5279:(Xt,rt,N)=>{"use strict";N.d(rt,{N:()=>$});const $=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},2782:(Xt,rt,N)=>{"use strict";function a($){setTimeout(()=>{throw $},0)}N.d(rt,{z:()=>a})},5379:(Xt,rt,N)=>{"use strict";function a($){return $}N.d(rt,{y:()=>a})},6688:(Xt,rt,N)=>{"use strict";N.d(rt,{k:()=>a});const a=Array.isArray||($=>$&&"number"==typeof $.length)},8515:(Xt,rt,N)=>{"use strict";N.d(rt,{z:()=>a});const a=$=>$&&"number"==typeof $.length&&"function"!=typeof $},7043:(Xt,rt,N)=>{"use strict";function a($){return"function"==typeof $}N.d(rt,{m:()=>a})},7830:(Xt,rt,N)=>{"use strict";function a($){return null!==$&&"object"==typeof $}N.d(rt,{K:()=>a})},8955:(Xt,rt,N)=>{"use strict";function a($){return!!$&&"function"!=typeof $.subscribe&&"function"==typeof $.then}N.d(rt,{t:()=>a})},2866:(Xt,rt,N)=>{"use strict";function a($){return $&&"function"==typeof $.schedule}N.d(rt,{K:()=>a})},9249:(Xt,rt,N)=>{"use strict";N.d(rt,{s:()=>oe});var a=N(3650),$=N(2782),Se=N(5430),ne=N(3821),Ee=N(8515),ce=N(8955),re=N(7830);const oe=ue=>{if(ue&&"function"==typeof ue[ne.L])return(ue=>Z=>{const Fe=ue[ne.L]();if("function"!=typeof Fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Fe.subscribe(Z)})(ue);if((0,Ee.z)(ue))return(0,a.V)(ue);if((0,ce.t)(ue))return(ue=>Z=>(ue.then(Fe=>{Z.closed||(Z.next(Fe),Z.complete())},Fe=>Z.error(Fe)).then(null,$.z),Z))(ue);if(ue&&"function"==typeof ue[Se.hZ])return(ue=>Z=>{const Fe=ue[Se.hZ]();for(;;){let ke;try{ke=Fe.next()}catch(ie){return Z.error(ie),Z}if(ke.done){Z.complete();break}if(Z.next(ke.value),Z.closed)break}return"function"==typeof Fe.return&&Z.add(()=>{Fe.return&&Fe.return()}),Z})(ue);{const Fe=`You provided ${(0,re.K)(ue)?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Fe)}}},3650:(Xt,rt,N)=>{"use strict";N.d(rt,{V:()=>a});const a=$=>V=>{for(let Se=0,Ie=$.length;Se<Ie&&!V.closed;Se++)V.next($[Se]);V.complete()}},863:(Xt,rt,N)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function $(V){if(!N.o(a,V))return Promise.resolve().then(()=>{var ne=new Error("Cannot find module '"+V+"'");throw ne.code="MODULE_NOT_FOUND",ne});var Se=a[V],Ie=Se[0];return Promise.all(Se.slice(1).map(N.e)).then(()=>N(Ie))}$.keys=()=>Object.keys(a),$.id=863,Xt.exports=$},655:(Xt,rt,N)=>{"use strict";function Se(le,Pe){var ae={};for(var be in le)Object.prototype.hasOwnProperty.call(le,be)&&Pe.indexOf(be)<0&&(ae[be]=le[be]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(be=Object.getOwnPropertySymbols(le);qe<be.length;qe++)Pe.indexOf(be[qe])<0&&Object.prototype.propertyIsEnumerable.call(le,be[qe])&&(ae[be[qe]]=le[be[qe]])}return ae}function Ie(le,Pe,ae,be){var kt,qe=arguments.length,Ve=qe<3?Pe:null===be?be=Object.getOwnPropertyDescriptor(Pe,ae):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(le,Pe,ae,be);else for(var Yt=le.length-1;Yt>=0;Yt--)(kt=le[Yt])&&(Ve=(qe<3?kt(Ve):qe>3?kt(Pe,ae,Ve):kt(Pe,ae))||Ve);return qe>3&&Ve&&Object.defineProperty(Pe,ae,Ve),Ve}function Ee(le,Pe,ae,be){return new(ae||(ae=Promise))(function(Ve,kt){function Yt(et){try{it(be.next(et))}catch(Ze){kt(Ze)}}function at(et){try{it(be.throw(et))}catch(Ze){kt(Ze)}}function it(et){et.done?Ve(et.value):function qe(Ve){return Ve instanceof ae?Ve:new ae(function(kt){kt(Ve)})}(et.value).then(Yt,at)}it((be=be.apply(le,Pe||[])).next())})}N.d(rt,{_T:()=>Se,gn:()=>Ie,mG:()=>Ee})},9808:(Xt,rt,N)=>{"use strict";N.d(rt,{mr:()=>Je,Ov:()=>ot,ez:()=>po,K0:()=>me,Do:()=>Qe,V_:()=>re,Ye:()=>we,S$:()=>Ae,sg:()=>xn,O5:()=>Y,tP:()=>_n,b0:()=>J,lw:()=>Ee,EM:()=>ai,JF:()=>wi,PM:()=>Mi,w_:()=>ne,bD:()=>pi,q:()=>V,Mx:()=>ei,HT:()=>Ie});var a=N(6435);let $=null;function V(){return $}function Ie(O){$||($=O)}class ne{}const me=new a.OlP("DocumentToken");let Ee=(()=>{class O{historyGo(F){throw new Error("Not implemented")}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275prov=a.Yz7({token:O,factory:function(){return function ce(){return(0,a.LFG)(oe)}()},providedIn:"platform"}),O})();const re=new a.OlP("Location Initialized");let oe=(()=>{class O extends Ee{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(F){const ee=V().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",F,!1),()=>ee.removeEventListener("popstate",F)}onHashChange(F){const ee=V().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",F,!1),()=>ee.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,ee,Oe){ue()?this._history.pushState(F,ee,Oe):this.location.hash=Oe}replaceState(F,ee,Oe){ue()?this._history.replaceState(F,ee,Oe):this.location.hash=Oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return O.\u0275fac=function(F){return new(F||O)(a.LFG(me))},O.\u0275prov=a.Yz7({token:O,factory:function(){return function Z(){return new oe((0,a.LFG)(me))}()},providedIn:"platform"}),O})();function ue(){return!!window.history.pushState}function Fe(O,W){if(0==O.length)return W;if(0==W.length)return O;let F=0;return O.endsWith("/")&&F++,W.startsWith("/")&&F++,2==F?O+W.substring(1):1==F?O+W:O+"/"+W}function ke(O){const W=O.match(/#|\?|$/),F=W&&W.index||O.length;return O.slice(0,F-("/"===O[F-1]?1:0))+O.slice(F)}function ie(O){return O&&"?"!==O[0]?"?"+O:O}let Ae=(()=>{class O{historyGo(F){throw new Error("Not implemented")}}return O.\u0275fac=function(F){return new(F||O)},O.\u0275prov=a.Yz7({token:O,factory:function(){return function fe(O){const W=(0,a.LFG)(me).location;return new J((0,a.LFG)(Ee),W&&W.origin||"")}()},providedIn:"root"}),O})();const Je=new a.OlP("appBaseHref");let J=(()=>{class O extends Ae{constructor(F,ee){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==ee&&(ee=this._platformLocation.getBaseHrefFromDOM()),null==ee)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ee}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Fe(this._baseHref,F)}path(F=!1){const ee=this._platformLocation.pathname+ie(this._platformLocation.search),Oe=this._platformLocation.hash;return Oe&&F?`${ee}${Oe}`:ee}pushState(F,ee,Oe,gt){const Nt=this.prepareExternalUrl(Oe+ie(gt));this._platformLocation.pushState(F,ee,Nt)}replaceState(F,ee,Oe,gt){const Nt=this.prepareExternalUrl(Oe+ie(gt));this._platformLocation.replaceState(F,ee,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ee,Oe;null===(Oe=(ee=this._platformLocation).historyGo)||void 0===Oe||Oe.call(ee,F)}}return O.\u0275fac=function(F){return new(F||O)(a.LFG(Ee),a.LFG(Je,8))},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac}),O})(),Qe=(()=>{class O extends Ae{constructor(F,ee){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(F){const ee=Fe(this._baseHref,F);return ee.length>0?"#"+ee:ee}pushState(F,ee,Oe,gt){let Nt=this.prepareExternalUrl(Oe+ie(gt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState(F,ee,Nt)}replaceState(F,ee,Oe,gt){let Nt=this.prepareExternalUrl(Oe+ie(gt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState(F,ee,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var ee,Oe;null===(Oe=(ee=this._platformLocation).historyGo)||void 0===Oe||Oe.call(ee,F)}}return O.\u0275fac=function(F){return new(F||O)(a.LFG(Ee),a.LFG(Je,8))},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac}),O})(),we=(()=>{class O{constructor(F,ee){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const Oe=this._platformStrategy.getBaseHref();this._platformLocation=ee,this._baseHref=ke(Be(Oe)),this._platformStrategy.onPopState(gt=>{this._subject.emit({url:this.path(!0),pop:!0,state:gt.state,type:gt.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,ee=""){return this.path()==this.normalize(F+ie(ee))}normalize(F){return O.stripTrailingSlash(function lt(O,W){return O&&W.startsWith(O)?W.substring(O.length):W}(this._baseHref,Be(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,ee="",Oe=null){this._platformStrategy.pushState(Oe,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ie(ee)),Oe)}replaceState(F,ee="",Oe=null){this._platformStrategy.replaceState(Oe,"",F,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+ie(ee)),Oe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var ee,Oe;null===(Oe=(ee=this._platformStrategy).historyGo)||void 0===Oe||Oe.call(ee,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)}))}_notifyUrlChangeListeners(F="",ee){this._urlChangeListeners.forEach(Oe=>Oe(F,ee))}subscribe(F,ee,Oe){return this._subject.subscribe({next:F,error:ee,complete:Oe})}}return O.normalizeQueryParams=ie,O.joinWithSlash=Fe,O.stripTrailingSlash=ke,O.\u0275fac=function(F){return new(F||O)(a.LFG(Ae),a.LFG(Ee))},O.\u0275prov=a.Yz7({token:O,factory:function(){return function We(){return new we((0,a.LFG)(Ae),(0,a.LFG)(Ee))}()},providedIn:"root"}),O})();function Be(O){return O.replace(/\/index.html$/,"")}function ei(O,W){W=encodeURIComponent(W);for(const F of O.split(";")){const ee=F.indexOf("="),[Oe,gt]=-1==ee?[F,""]:[F.slice(0,ee),F.slice(ee+1)];if(Oe.trim()===W)return decodeURIComponent(gt)}return null}class jr{constructor(W,F,ee,Oe){this.$implicit=W,this.ngForOf=F,this.index=ee,this.count=Oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xn=(()=>{class O{constructor(F,ee,Oe){this._viewContainer=F,this._template=ee,this._differs=Oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const ee=this._viewContainer;F.forEachOperation((Oe,gt,Nt)=>{if(null==Oe.previousIndex)ee.createEmbeddedView(this._template,new jr(Oe.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)ee.remove(null===gt?void 0:gt);else if(null!==gt){const jt=ee.get(gt);ee.move(jt,Nt),ti(jt,Oe)}});for(let Oe=0,gt=ee.length;Oe<gt;Oe++){const jt=ee.get(Oe).context;jt.index=Oe,jt.count=gt,jt.ngForOf=this._ngForOf}F.forEachIdentityChange(Oe=>{ti(ee.get(Oe.currentIndex),Oe)})}static ngTemplateContextGuard(F,ee){return!0}}return O.\u0275fac=function(F){return new(F||O)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},O.\u0275dir=a.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),O})();function ti(O,W){O.context.$implicit=W.item}let Y=(()=>{class O{constructor(F,ee){this._viewContainer=F,this._context=new de,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){K("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){K("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,ee){return!0}}return O.\u0275fac=function(F){return new(F||O)(a.Y36(a.s_b),a.Y36(a.Rgc))},O.\u0275dir=a.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),O})();class de{constructor(){this.$implicit=null,this.ngIf=null}}function K(O,W){if(W&&!W.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,a.AaK)(W)}'.`)}let _n=(()=>{class O{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(F){if(F.ngTemplateOutlet){const ee=this._viewContainerRef;this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ee.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return O.\u0275fac=function(F){return new(F||O)(a.Y36(a.s_b))},O.\u0275dir=a.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),O})();class Sr{createSubscription(W,F){return W.subscribe({next:F,error:ee=>{throw ee}})}dispose(W){W.unsubscribe()}onDestroy(W){W.unsubscribe()}}class Br{createSubscription(W,F){return W.then(F,ee=>{throw ee})}dispose(W){}onDestroy(W){}}const Ye=new Br,je=new Sr;let ot=(()=>{class O{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,ee=>this._updateLatestValue(F,ee))}_selectStrategy(F){if((0,a.QGY)(F))return Ye;if((0,a.F4k)(F))return je;throw function nr(O,W){return new a.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,ee){F===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return O.\u0275fac=function(F){return new(F||O)(a.Y36(a.sBO,16))},O.\u0275pipe=a.Yjl({name:"async",type:O,pure:!1}),O})(),po=(()=>{class O{}return O.\u0275fac=function(F){return new(F||O)},O.\u0275mod=a.oAB({type:O}),O.\u0275inj=a.cJS({}),O})();const pi="browser";function Mi(O){return"server"===O}let ai=(()=>{class O{}return O.\u0275prov=(0,a.Yz7)({token:O,providedIn:"root",factory:()=>new bs((0,a.LFG)(me),window)}),O})();class bs{constructor(W,F){this.document=W,this.window=F,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const F=function cs(O,W){const F=O.getElementById(W)||O.getElementsByName(W)[0];if(F)return F;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const ee=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let Oe=ee.currentNode;for(;Oe;){const gt=Oe.shadowRoot;if(gt){const Nt=gt.getElementById(W)||gt.querySelector(`[name="${W}"]`);if(Nt)return Nt}Oe=ee.nextNode()}}return null}(this.document,W);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=W)}}scrollToElement(W){const F=W.getBoundingClientRect(),ee=F.left+this.window.pageXOffset,Oe=F.top+this.window.pageYOffset,gt=this.offset();this.window.scrollTo(ee-gt[0],Oe-gt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Ti(this.window.history)||Ti(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function Ti(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class wi{}},6435:(Xt,rt,N)=>{"use strict";N.d(rt,{deG:()=>is,tb:()=>gE,AFp:()=>dE,ip1:()=>cE,CZH:()=>g_,hGG:()=>aw,z2F:()=>I_,sBO:()=>zI,Sil:()=>CI,_Vd:()=>cy,EJc:()=>wI,SBq:()=>Vp,qLn:()=>Wl,vpe:()=>Qu,tBr:()=>rl,XFs:()=>tn,OlP:()=>Ai,zs3:()=>ta,ZZ4:()=>A_,aQg:()=>x_,soG:()=>y_,YKP:()=>I0,h0i:()=>Ah,PXZ:()=>LI,R0b:()=>Tu,FiY:()=>ka,Lbi:()=>pE,g9A:()=>fE,Qsj:()=>bb,FYo:()=>y0,JOm:()=>Ia,tp0:()=>il,Rgc:()=>jp,dDg:()=>_E,q4F:()=>_0,GfV:()=>v0,s_b:()=>fy,ifc:()=>ir,eFA:()=>IE,G48:()=>GI,Gpc:()=>ie,X6Q:()=>HI,_c5:()=>ow,VLi:()=>NI,c2e:()=>mE,zSh:()=>nd,wAp:()=>cr,vHH:()=>J,cg1:()=>Cu,kL8:()=>Jm,dqk:()=>Pn,sIi:()=>cc,CqO:()=>hp,QGY:()=>dp,F4k:()=>Am,RDi:()=>W,AaK:()=>Z,qOj:()=>id,TTD:()=>pi,_Bn:()=>p0,xp6:()=>rf,uIk:()=>Xf,ekj:()=>Ip,Suo:()=>H0,Xpm:()=>se,lG2:()=>zn,Yz7:()=>rn,cJS:()=>vn,oAB:()=>hn,Yjl:()=>gr,Y36:()=>mc,_UZ:()=>lp,GkF:()=>Iu,BQk:()=>Uo,ynx:()=>cp,qZA:()=>fh,TgZ:()=>up,EpF:()=>ld,n5z:()=>On,LFG:()=>Hr,$8M:()=>Ar,$Z:()=>Sm,NdJ:()=>ph,CRH:()=>G0,oxw:()=>fp,ALo:()=>N0,lcZ:()=>k0,Hsn:()=>Mm,F$t:()=>xm,Q6J:()=>op,s9C:()=>gp,VKq:()=>T0,WLB:()=>S0,kEZ:()=>A0,iGM:()=>U0,CHM:()=>Pr,LSH:()=>Jr,YNc:()=>ch,_uU:()=>Sp,Oqu:()=>bh,hij:()=>Ih,Gf:()=>j0});var a=N(8929),$=N(2654),V=N(2916),Se=N(6787),Ie=N(1762);class me{constructor(r,s){this.subjectFactory=r,this.selector=s}call(r,s){const{selector:u}=this,c=this.subjectFactory(),d=u(c).subscribe(r);return d.add(s.subscribe(c)),d}}var Ee=N(4327);function ce(){return new a.xQ}function oe(n){for(let r in n)if(n[r]===oe)return r;throw Error("Could not find renamed property on target object.")}function ue(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Z(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Z).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Fe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ke=oe({__forward_ref__:oe});function ie(n){return n.__forward_ref__=ie,n.toString=function(){return Z(this())},n}function Ae(n){return fe(n)?n():n}function fe(n){return"function"==typeof n&&n.hasOwnProperty(ke)&&n.__forward_ref__===ie}class J extends Error{constructor(r,s){super(function Qe(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function we(n){return"string"==typeof n?n:null==n?"":String(n)}function We(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():we(n)}function le(n,r){const s=r?` in ${r}`:"";throw new J(-201,`No provider for ${We(n)} found${s}`)}function Ke(n,r){null==n&&function ct(n,r,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function rn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gn(n){return Un(n,kn)||Un(n,Rn)}function Un(n,r){return n.hasOwnProperty(r)?n[r]:null}function In(n){return n&&(n.hasOwnProperty(dr)||n.hasOwnProperty(Vn))?n[dr]:null}const kn=oe({\u0275prov:oe}),dr=oe({\u0275inj:oe}),Rn=oe({ngInjectableDef:oe}),Vn=oe({ngInjectorDef:oe});var tn=(()=>((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn))();let En;function Ot(n){const r=En;return En=n,r}function Dr(n,r,s){const u=Gn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&tn.Optional?null:void 0!==r?r:void le(Z(n),"Injector")}function on(n){return{toString:n}.toString()}var Kt=(()=>((Kt=Kt||{})[Kt.OnPush=0]="OnPush",Kt[Kt.Default=1]="Default",Kt))(),ir=(()=>{return(n=ir||(ir={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ir;var n})();const Ur="undefined"!=typeof globalThis&&globalThis,pr="undefined"!=typeof window&&window,dn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pn=Ur||"undefined"!=typeof global&&global||pr||dn,It={},Lt=[],yn=oe({\u0275cmp:oe}),en=oe({\u0275dir:oe}),Tn=oe({\u0275pipe:oe}),Ne=oe({\u0275mod:oe}),ge=oe({\u0275fac:oe}),$e=oe({__NG_ELEMENT_ID__:oe});let dt=0;function se(n){return on(()=>{const s={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Lt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,id:"c",styles:n.styles||Lt,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,d=n.features,y=n.pipes;return u.id+=dt++,u.inputs=pn(n.inputs,s),u.outputs=pn(n.outputs),d&&d.forEach(I=>I(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(_e):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(mt):null,u})}function _e(n){return Wn(n)||function Le(n){return n[en]||null}(n)}function mt(n){return function De(n){return n[Tn]||null}(n)}const Vt={};function hn(n){return on(()=>{const r={type:n.type,bootstrap:n.bootstrap||Lt,declarations:n.declarations||Lt,imports:n.imports||Lt,exports:n.exports||Lt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Vt[n.id]=n.type),r})}function pn(n,r){if(null==n)return It;const s={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=u,r&&(r[c]=d)}return s}const zn=se;function gr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Wn(n){return n[yn]||null}function ye(n,r){const s=n[Ne]||null;if(!s&&!0===r)throw new Error(`Type ${Z(n)} does not have '\u0275mod' property.`);return s}const K=16;function Mt(n){return Array.isArray(n)&&"object"==typeof n[1]}function nn(n){return Array.isArray(n)&&!0===n[1]}function _n(n){return 0!=(8&n.flags)}function Mn(n){return 2==(2&n.flags)}function nr(n){return 1==(1&n.flags)}function Sr(n){return null!==n.template}function Br(n){return 0!=(512&n[2])}function Ei(n,r){return n.hasOwnProperty(ge)?n[ge]:null}class po{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function pi(){return bi}function bi(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ii),go}function go(){const n=Mi(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===It)n.previous=r;else for(let u in r)s[u]=r[u];n.current=null,this.ngOnChanges(r)}}function Ii(n,r,s,u){const c=Mi(n)||function ts(n,r){return n[ni]=r}(n,{previous:It,current:null}),d=c.current||(c.current={}),y=c.previous,I=this.declaredInputs[s],S=y[I];d[I]=new po(S&&S.currentValue,r,y===It),n[u]=r}pi.ngInherit=!0;const ni="__ngSimpleChanges__";function Mi(n){return n[ni]||null}let O;function W(n){O=n}function Oe(n){return!!n.listen}const gt={createRenderer:(n,r)=>function F(){return void 0!==O?O:"undefined"!=typeof document?document:void 0}()};function jt(n){for(;Array.isArray(n);)n=n[0];return n}function Ir(n,r){return jt(r[n])}function Yn(n,r){return jt(r[n.index])}function br(n,r){return n.data[r]}function Xr(n,r){const s=r[n];return Mt(s)?s:s[0]}function Bi(n){return 4==(4&n[2])}function $i(n){return 128==(128&n[2])}function k(n,r){return null==r?null:n[r]}function x(n){n[18]=0}function T(n,r){n[5]+=r;let s=n,u=n[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const H={lFrame:oo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function te(){return H.bindingsEnabled}function ut(){return H.lFrame.lView}function mn(){return H.lFrame.tView}function Pr(n){return H.lFrame.contextLView=n,n[8]}function or(){let n=gi();for(;null!==n&&64===n.type;)n=n.parent;return n}function gi(){return H.lFrame.currentTNode}function ri(n,r){const s=H.lFrame;s.currentTNode=n,s.isParent=r}function hs(){return H.lFrame.isParent}function ci(){H.lFrame.isParent=!1}function ro(){return H.isInCheckNoChangesMode}function Ps(n){H.isInCheckNoChangesMode=n}function Ri(){const n=H.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function $s(){return H.lFrame.bindingIndex++}function Ju(n,r){const s=H.lFrame;s.bindingIndex=s.bindingRootIndex=n,Co(r)}function Co(n){H.lFrame.currentDirectiveIndex=n}function qs(){return H.lFrame.currentQueryIndex}function sa(n){H.lFrame.currentQueryIndex=n}function so(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function oa(n,r,s){if(s&tn.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||s&tn.Host||(c=so(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,n=d}const u=H.lFrame=ua();return u.currentTNode=r,u.lView=n,!0}function aa(n){const r=ua(),s=n[1];H.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ua(){const n=H.lFrame,r=null===n?null:n.child;return null===r?oo(n):r}function oo(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Qa(){const n=H.lFrame;return H.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ja=Qa;function la(){const n=Qa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ns(){return H.lFrame.selectedIndex}function Us(n){H.lFrame.selectedIndex=n}function ii(){const n=H.lFrame;return br(n.tView,n.selectedIndex)}function ao(n,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:S,ngAfterViewChecked:U,ngOnDestroy:z}=d;y&&(n.contentHooks||(n.contentHooks=[])).push(-s,y),I&&((n.contentHooks||(n.contentHooks=[])).push(s,I),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,I)),S&&(n.viewHooks||(n.viewHooks=[])).push(-s,S),U&&((n.viewHooks||(n.viewHooks=[])).push(s,U),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,U)),null!=z&&(n.destroyHooks||(n.destroyHooks=[])).push(s,z)}}function To(n,r,s){ha(n,r,3,s)}function da(n,r,s,u){(3&n[2])===s&&ha(n,r,s,u)}function vs(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function ha(n,r,s,u){const d=null!=u?u:-1,y=r.length-1;let I=0;for(let S=void 0!==u?65535&n[18]:0;S<y;S++)if("number"==typeof r[S+1]){if(I=r[S],null!=u&&I>=u)break}else r[S]<0&&(n[18]+=65536),(I<d||-1==d)&&(Oa(n,s,r,S),n[18]=(4294901760&n[18])+S+2),S++}function Oa(n,r,s,u){const c=s[u]<0,d=s[u+1],I=n[c?-s[u]:s[u]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(I)}finally{}}}else try{d.call(I)}finally{}}class Oi{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function di(n,r,s){const u=Oe(n);let c=0;for(;c<s.length;){const d=s[c];if("number"==typeof d){if(0!==d)break;c++;const y=s[c++],I=s[c++],S=s[c++];u?n.setAttribute(r,I,S,y):r.setAttributeNS(y,I,S)}else{const y=d,I=s[++c];So(y)?u&&n.setProperty(r,y,I):u?n.setAttribute(r,y,I):r.setAttribute(y,I),c++}}return c}function pa(n){return 3===n||4===n||6===n}function So(n){return 64===n.charCodeAt(0)}function yo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const c=r[u];"number"==typeof c?s=c:0===s||Ao(n,s,c,null,-1===s||2===s?r[++u]:null)}}return n}function Ao(n,r,s,u,c){let d=0,y=n.length;if(-1===r)y=-1;else for(;d<n.length;){const I=n[d++];if("number"==typeof I){if(I===r){y=-1;break}if(I>r){y=d-1;break}}}for(;d<n.length;){const I=n[d];if("number"==typeof I)break;if(I===s){if(null===u)return void(null!==c&&(n[d+1]=c));if(u===n[d+1])return void(n[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==y&&(n.splice(y,0,r),d=y+1),n.splice(d++,0,s),null!==u&&n.splice(d++,0,u),null!==c&&n.splice(d++,0,c)}function Ys(n){return-1!==n}function vo(n){return 32767&n}function Hs(n,r){let s=function ji(n){return n>>16}(n),u=r;for(;s>0;)u=u[15],s--;return u}let Ds=!0;function lo(n){const r=Ds;return Ds=n,r}let ps=0;function Dn(n,r){const s=Wo(n,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,Hn(u.data,n),Hn(r,null),Hn(u.blueprint,null));const c=fn(n,r),d=n.injectorIndex;if(Ys(c)){const y=vo(c),I=Hs(c,r),S=I[1].data;for(let U=0;U<8;U++)r[d+U]=I[y+U]|S[y+U]}return r[d+8]=c,d}function Hn(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Wo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function fn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,c=r;for(;null!==c;){const d=c[1],y=d.type;if(u=2===y?d.declTNode:1===y?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function bt(n,r,s){!function ga(n,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty($e)&&(u=s[$e]),null==u&&(u=s[$e]=ps++);const c=255&u;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function rs(n,r,s){if(s&tn.Optional)return n;le(r,"NodeInjector")}function D(n,r,s,u){if(s&tn.Optional&&void 0===u&&(u=null),0==(s&(tn.Self|tn.Host))){const c=n[9],d=Ot(void 0);try{return c?c.get(r,u,s&tn.Optional):Dr(r,u,s&tn.Optional)}finally{Ot(d)}}return rs(u,r,s)}function E(n,r,s,u=tn.Default,c){if(null!==n){const d=function Ue(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty($e)?n[$e]:void 0;return"number"==typeof r?r>=0?255&r:R:r}(s);if("function"==typeof d){if(!oa(r,n,u))return u&tn.Host?rs(c,s,u):D(r,s,u,c);try{const y=d(u);if(null!=y||u&tn.Optional)return y;le(s)}finally{Ja()}}else if("number"==typeof d){let y=null,I=Wo(n,r),S=-1,U=u&tn.Host?r[K][6]:null;for((-1===I||u&tn.SkipSelf)&&(S=-1===I?fn(n,r):r[I+8],-1!==S&&ln(u,!1)?(y=r[1],I=vo(S),r=Hs(S,r)):I=-1);-1!==I;){const z=r[1];if(xt(d,I,z.data)){const ve=B(I,r,s,y,u,U);if(ve!==_)return ve}S=r[I+8],-1!==S&&ln(u,r[1].data[I+8]===U)&&xt(d,I,r)?(y=z,I=vo(S),r=Hs(S,r)):I=-1}}}return D(r,s,u,c)}const _={};function R(){return new fr(or(),ut())}function B(n,r,s,u,c,d){const y=r[1],I=y.data[n+8],z=X(I,y,s,null==u?Mn(I)&&Ds:u!=y&&0!=(3&I.type),c&tn.Host&&d===I);return null!==z?Te(r,y,z,I):_}function X(n,r,s,u,c){const d=n.providerIndexes,y=r.data,I=1048575&d,S=n.directiveStart,z=d>>20,ze=c?I+z:n.directiveEnd;for(let ht=u?I:I+z;ht<ze;ht++){const Rt=y[ht];if(ht<S&&s===Rt||ht>=S&&Rt.type===s)return ht}if(c){const ht=y[S];if(ht&&Sr(ht)&&ht.type===s)return S}return null}function Te(n,r,s,u){let c=n[s];const d=r.data;if(function tu(n){return n instanceof Oi}(c)){const y=c;y.resolving&&function lt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new J(-200,`Circular dependency in DI detected for ${n}${s}`)}(We(d[s]));const I=lo(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?Ot(y.injectImpl):null;oa(n,u,tn.Default);try{c=n[s]=y.factory(void 0,d,n,u),r.firstCreatePass&&s>=u.directiveStart&&function Ra(n,r,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(u){const y=bi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==S&&Ot(S),lo(I),y.resolving=!1,Ja()}}return c}function xt(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function ln(n,r){return!(n&tn.Self||n&tn.Host&&r)}class fr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return E(this._tNode,this._lView,r,u,s)}}function On(n){return on(()=>{const r=n.prototype.constructor,s=r[ge]||Sn(r),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const d=c[ge]||Sn(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Sn(n){return fe(n)?()=>{const r=Sn(Ae(n));return r&&r()}:Ei(n)}function Ar(n){return function Bt(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const d=s[c];if(pa(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(or(),n)}const Mr="__parameters__";function qo(n,r,s){return on(()=>{const u=function Ns(n){return function(...s){if(n){const u=n(...s);for(const c in u)this[c]=u[c]}}}(r);function c(...d){if(this instanceof c)return u.apply(this,d),this;const y=new c(...d);return I.annotation=y,I;function I(S,U,z){const ve=S.hasOwnProperty(Mr)?S[Mr]:Object.defineProperty(S,Mr,{value:[]})[Mr];for(;ve.length<=z;)ve.push(null);return(ve[z]=ve[z]||[]).push(y),S}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Ai{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=rn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const is=new Ai("AnalyzeForEntryComponents");function gs(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let u=n[s];Array.isArray(u)?(r===n&&(r=n.slice(0,s)),gs(u,r)):r!==n&&r.push(u)}return r}function Eo(n,r){n.forEach(s=>Array.isArray(s)?Eo(s,r):r(s))}function gn(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function su(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Yo(n,r){const s=[];for(let u=0;u<n;u++)s.push(r);return s}function Ni(n,r,s){let u=ko(n,r);return u>=0?n[1|u]=s:(u=~u,function ou(n,r,s,u){let c=n.length;if(c==r)n.push(s,u);else if(1===c)n.push(u,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=u}}(n,u,r,s)),u}function No(n,r){const s=ko(n,r);if(s>=0)return n[1|s]}function ko(n,r){return function Na(n,r,s){let u=0,c=n.length>>s;for(;c!==u;){const d=u+(c-u>>1),y=n[d<<s];if(r===y)return d<<s;y>r?c=d:u=d+1}return~(c<<s)}(n,r,1)}const Cn={},rr="__NG_DI_FLAG__",Xn="ngTempTokenPath",lr=/\n/gm,ss="__source",Fs=oe({provide:String,useValue:oe});let _a;function Ko(n){const r=_a;return _a=n,r}function bo(n,r=tn.Default){if(void 0===_a)throw new J(203,"");return null===_a?Dr(n,void 0,r):_a.get(n,r&tn.Optional?null:void 0,r)}function Hr(n,r=tn.Default){return(function $r(){return En}()||bo)(Ae(n),r)}const uu=Hr;function Ru(n){const r=[];for(let s=0;s<n.length;s++){const u=Ae(n[s]);if(Array.isArray(u)){if(0===u.length)throw new J(900,"");let c,d=tn.Default;for(let y=0;y<u.length;y++){const I=u[y],S=_s(I);"number"==typeof S?-1===S?c=I.token:d|=S:c=I}r.push(Hr(c,d))}else r.push(Hr(u))}return r}function Ea(n,r){return n[rr]=r,n.prototype[rr]=r,n}function _s(n){return n[rr]}const rl=Ea(qo("Inject",n=>({token:n})),-1),ka=Ea(qo("Optional"),8),il=Ea(qo("SkipSelf"),4);class du{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Xo(n){return n instanceof du?n.changingThisBreaksApplicationSecurity:n}const vt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Wi=(()=>((Wi=Wi||{})[Wi.NONE=0]="NONE",Wi[Wi.HTML=1]="HTML",Wi[Wi.STYLE=2]="STYLE",Wi[Wi.SCRIPT=3]="SCRIPT",Wi[Wi.URL=4]="URL",Wi[Wi.RESOURCE_URL=5]="RESOURCE_URL",Wi))();function Jr(n){const r=function Nc(){const n=ut();return n&&n[12]}();return r?r.sanitize(Wi.URL,n)||"":function wo(n,r){const s=function Sd(n){return n instanceof du&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Xo(n):function Qn(n){return(n=String(n)).match(vt)||n.match(Fn)?n:"unsafe:"+n}(we(n))}const Kp="__ngContext__";function Xs(n,r){n[Kp]=r}function Od(n){const r=function fu(n){return n[Kp]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Bh(n){return n.ngOriginalError}function Fc(n,...r){n.error(...r)}class Wl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),u=function Dy(n){return n&&n.ngErrorLogger||Fc}(r);u(this._console,"ERROR",r),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Bh(r);for(;s&&Bh(s);)s=Bh(s);return s||null}}const xy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pn))();function $a(n){return n instanceof Function?n():n}var Ia=(()=>((Ia=Ia||{})[Ia.Important=1]="Important",Ia[Ia.DashCase=2]="DashCase",Ia))();function Gh(n,r){return undefined(n,r)}function Lc(n){const r=n[3];return nn(r)?r[3]:r}function zh(n){return ag(n[13])}function Wh(n){return ag(n[4])}function ag(n){for(;null!==n&&!nn(n);)n=n[4];return n}function Kl(n,r,s,u,c){if(null!=u){let d,y=!1;nn(u)?d=u:Mt(u)&&(y=!0,u=u[0]);const I=jt(u);0===n&&null!==s?null==c?Kh(r,s,I):pu(r,s,I,c||null,!0):1===n&&null!==s?pu(r,s,I,c||null,!0):2===n?function Jh(n,r,s){const u=Zl(n,r);u&&function Zh(n,r,s,u){Oe(n)?n.removeChild(r,s,u):r.removeChild(s)}(n,u,r,s)}(r,I,y):3===n&&r.destroyNode(I),null!=d&&function mg(n,r,s,u,c){const d=s[7];d!==jt(s)&&Kl(r,n,u,d,c);for(let I=10;I<s.length;I++){const S=s[I];yl(S[1],S,n,r,u,d)}}(r,n,d,s,c)}}function Fd(n,r,s){if(Oe(n))return n.createElement(r,s);{const u=null!==s?function wi(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===u?n.createElement(r):n.createElementNS(u,r)}}function Vc(n,r){const s=n[9],u=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,T(c,-1)),s.splice(u,1)}function Fo(n,r){if(n.length<=10)return;const s=10+r,u=n[s];if(u){const c=u[17];null!==c&&c!==n&&Vc(c,u),r>0&&(n[s-1][4]=u[4]);const d=su(n,10+r);!function ky(n,r){yl(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const y=d[19];null!==y&&y.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function hg(n,r){if(!(256&r[2])){const s=r[11];Oe(s)&&s.destroyNode&&yl(n,r,s,3,null,null),function cg(n){let r=n[13];if(!r)return fl(n[1],n);for(;r;){let s=null;if(Mt(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==n;)Mt(r)&&fl(r[1],r),r=r[3];null===r&&(r=n),Mt(r)&&fl(r[1],r),s=r&&r[4]}r=s}}(r)}}function fl(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Ly(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const c=r[s[u]];if(!(c instanceof Oi)){const d=s[u+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const I=c[d[y]],S=d[y+1];try{S.call(I)}finally{}}else try{d.call(c)}finally{}}}}(n,r),function pl(n,r){const s=n.cleanup,u=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const y=s[d+1],I="function"==typeof y?y(r):jt(r[y]),S=u[c=s[d+2]],U=s[d+3];"boolean"==typeof U?I.removeEventListener(s[d],S,U):U>=0?u[c=U]():u[c=-U].unsubscribe(),d+=2}else{const y=u[c=s[d+1]];s[d].call(y)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();r[7]=null}}(n,r),1===r[1].type&&Oe(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&nn(r[3])){s!==r[3]&&Vc(s,r);const u=r[19];null!==u&&u.detachView(n)}}}function Lu(n,r,s){return function Yh(n,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const c=n.data[u.directiveStart].encapsulation;if(c===ir.None||c===ir.Emulated)return null}return Yn(u,s)}(n,r.parent,s)}function pu(n,r,s,u,c){Oe(n)?n.insertBefore(r,s,u,c):r.insertBefore(s,u,c)}function Kh(n,r,s){Oe(n)?n.appendChild(r,s):r.appendChild(s)}function As(n,r,s,u,c){null!==u?pu(n,r,s,u,c):Kh(n,r,s)}function Zl(n,r){return Oe(n)?n.parentNode(r):r.parentNode}function gu(n,r,s){return fg(n,r,s)}let fg=function Qh(n,r,s){return 40&n.type?Yn(n,s):null};function ja(n,r,s,u){const c=Lu(n,u,r),d=r[11],I=gu(u.parent||r[6],u,r);if(null!=c)if(Array.isArray(s))for(let S=0;S<s.length;S++)As(d,c,s[S],I,!1);else As(d,c,s,I,!1)}function Ha(n,r){if(null!==r){const s=r.type;if(3&s)return Yn(r,n);if(4&s)return ml(-1,n[r.index]);if(8&s){const u=r.child;if(null!==u)return Ha(n,u);{const c=n[r.index];return nn(c)?ml(-1,c):jt(c)}}if(32&s)return Gh(r,n)()||jt(n[r.index]);{const u=gl(n,r);return null!==u?Array.isArray(u)?u[0]:Ha(Lc(n[K]),u):Ha(n,r.next)}}return null}function gl(n,r){return null!==r?n[K][6].projection[r.projection]:null}function ml(n,r){const s=10+n+1;if(s<r.length){const u=r[s],c=u[1].firstChild;if(null!==c)return Ha(u,c)}return r[7]}function $c(n,r,s,u,c,d,y){for(;null!=s;){const I=u[s.index],S=s.type;if(y&&0===r&&(I&&Xs(jt(I),u),s.flags|=4),64!=(64&s.flags))if(8&S)$c(n,r,s.child,u,c,d,!1),Kl(r,n,c,I,d);else if(32&S){const U=Gh(s,u);let z;for(;z=U();)Kl(r,n,c,z,d);Kl(r,n,c,I,d)}else 16&S?gg(n,r,u,s,c,d):Kl(r,n,c,I,d);s=y?s.projectionNext:s.next}}function yl(n,r,s,u,c,d){$c(s,u,n.firstChild,r,c,d,!1)}function gg(n,r,s,u,c,d){const y=s[K],S=y[6].projection[u.projection];if(Array.isArray(S))for(let U=0;U<S.length;U++)Kl(r,n,c,S[U],d);else $c(n,r,S,y[3],c,d,!0)}function Vd(n,r,s){Oe(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function vl(n,r,s){Oe(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function _l(n,r,s){let u=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===u||n.charCodeAt(c+d)<=32)return c}s=c+1}}const ef="ng-template";function Vy(n,r,s){let u=0;for(;u<n.length;){let c=n[u++];if(s&&"class"===c){if(c=n[u],-1!==_l(c.toLowerCase(),r,0))return!0}else if(1===c){for(;u<n.length&&"string"==typeof(c=n[u++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function vg(n){return 4===n.type&&n.value!==ef}function By(n,r,s){return r===(4!==n.type||s?n.value:ef)}function Bd(n,r,s){let u=4;const c=n.attrs||[],d=function Uy(n){for(let r=0;r<n.length;r++)if(pa(n[r]))return r;return n.length}(c);let y=!1;for(let I=0;I<r.length;I++){const S=r[I];if("number"!=typeof S){if(!y)if(4&u){if(u=2|1&u,""!==S&&!By(n,S,s)||""===S&&1===r.length){if(Vs(u))return!1;y=!0}}else{const U=8&u?S:r[++I];if(8&u&&null!==n.attrs){if(!Vy(n.attrs,U,s)){if(Vs(u))return!1;y=!0}continue}const ve=El(8&u?"class":S,c,vg(n),s);if(-1===ve){if(Vs(u))return!1;y=!0;continue}if(""!==U){let ze;ze=ve>d?"":c[ve+1].toLowerCase();const ht=8&u?ze:null;if(ht&&-1!==_l(ht,U,0)||2&u&&U!==ze){if(Vs(u))return!1;y=!0}}}}else{if(!y&&!Vs(u)&&!Vs(S))return!1;if(y&&Vs(S))continue;y=!1,u=S|1&u}}return Vs(u)||y}function Vs(n){return 0==(1&n)}function El(n,r,s,u){if(null===r)return-1;let c=0;if(u||!s){let d=!1;for(;c<r.length;){const y=r[c];if(y===n)return c;if(3===y||6===y)d=!0;else{if(1===y||2===y){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=d?1:2}return-1}return function nf(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,n)}function tf(n,r,s=!1){for(let u=0;u<r.length;u++)if(Bd(n,r[u],s))return!0;return!1}function $d(n,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(n.length===u.length){for(let c=0;c<n.length;c++)if(n[c]!==u[c])continue e;return!0}}return!1}function _g(n,r){return n?":not("+r.trim()+")":r}function Eg(n){let r=n[0],s=1,u=2,c="",d=!1;for(;s<n.length;){let y=n[s];if("string"==typeof y)if(2&u){const I=n[++s];c+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?c+="."+y:4&u&&(c+=" "+y);else""!==c&&!Vs(y)&&(r+=_g(d,c),c=""),u=y,d=d||!Vs(u);s++}return""!==c&&(r+=_g(d,c)),r}const mr={};function rf(n){ho(mn(),ut(),ns()+n,ro())}function ho(n,r,s,u){if(!u)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&To(r,d,s)}else{const d=n.preOrderHooks;null!==d&&da(r,d,0,s)}Us(s)}function bl(n,r){return n<<17|r<<2}function Lo(n){return n>>17&32767}function Bu(n){return 2|n}function Ga(n){return(131068&n)>>2}function mu(n,r){return-131069&n|r<<2}function $u(n){return 1|n}function Pg(n,r){const s=n.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],d=s[u+1];if(-1!==d){const y=n.data[d];sa(c),y.contentQueries(2,r[d],d)}}}function Il(n,r,s,u,c,d,y,I,S,U){const z=r.blueprint.slice();return z[0]=c,z[2]=140|u,x(z),z[3]=z[15]=n,z[8]=s,z[10]=y||n&&n[10],z[11]=I||n&&n[11],z[12]=S||n&&n[12]||null,z[9]=U||n&&n[9]||null,z[6]=d,z[K]=2==r.type?n[K]:z,z}function tc(n,r,s,u,c){let d=n.data[r];if(null===d)d=function gf(n,r,s,u,c){const d=gi(),y=hs(),S=n.data[r]=function _f(n,r,s,u,c,d){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,s,r,u,c);return null===n.firstChild&&(n.firstChild=S),null!==d&&(y?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S)),S}(n,r,s,u,c),function ra(){return H.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=u,d.attrs=c;const y=function Ui(){const n=H.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return ri(d,!0),d}function ju(n,r,s,u){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(u),n.blueprint.push(u),n.data.push(null);return c}function as(n,r,s){aa(r);try{const u=n.viewQuery;null!==u&&Xd(1,u,s);const c=n.template;null!==c&&Ng(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Pg(n,r),n.staticViewQueries&&Xd(2,n.viewQuery,s);const d=n.components;null!==d&&function Ky(n,r){for(let s=0;s<r.length;s++)iv(n,r[s])}(r,d)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,la()}}function nc(n,r,s,u){const c=r[2];if(256==(256&c))return;aa(r);const d=ro();try{x(r),function mi(n){return H.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Ng(n,r,s,2,u);const y=3==(3&c);if(!d)if(y){const U=n.preOrderCheckHooks;null!==U&&To(r,U,null)}else{const U=n.preOrderHooks;null!==U&&da(r,U,0,null),vs(r,0)}if(function Af(n){for(let r=zh(n);null!==r;r=Wh(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const c=s[u],d=c[3];0==(1024&c[2])&&T(d,1),c[2]|=1024}}}(r),function nv(n){for(let r=zh(n);null!==r;r=Wh(r))for(let s=10;s<r.length;s++){const u=r[s],c=u[1];$i(u)&&nc(c,u,c.template,u[8])}}(r),null!==n.contentQueries&&Pg(n,r),!d)if(y){const U=n.contentCheckHooks;null!==U&&To(r,U)}else{const U=n.contentHooks;null!==U&&da(r,U,1),vs(r,1)}!function Og(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)Us(~c);else{const d=c,y=s[++u],I=s[++u];Ju(y,d),I(2,r[d])}}}finally{Us(-1)}}(n,r);const I=n.components;null!==I&&function pf(n,r){for(let s=0;s<r.length;s++)rv(n,r[s])}(r,I);const S=n.viewQuery;if(null!==S&&Xd(2,S,u),!d)if(y){const U=n.viewCheckHooks;null!==U&&To(r,U)}else{const U=n.viewHooks;null!==U&&da(r,U,2),vs(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),d||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,T(r[3],-1))}finally{la()}}function Zy(n,r,s,u){const c=r[10],d=!ro(),y=Bi(r);try{d&&!y&&c.begin&&c.begin(),y&&as(n,r,u),nc(n,r,s,u)}finally{d&&!y&&c.end&&c.end()}}function Ng(n,r,s,u,c){const d=ns(),y=2&u;try{Us(-1),y&&r.length>20&&ho(n,r,20,ro()),s(u,c)}finally{Us(d)}}function kg(n,r,s){if(_n(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const y=n.data[d];y.contentQueries&&y.contentQueries(1,s[d],d)}}}function mf(n,r,s){!te()||(function Jy(n,r,s,u){const c=s.directiveStart,d=s.directiveEnd;n.firstCreatePass||Dn(s,r),Xs(u,r);const y=s.initialInputs;for(let I=c;I<d;I++){const S=n.data[I],U=Sr(S);U&&Xc(r,s,S);const z=Te(r,n,I,s);Xs(z,r),null!==y&&Cf(0,I-c,z,S,0,y),U&&(Xr(s.index,r)[8]=z)}}(n,r,s,Yn(s,r)),128==(128&s.flags)&&function ev(n,r,s){const u=s.directiveStart,c=s.directiveEnd,y=s.index,I=function zo(){return H.lFrame.currentDirectiveIndex}();try{Us(y);for(let S=u;S<c;S++){const U=n.data[S],z=r[S];Co(S),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&Bg(U,z)}}finally{Us(-1),Co(I)}}(n,r,s))}function yf(n,r,s=Yn){const u=r.localNames;if(null!==u){let c=r.index+1;for(let d=0;d<u.length;d+=2){const y=u[d+1],I=-1===y?s(r,n):n[y];n[c++]=I}}}function Wd(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Wc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Wc(n,r,s,u,c,d,y,I,S,U){const z=20+u,ve=z+c,ze=function Fg(n,r){const s=[];for(let u=0;u<r;u++)s.push(u<n?null:mr);return s}(z,ve),ht="function"==typeof U?U():U;return ze[1]={type:n,blueprint:ze,template:s,queries:null,viewQuery:I,declTNode:r,data:ze.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:ht,incompleteFirstPass:!1}}function qc(n,r,s,u){const c=Hg(r);null===s?c.push(u):(c.push(s),n.firstCreatePass&&Qd(n).push(u,c.length-1))}function Yd(n,r,s){for(let u in n)if(n.hasOwnProperty(u)){const c=n[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,c):s[u]=[r,c]}return s}function Vo(n,r,s,u,c,d,y,I){const S=Yn(r,s);let z,U=r.inputs;!I&&null!=U&&(z=U[u])?(zg(n,s,z,u,c),Mn(r)&&function Vg(n,r){const s=Xr(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(u=function Lg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=y?y(c,r.value||"",u):c,Oe(d)?d.setProperty(S,u,c):So(u)||(S.setProperty?S.setProperty(u,c):S[u]=c))}function Kc(n,r,s,u){let c=!1;if(te()){const d=function tv(n,r,s){const u=n.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const y=u[d];tf(s,y.selectors,!1)&&(c||(c=[]),bt(Dn(s,r),n,y.type),Sr(y)?(ic(n,s),c.unshift(y)):c.push(y))}return c}(n,r,s),y=null===u?null:{"":-1};if(null!==d){c=!0,Kd(s,n.data.length,d.length);for(let z=0;z<d.length;z++){const ve=d[z];ve.providersResolver&&ve.providersResolver(ve)}let I=!1,S=!1,U=ju(n,r,d.length,null);for(let z=0;z<d.length;z++){const ve=d[z];s.mergedAttrs=yo(s.mergedAttrs,ve.hostAttrs),Zc(n,s,r,U,ve),sc(U,ve,y),null!==ve.contentQueries&&(s.flags|=8),(null!==ve.hostBindings||null!==ve.hostAttrs||0!==ve.hostVars)&&(s.flags|=128);const ze=ve.type.prototype;!I&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),I=!0),!S&&(ze.ngOnChanges||ze.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),S=!0),U++}!function Ef(n,r){const u=r.directiveEnd,c=n.data,d=r.attrs,y=[];let I=null,S=null;for(let U=r.directiveStart;U<u;U++){const z=c[U],ve=z.inputs,ze=null===d||vg(r)?null:Tf(ve,d);y.push(ze),I=Yd(ve,U,I),S=Yd(z.outputs,U,S)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=I,r.outputs=S}(n,s)}y&&function Df(n,r,s){if(r){const u=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new J(-301,!1);u.push(r[c],d)}}}(s,u,y)}return s.mergedAttrs=yo(s.mergedAttrs,s.attrs),c}function wf(n,r,s,u,c,d){const y=d.hostBindings;if(y){let I=n.hostBindingOpCodes;null===I&&(I=n.hostBindingOpCodes=[]);const S=~r.index;(function Qy(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=S&&I.push(S),I.push(u,c,y)}}function Bg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ic(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function sc(n,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=n;Sr(r)&&(s[""]=n)}}function Kd(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Zc(n,r,s,u,c){n.data[u]=c;const d=c.factory||(c.factory=Ei(c.type)),y=new Oi(d,Sr(c),null);n.blueprint[u]=y,s[u]=y,wf(n,r,0,u,ju(n,s,c.hostVars,mr),c)}function Xc(n,r,s){const u=Yn(r,n),c=Wd(s),d=n[10],y=Dl(n,Il(n,c,null,s.onPush?64:16,u,r,d,d.createRenderer(u,s),null,null));n[r.index]=y}function ea(n,r,s,u,c,d){const y=Yn(n,r);!function Zd(n,r,s,u,c,d,y){if(null==d)Oe(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const I=null==y?we(d):y(d,u||"",c);Oe(n)?n.setAttribute(r,c,I,s):s?r.setAttributeNS(s,c,I):r.setAttribute(c,I)}}(r[11],y,d,n.value,s,u,c)}function Cf(n,r,s,u,c,d){const y=d[r];if(null!==y){const I=u.setInput;for(let S=0;S<y.length;){const U=y[S++],z=y[S++],ve=y[S++];null!==I?u.setInput(s,ve,U,z):s[z]=ve}}}function Tf(n,r){let s=null,u=0;for(;u<r.length;){const c=r[u];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[u+1])),u+=2}else u+=2;else u+=4}return s}function Sf(n,r,s,u){return new Array(n,!0,!1,r,null,0,u,s,null,null)}function rv(n,r){const s=Xr(r,n);if($i(s)){const u=s[1];80&s[2]?nc(u,s,u.template,s[8]):s[5]>0&&Qc(s)}}function Qc(n){for(let u=zh(n);null!==u;u=Wh(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const y=d[1];nc(y,d,y.template,d[8])}else d[5]>0&&Qc(d)}const s=n[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=Xr(s[u],n);$i(c)&&c[5]>0&&Qc(c)}}function iv(n,r){const s=Xr(r,n),u=s[1];(function xf(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(u,s),as(u,s,s[8])}function Dl(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Jc(n){for(;n;){n[2]|=64;const r=Lc(n);if(Br(n)&&!r)return n;n=r}return null}function ed(n,r,s){const u=r[10];u.begin&&u.begin();try{nc(n,r,n.template,s)}catch(c){throw Jd(r,c),c}finally{u.end&&u.end()}}function Ug(n){!function Hu(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],u=Od(s),c=u[1];Zy(c,u,c.template,s)}}(n[8])}function Xd(n,r,s){sa(0),r(n,s)}const Mf=(()=>Promise.resolve(null))();function Hg(n){return n[7]||(n[7]=[])}function Qd(n){return n.cleanup||(n.cleanup=[])}function Jd(n,r){const s=n[9],u=s?s.get(Wl,null):null;u&&u.handleError(r)}function zg(n,r,s,u,c){for(let d=0;d<s.length;){const y=s[d++],I=s[d++],S=r[y],U=n.data[y];null!==U.setInput?U.setInput(S,c,u,I):S[I]=c}}function wa(n,r,s){const u=Ir(r,n);!function ug(n,r,s){Oe(n)?n.setValue(r,s):r.textContent=s}(n[11],u,s)}function td(n,r,s){let u=s?n.styles:null,c=s?n.classes:null,d=0;if(null!==r)for(let y=0;y<r.length;y++){const I=r[y];"number"==typeof I?d=I:1==d?c=Fe(c,I):2==d&&(u=Fe(u,I+": "+r[++y]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=c:n.classesWithoutHost=c}const Gu=new Ai("INJECTOR",-1);class vu{get(r,s=Cn){if(s===Cn){const u=new Error(`NullInjectorError: No provider for ${Z(r)}!`);throw u.name="NullInjectorError",u}return s}}const nd=new Ai("Set Injector scope."),qa={},oc={};let eh;function Cl(){return void 0===eh&&(eh=new vu),eh}function qg(n,r=null,s=null,u){const c=Yg(n,r,s,u);return c._resolveInjectorDefTypes(),c}function Yg(n,r=null,s=null,u){return new Pf(n,s,r||Cl(),u)}class Pf{constructor(r,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&Eo(s,I=>this.processProvider(I,r,s)),Eo([r],I=>this.processInjectorType(I,[],d)),this.records.set(Gu,ac(void 0,this));const y=this.records.get(nd);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof r?null:Z(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=Cn,u=tn.Default){this.assertNotDestroyed();const c=Ko(this),d=Ot(void 0);try{if(!(u&tn.SkipSelf)){let I=this.records.get(r);if(void 0===I){const S=function Qg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ai}(r)&&Gn(r);I=S&&this.injectableDefInScope(S)?ac(rd(r),qa):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(u&tn.Self?Cl():this.parent).get(r,s=u&tn.Optional&&s===Cn?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Xn]=y[Xn]||[]).unshift(Z(r)),c)throw y;return function bd(n,r,s,u){const c=n[Xn];throw r[ss]&&c.unshift(r[ss]),n.message=function Rh(n,r,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=Z(r);if(Array.isArray(r))c=r.map(Z).join(" -> ");else if("object"==typeof r){let d=[];for(let y in r)if(r.hasOwnProperty(y)){let I=r[y];d.push(y+":"+("string"==typeof I?JSON.stringify(I):Z(I)))}c=`{${d.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${n.replace(lr,"\n  ")}`}("\n"+n.message,c,s,u),n.ngTokenPath=c,n[Xn]=null,n}(y,r,"R3InjectorError",this.source)}throw y}finally{Ot(d),Ko(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,c)=>r.push(Z(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processInjectorType(r,s,u){if(!(r=Ae(r)))return!1;let c=In(r);const d=null==c&&r.ngModule||void 0,y=void 0===d?r:d,I=-1!==u.indexOf(y);if(void 0!==d&&(c=In(d)),null==c)return!1;if(null!=c.imports&&!I){let z;u.push(y);try{Eo(c.imports,ve=>{this.processInjectorType(ve,s,u)&&(void 0===z&&(z=[]),z.push(ve))})}finally{}if(void 0!==z)for(let ve=0;ve<z.length;ve++){const{ngModule:ze,providers:ht}=z[ve];Eo(ht,Rt=>this.processProvider(Rt,ze,ht||Lt))}}this.injectorDefTypes.add(y);const S=Ei(y)||(()=>new y);this.records.set(y,ac(S,qa));const U=c.providers;if(null!=U&&!I){const z=r;Eo(U,ve=>this.processProvider(ve,z,U))}return void 0!==d&&void 0!==r.providers}processProvider(r,s,u){let c=Tl(r=Ae(r))?r:Ae(r&&r.provide);const d=function kf(n,r,s){return th(n)?ac(void 0,n.useValue):ac(Kg(n),qa)}(r);if(Tl(r)||!0!==r.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=ac(void 0,qa,!0),y.factory=()=>Ru(y.multi),this.records.set(c,y)),c=r,y.multi.push(r)}this.records.set(c,d)}hydrate(r,s){return s.value===qa&&(s.value=oc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Xg(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ae(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function rd(n){const r=Gn(n),s=null!==r?r.factory:Ei(n);if(null!==s)return s;if(n instanceof Ai)throw new J(204,!1);if(n instanceof Function)return function Nf(n){const r=n.length;if(r>0)throw Yo(r,"?"),new J(204,!1);const s=function Kn(n){const r=n&&(n[kn]||n[Rn]);if(r){const s=function er(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new J(204,!1)}function Kg(n,r,s){let u;if(Tl(n)){const c=Ae(n);return Ei(c)||rd(c)}if(th(n))u=()=>Ae(n.useValue);else if(function ov(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Ru(n.deps||[]));else if(function Ff(n){return!(!n||!n.useExisting)}(n))u=()=>Hr(Ae(n.useExisting));else{const c=Ae(n&&(n.useClass||n.provide));if(!function Zg(n){return!!n.deps}(n))return Ei(c)||rd(c);u=()=>new c(...Ru(n.deps))}return u}function ac(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function th(n){return null!==n&&"object"==typeof n&&Fs in n}function Tl(n){return"function"==typeof n}let ta=(()=>{class n{static create(s,u){var c;if(Array.isArray(s))return qg({name:""},u,s,"");{const d=null!==(c=s.name)&&void 0!==c?c:"";return qg({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=Cn,n.NULL=new vu,n.\u0275prov=rn({token:n,providedIn:"any",factory:()=>Hr(Gu)}),n.__NG_ELEMENT_ID__=-1,n})();function lv(n,r){ao(Od(n)[1],or())}function id(n){let r=function Ya(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;r;){let c;if(Sr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new J(903,"");c=r.\u0275dir}if(c){if(s){u.push(c);const y=n;y.inputs=sd(n.inputs),y.declaredInputs=sd(n.declaredInputs),y.outputs=sd(n.outputs);const I=c.hostBindings;I&&Wf(n,I);const S=c.viewQuery,U=c.contentQueries;if(S&&dv(n,S),U&&hv(n,U),ue(n.inputs,c.inputs),ue(n.declaredInputs,c.declaredInputs),ue(n.outputs,c.outputs),Sr(c)&&c.data.animation){const z=n.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let y=0;y<d.length;y++){const I=d[y];I&&I.ngInherit&&I(n),I===id&&(s=!1)}}r=Object.getPrototypeOf(r)}!function cv(n){let r=0,s=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=r+=c.hostVars,c.hostAttrs=yo(c.hostAttrs,s=yo(s,c.hostAttrs))}}(u)}function sd(n){return n===It?{}:n===Lt?[]:n}function dv(n,r){const s=n.viewQuery;n.viewQuery=s?(u,c)=>{r(u,c),s(u,c)}:r}function hv(n,r){const s=n.contentQueries;n.contentQueries=s?(u,c,d)=>{r(u,c,d),s(u,c,d)}:r}function Wf(n,r){const s=n.hostBindings;n.hostBindings=s?(u,c)=>{r(u,c),s(u,c)}:r}let uc=null;function lc(){if(!uc){const n=Pn.Symbol;if(n&&n.iterator)uc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(uc=u)}}}return uc}function cc(n){return!!Zf(n)&&(Array.isArray(n)||!(n instanceof Map)&&lc()in n)}function Zf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ka(n,r,s){return n[r]=s}function Qs(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function _u(n,r,s,u){const c=Qs(n,r,s);return Qs(n,r+1,u)||c}function Xf(n,r,s,u){const c=ut();return Qs(c,$s(),r)&&(mn(),ea(ii(),c,n,r,s,u)),Xf}function Ml(n,r,s,u){return Qs(n,$s(),s)?r+we(s)+u:mr}function ch(n,r,s,u,c,d,y,I){const S=ut(),U=mn(),z=n+20,ve=U.firstCreatePass?function hm(n,r,s,u,c,d,y,I,S){const U=r.consts,z=tc(r,n,4,y||null,k(U,I));Kc(r,s,z,k(U,S)),ao(r,z);const ve=z.tViews=Wc(2,z,u,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U);return null!==r.queries&&(r.queries.template(r,z),ve.queries=r.queries.embeddedTView(z)),z}(z,U,S,r,s,u,c,d,y):U.data[z];ri(ve,!1);const ze=S[11].createComment("");ja(U,S,ze,ve),Xs(ze,S),Dl(S,S[z]=Sf(ze,S,ze,ve)),nr(ve)&&mf(U,S,ve),null!=y&&yf(S,ve,I)}function mc(n,r=tn.Default){const s=ut();return null===s?Hr(n,r):E(or(),s,Ae(n),r)}function Sm(){throw new Error("invalid")}function op(n,r,s){const u=ut();return Qs(u,$s(),r)&&Vo(mn(),ii(),u,n,r,u[11],s,!1),op}function ap(n,r,s,u,c){const y=c?"class":"style";zg(n,s,r.inputs[y],y,u)}function up(n,r,s,u){const c=ut(),d=mn(),y=20+n,I=c[11],S=c[y]=Fd(I,r,function Di(){return H.lFrame.currentNamespace}()),U=d.firstCreatePass?function Cv(n,r,s,u,c,d,y){const I=r.consts,U=tc(r,n,2,c,k(I,d));return Kc(r,s,U,k(I,y)),null!==U.attrs&&td(U,U.attrs,!1),null!==U.mergedAttrs&&td(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(y,d,c,0,r,s,u):d.data[y];ri(U,!0);const z=U.mergedAttrs;null!==z&&di(I,S,z);const ve=U.classes;null!==ve&&vl(I,S,ve);const ze=U.styles;return null!==ze&&Vd(I,S,ze),64!=(64&U.flags)&&ja(d,c,S,U),0===function M(){return H.lFrame.elementDepthCount}()&&Xs(S,c),function m(){H.lFrame.elementDepthCount++}(),nr(U)&&(mf(d,c,U),kg(d,U,c)),null!==u&&yf(c,U),up}function fh(){let n=or();hs()?ci():(n=n.parent,ri(n,!1));const r=n;!function P(){H.lFrame.elementDepthCount--}();const s=mn();return s.firstCreatePass&&(ao(s,n),_n(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function js(n){return 0!=(16&n.flags)}(r)&&ap(s,r,ut(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function tl(n){return 0!=(32&n.flags)}(r)&&ap(s,r,ut(),r.stylesWithoutHost,!1),fh}function lp(n,r,s,u){return up(n,r,s,u),fh(),lp}function cp(n,r,s){const u=ut(),c=mn(),d=n+20,y=c.firstCreatePass?function bu(n,r,s,u,c){const d=r.consts,y=k(d,u),I=tc(r,n,8,"ng-container",y);return null!==y&&td(I,y,!0),Kc(r,s,I,k(d,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,c,u,r,s):c.data[d];ri(y,!0);const I=u[d]=u[11].createComment("");return ja(c,u,I,y),Xs(I,u),nr(y)&&(mf(c,u,y),kg(c,y,u)),null!=s&&yf(u,y),cp}function Uo(){let n=or();const r=mn();return hs()?ci():(n=n.parent,ri(n,!1)),r.firstCreatePass&&(ao(r,n),_n(n)&&r.queries.elementEnd(n)),Uo}function Iu(n,r,s){return cp(n,r,s),Uo(),Iu}function ld(){return ut()}function dp(n){return!!n&&"function"==typeof n.then}function Am(n){return!!n&&"function"==typeof n.subscribe}const hp=Am;function ph(n,r,s,u){const c=ut(),d=mn(),y=or();return function Wu(n,r,s,u,c,d,y,I){const S=nr(u),z=n.firstCreatePass&&Qd(n),ve=r[8],ze=Hg(r);let ht=!0;if(3&u.type||I){const wn=Yn(u,r),Ln=I?I(wn):wn,Ut=ze.length,ar=I?Gr=>I(jt(Gr[u.index])):u.index;if(Oe(s)){let Gr=null;if(!I&&S&&(Gr=function Sv(n,r,s,u){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const y=c[d];if(y===s&&c[d+1]===u){const I=r[7],S=c[d+2];return I.length>S?I[S]:null}"string"==typeof y&&(d+=2)}return null}(n,r,c,u.index)),null!==Gr)(Gr.__ngLastListenerFn__||Gr).__ngNextListenerFn__=d,Gr.__ngLastListenerFn__=d,ht=!1;else{d=Nl(u,r,ve,d,!1);const _i=s.listen(Ln,c,d);ze.push(d,_i),z&&z.push(c,ar,Ut,Ut+1)}}else d=Nl(u,r,ve,d,!0),Ln.addEventListener(c,d,y),ze.push(d),z&&z.push(c,ar,Ut,y)}else d=Nl(u,r,ve,d,!1);const Rt=u.outputs;let un;if(ht&&null!==Rt&&(un=Rt[c])){const wn=un.length;if(wn)for(let Ln=0;Ln<wn;Ln+=2){const xa=r[un[Ln]][un[Ln+1]].subscribe(d),vd=ze.length;ze.push(d,xa),z&&z.push(c,u.index,vd,-(vd+1))}}}(d,c,c[11],y,n,r,!!s,u),ph}function dd(n,r,s,u){try{return!1!==s(u)}catch(c){return Jd(n,c),!1}}function Nl(n,r,s,u,c){return function d(y){if(y===Function)return u;const I=2&n.flags?Xr(n.index,r):r;0==(32&r[2])&&Jc(I);let S=dd(r,0,u,y),U=d.__ngNextListenerFn__;for(;U;)S=dd(r,0,U,y)&&S,U=U.__ngNextListenerFn__;return c&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function fp(n=1){return function eu(n){return(H.lFrame.contextLView=function el(n,r){for(;n>0;)r=r[15],n--;return r}(n,H.lFrame.contextLView))[8]}(n)}function pp(n,r){let s=null;const u=function $y(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===u?tf(n,d,!0):$d(u,d))return c}else s=c}return s}function xm(n){const r=ut()[K][6];if(!r.projection){const u=r.projection=Yo(n?n.length:1,null),c=u.slice();let d=r.child;for(;null!==d;){const y=n?pp(d,n):0;null!==y&&(c[y]?c[y].projectionNext=d:u[y]=d,c[y]=d),d=d.next}}}function Mm(n,r=0,s){const u=ut(),c=mn(),d=tc(c,20+n,16,null,s||null);null===d.projection&&(d.projection=r),ci(),64!=(64&d.flags)&&function pg(n,r,s){gg(r[11],0,r,s,Lu(n,s,r),gu(s.parent||r[6],s,r))}(c,u,d)}function gp(n,r,s){return hd(n,"",r,"",s),gp}function hd(n,r,s,u,c){const d=ut(),y=Ml(d,r,s,u);return y!==mr&&Vo(mn(),ii(),d,n,y,d[11],c,!1),hd}function yc(n,r,s,u,c){const d=n[s+1],y=null===r;let I=u?Lo(d):Ga(d),S=!1;for(;0!==I&&(!1===S||y);){const z=n[I+1];Av(n[I],r)&&(S=!0,n[I+1]=u?$u(z):Bu(z)),I=u?Lo(z):Ga(z)}S&&(n[s+1]=u?Bu(d):$u(d))}function Av(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&ko(n,r)>=0}function Ip(n,r){return function Ta(n,r,s,u){const c=ut(),d=mn(),y=function io(n){const r=H.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);d.firstUpdatePass&&function Dp(n,r,s,u){const c=n.data;if(null===c[s+1]){const d=c[ns()],y=function wp(n,r){return r>=n.expandoStartIndex}(n,s);(function Um(n,r){return 0!=(n.flags&(r?16:32))})(d,u)&&null===r&&!y&&(r=!1),r=function Fm(n,r,s,u){const c=function ia(n){const r=H.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=u?r.residualClasses:r.residualStyles;if(null===c)0===(u?r.classBindings:r.styleBindings)&&(s=vc(s=Tp(null,n,r,s,u),r.attrs,u),d=null);else{const y=r.directiveStylingLast;if(-1===y||n[y]!==c)if(s=Tp(c,n,r,s,u),null===d){let S=function Lm(n,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==Ga(u))return n[Lo(u)]}(n,r,u);void 0!==S&&Array.isArray(S)&&(S=Tp(null,n,r,S[1],u),S=vc(S,r.attrs,u),function Cp(n,r,s,u){n[Lo(s?r.classBindings:r.styleBindings)]=u}(n,r,u,S))}else d=function _h(n,r,s){let u;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)u=vc(u,n[d].hostAttrs,s);return vc(u,r.attrs,s)}(n,r,u)}return void 0!==d&&(u?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,u),function vh(n,r,s,u,c,d){let y=d?r.classBindings:r.styleBindings,I=Lo(y),S=Ga(y);n[u]=s;let z,U=!1;if(Array.isArray(s)){const ve=s;z=ve[1],(null===z||ko(ve,z)>0)&&(U=!0)}else z=s;if(c)if(0!==S){const ze=Lo(n[I+1]);n[u+1]=bl(ze,I),0!==ze&&(n[ze+1]=mu(n[ze+1],u)),n[I+1]=function Vu(n,r){return 131071&n|r<<17}(n[I+1],u)}else n[u+1]=bl(I,0),0!==I&&(n[I+1]=mu(n[I+1],u)),I=u;else n[u+1]=bl(S,0),0===I?I=u:n[S+1]=mu(n[S+1],u),S=u;U&&(n[u+1]=Bu(n[u+1])),yc(n,z,u,!0),yc(n,z,u,!1),function Om(n,r,s,u,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&ko(d,r)>=0&&(s[u+1]=$u(s[u+1]))}(r,z,n,u,d),y=bl(I,S),d?r.classBindings=y:r.styleBindings=y}(c,d,r,s,y,u)}}(d,n,y,u),r!==mr&&Qs(c,y,r)&&function Bm(n,r,s,u,c,d,y,I){if(!(3&r.type))return;const S=n.data,U=S[I+1];Eh(function bg(n){return 1==(1&n)}(U)?$m(S,r,s,c,Ga(U),y):void 0)||(Eh(d)||function of(n){return 2==(2&n)}(U)&&(d=$m(S,null,s,c,I,y)),function yg(n,r,s,u,c){const d=Oe(n);if(r)c?d?n.addClass(s,u):s.classList.add(u):d?n.removeClass(s,u):s.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Ia.DashCase;if(null==c)d?n.removeStyle(s,u,y):s.style.removeProperty(u);else{const I="string"==typeof c&&c.endsWith("!important");I&&(c=c.slice(0,-10),y|=Ia.Important),d?n.setStyle(s,u,c,y):s.style.setProperty(u,c,I?"important":"")}}}(u,y,Ir(ns(),s),c,d))}(d,d.data[ns()],c,c[11],n,c[y+1]=function kv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Z(Xo(n)))),n}(r,s),u,y)}(n,r,null,!0),Ip}function Tp(n,r,s,u,c){let d=null;const y=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<y&&(d=r[I],u=vc(u,d.hostAttrs,c),d!==n);)I++;return null!==n&&(s.directiveStylingLast=I),u}function vc(n,r,s){const u=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const y=r[d];"number"==typeof y?c=y:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ni(n,y,!!s||r[++d]))}return void 0===n?null:n}function $m(n,r,s,u,c,d){const y=null===r;let I;for(;c>0;){const S=n[c],U=Array.isArray(S),z=U?S[1]:S,ve=null===z;let ze=s[c+1];ze===mr&&(ze=ve?Lt:void 0);let ht=ve?No(ze,u):z===u?ze:void 0;if(U&&!Eh(ht)&&(ht=No(S,u)),Eh(ht)&&(I=ht,y))return I;const Rt=n[c+1];c=y?Lo(Rt):Ga(Rt)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(I=No(S,u))}return I}function Eh(n){return void 0!==n}function Sp(n,r=""){const s=ut(),u=mn(),c=n+20,d=u.firstCreatePass?tc(u,c,1,r,null):u.data[c],y=s[c]=function qh(n,r){return Oe(n)?n.createText(r):n.createTextNode(r)}(s[11],r);ja(u,s,y,d),ri(d,!1)}function bh(n){return Ih("",n,""),bh}function Ih(n,r,s){const u=ut(),c=Ml(u,n,r,s);return c!==mr&&wa(u,ns(),c),Ih}const Ll=void 0;var bc=["en",[["a","p"],["AM","PM"],Ll],[["AM","PM"],Ll,Ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ll,"{1} 'at' {0}",Ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kp(n){const s=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let na={};function Cu(n){const r=function e0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=ey(r);if(s)return s;const u=r.split("-")[0];if(s=ey(u),s)return s;if("en"===u)return bc;throw new Error(`Missing locale data for the locale "${n}".`)}function Jm(n){return Cu(n)[cr.PluralCase]}function ey(n){return n in na||(na[n]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[n]),na[n]}var cr=(()=>((cr=cr||{})[cr.LocaleId=0]="LocaleId",cr[cr.DayPeriodsFormat=1]="DayPeriodsFormat",cr[cr.DayPeriodsStandalone=2]="DayPeriodsStandalone",cr[cr.DaysFormat=3]="DaysFormat",cr[cr.DaysStandalone=4]="DaysStandalone",cr[cr.MonthsFormat=5]="MonthsFormat",cr[cr.MonthsStandalone=6]="MonthsStandalone",cr[cr.Eras=7]="Eras",cr[cr.FirstDayOfWeek=8]="FirstDayOfWeek",cr[cr.WeekendRange=9]="WeekendRange",cr[cr.DateFormat=10]="DateFormat",cr[cr.TimeFormat=11]="TimeFormat",cr[cr.DateTimeFormat=12]="DateTimeFormat",cr[cr.NumberSymbols=13]="NumberSymbols",cr[cr.NumberFormats=14]="NumberFormats",cr[cr.CurrencyCode=15]="CurrencyCode",cr[cr.CurrencySymbol=16]="CurrencySymbol",cr[cr.CurrencyName=17]="CurrencyName",cr[cr.Currencies=18]="Currencies",cr[cr.Directionality=19]="Directionality",cr[cr.PluralCase=20]="PluralCase",cr[cr.ExtraData=21]="ExtraData",cr))();const Ch="en-US";let ry=Ch;function Kv(n,r,s,u,c){if(n=Ae(n),Array.isArray(n))for(let d=0;d<n.length;d++)Kv(n[d],r,s,u,c);else{const d=mn(),y=ut();let I=Tl(n)?n:Ae(n.provide),S=Kg(n);const U=or(),z=1048575&U.providerIndexes,ve=U.directiveStart,ze=U.providerIndexes>>20;if(Tl(n)||!n.multi){const ht=new Oi(S,c,mc),Rt=Xv(I,r,c?z:z+ze,ve);-1===Rt?(bt(Dn(U,y),d,I),Zv(d,n,r.length),r.push(I),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(ht),y.push(ht)):(s[Rt]=ht,y[Rt]=ht)}else{const ht=Xv(I,r,z+ze,ve),Rt=Xv(I,r,z,z+ze),un=ht>=0&&s[ht],wn=Rt>=0&&s[Rt];if(c&&!wn||!c&&!un){bt(Dn(U,y),d,I);const Ln=function gb(n,r,s,u,c){const d=new Oi(n,s,mc);return d.multi=[],d.index=r,d.componentProviders=0,f0(d,c,u&&!s),d}(c?pb:fb,s.length,c,u,S);!c&&wn&&(s[Rt].providerFactory=Ln),Zv(d,n,r.length,0),r.push(I),U.directiveStart++,U.directiveEnd++,c&&(U.providerIndexes+=1048576),s.push(Ln),y.push(Ln)}else Zv(d,n,ht>-1?ht:Rt,f0(s[c?Rt:ht],S,!c&&u));!c&&u&&wn&&s[Rt].componentProviders++}}}function Zv(n,r,s,u){const c=Tl(r),d=function av(n){return!!n.useClass}(r);if(c||d){const S=(d?Ae(r.useClass):r).prototype.ngOnDestroy;if(S){const U=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const z=U.indexOf(s);-1===z?U.push(s,[u,S]):U[z+1].push(u,S)}else U.push(s,S)}}}function f0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Xv(n,r,s,u){for(let c=s;c<u;c++)if(r[c]===n)return c;return-1}function fb(n,r,s,u){return Qv(this.multi,[])}function pb(n,r,s,u){const c=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Te(s,s[1],this.providerFactory.index,u);d=I.slice(0,y),Qv(c,d);for(let S=y;S<I.length;S++)d.push(I[S])}else d=[],Qv(c,d);return d}function Qv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function p0(n,r=[]){return s=>{s.providersResolver=(u,c)=>function hb(n,r,s){const u=mn();if(u.firstCreatePass){const c=Sr(n);Kv(s,u.data,u.blueprint,c,!0),Kv(r,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,r)}}class g0{}class vb{resolveComponentFactory(r){throw function yb(n){const r=Error(`No component factory found for ${Z(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let cy=(()=>{class n{}return n.NULL=new vb,n})();function _b(){return Sh(or(),ut())}function Sh(n,r){return new Vp(Yn(n,r))}let Vp=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=_b,n})();function Eb(n){return n instanceof Vp?n.nativeElement:n}class y0{}let bb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function wb(){const n=ut(),s=Xr(or().index,n);return function Ib(n){return n[11]}(Mt(s)?s:n)}(),n})(),Db=(()=>{class n{}return n.\u0275prov=rn({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const _0=new v0("13.2.7"),Jv={};function dy(n,r,s,u,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&u.push(jt(d)),nn(d))for(let I=10;I<d.length;I++){const S=d[I],U=S[1].firstChild;null!==U&&dy(S[1],S,U,u)}const y=s.type;if(8&y)dy(n,r,s.child,u);else if(32&y){const I=Gh(s,r);let S;for(;S=I();)u.push(S)}else if(16&y){const I=gl(r,s);if(Array.isArray(I))u.push(...I);else{const S=Lc(r[K]);dy(S[1],S,I,u,!0)}}s=c?s.projectionNext:s.next}return u}class Bp{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return dy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(nn(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(Fo(r,u),su(s,u))}this._attachedToViewContainer=!1}hg(this._lView[1],this._lView)}onDestroy(r){qc(this._lView[1],this._lView,null,r)}markForCheck(){Jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ed(this._lView[1],this._lView,this.context)}checkNoChanges(){!function sv(n,r,s){Ps(!0);try{ed(n,r,s)}finally{Ps(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new J(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fy(n,r){yl(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new J(902,"");this._appRef=r}}class Cb extends Bp{constructor(r){super(r),this._view=r}detectChanges(){Ug(this._view)}checkNoChanges(){!function jg(n){Ps(!0);try{Ug(n)}finally{Ps(!1)}}(this._view)}get context(){return null}}class E0 extends cy{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Wn(r);return new e_(s,this.ngModule)}}function b0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class e_ extends g0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Uc(n){return n.map(Eg).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return b0(this.componentDef.inputs)}get outputs(){return b0(this.componentDef.outputs)}create(r,s,u,c){const d=(c=c||this.ngModule)?function Sb(n,r){return{get:(s,u,c)=>{const d=n.get(s,Jv,c);return d!==Jv||u===Jv?d:r.get(s,u,c)}}}(r,c.injector):r,y=d.get(y0,gt),I=d.get(Db,null),S=y.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",z=u?function rc(n,r,s){if(Oe(n))return n.selectRootElement(r,s===ir.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}(S,u,this.componentDef.encapsulation):Fd(y.createRenderer(null,this.componentDef),U,function Tb(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(U)),ve=this.componentDef.onPush?576:528,ze=function ih(n,r){return{components:[],scheduler:n||xy,clean:Mf,playerHandler:r||null,flags:0}}(),ht=Wc(0,null,null,1,0,null,null,null,null,null),Rt=Il(null,ht,ze,ve,null,null,y,S,I,d);let un,wn;aa(Rt);try{const Ln=function Sl(n,r,s,u,c,d){const y=s[1];s[20]=n;const S=tc(y,20,2,"#host",null),U=S.mergedAttrs=r.hostAttrs;null!==U&&(td(S,U,!0),null!==n&&(di(c,n,U),null!==S.classes&&vl(c,n,S.classes),null!==S.styles&&Vd(c,n,S.styles)));const z=u.createRenderer(n,r),ve=Il(s,Wd(r),null,r.onPush?64:16,s[20],S,u,z,d||null,null);return y.firstCreatePass&&(bt(Dn(S,s),y,r.type),ic(y,S),Kd(S,s.length,1)),Dl(s,ve),s[20]=ve}(z,this.componentDef,Rt,y,S);if(z)if(u)di(S,z,["ng-version",_0.full]);else{const{attrs:Ut,classes:ar}=function Ud(n){const r=[],s=[];let u=1,c=2;for(;u<n.length;){let d=n[u];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++u]):8===c&&s.push(d);else{if(!Vs(c))break;c=d}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Ut&&di(S,z,Ut),ar&&ar.length>0&&vl(S,z,ar.join(" "))}if(wn=br(ht,20),void 0!==s){const Ut=wn.projection=[];for(let ar=0;ar<this.ngContentSelectors.length;ar++){const Gr=s[ar];Ut.push(null!=Gr?Array.from(Gr):null)}}un=function zf(n,r,s,u,c){const d=s[1],y=function Yc(n,r,s){const u=or();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Zc(n,u,r,ju(n,r,1,null),s));const c=Te(r,n,u.directiveStart,u);Xs(c,r);const d=Yn(u,r);return d&&Xs(d,r),c}(d,s,r);if(u.components.push(y),n[8]=y,c&&c.forEach(S=>S(y,r)),r.contentQueries){const S=or();r.contentQueries(1,y,S.directiveStart)}const I=or();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Us(I.index),wf(s[1],I,0,I.directiveStart,I.directiveEnd,r),Bg(r,y)),y}(Ln,this.componentDef,Rt,ze,[lv]),as(ht,Rt,null)}finally{la()}return new xb(this.componentType,un,Sh(wn,Rt),Rt,wn)}}class xb extends class mb{}{constructor(r,s,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new Cb(c),this.componentType=r}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Ah{}class I0{}const xh=new Map;class C0 extends Ah{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const u=ye(r);this._bootstrapComponents=$a(u.bootstrap),this._r3Injector=Yg(r,s,[{provide:Ah,useValue:this},{provide:cy,useValue:this.componentFactoryResolver}],Z(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=ta.THROW_IF_NOT_FOUND,u=tn.Default){return r===ta||r===Ah||r===Gu?this:this._r3Injector.get(r,s,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class t_ extends I0{constructor(r){super(),this.moduleType=r,null!==ye(r)&&function Rb(n){const r=new Set;!function s(u){const c=ye(u,!0),d=c.id;null!==d&&(function w0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Z(r)} vs ${Z(r.name)}`)}(d,xh.get(d),u),xh.set(d,u));const y=$a(c.imports);for(const I of y)r.has(I)||(r.add(I),s(I))}(n)}(r)}create(r){return new C0(this.moduleType,r)}}function T0(n,r,s,u){return x0(ut(),Ri(),n,r,s,u)}function S0(n,r,s,u,c){return function M0(n,r,s,u,c,d,y){const I=r+s;return _u(n,I,c,d)?Ka(n,I+2,y?u.call(y,c,d):u(c,d)):$p(n,I+2)}(ut(),Ri(),n,r,s,u,c)}function A0(n,r,s,u,c,d){return function R0(n,r,s,u,c,d,y,I){const S=r+s;return function dc(n,r,s,u,c){const d=_u(n,r,s,u);return Qs(n,r+2,c)||d}(n,S,c,d,y)?Ka(n,S+3,I?u.call(I,c,d,y):u(c,d,y)):$p(n,S+3)}(ut(),Ri(),n,r,s,u,c,d)}function $p(n,r){const s=n[r];return s===mr?void 0:s}function x0(n,r,s,u,c,d){const y=r+s;return Qs(n,y,c)?Ka(n,y+1,d?u.call(d,c):u(c)):$p(n,y+1)}function N0(n,r){const s=mn();let u;const c=n+20;s.firstCreatePass?(u=function Bb(n,r){if(r)for(let s=r.length-1;s>=0;s--){const u=r[s];if(n===u.name)return u}}(r,s.pipeRegistry),s.data[c]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,u.onDestroy)):u=s.data[c];const d=u.factory||(u.factory=Ei(u.type)),y=Ot(mc);try{const I=lo(!1),S=d();return lo(I),function fm(n,r,s,u){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=u}(s,ut(),c,S),S}finally{Ot(y)}}function k0(n,r,s){const u=n+20,c=ut(),d=function zr(n,r){return n[r]}(c,u);return function Up(n,r){return n[1].data[r].pure}(c,u)?x0(c,Ri(),r,d.transform,s,d):d.transform(s)}function n_(n){return r=>{setTimeout(n,void 0,r)}}const Qu=class Gb extends a.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){var c,d,y;let I=r,S=s||(()=>null),U=u;if(r&&"object"==typeof r){const ve=r;I=null===(c=ve.next)||void 0===c?void 0:c.bind(ve),S=null===(d=ve.error)||void 0===d?void 0:d.bind(ve),U=null===(y=ve.complete)||void 0===y?void 0:y.bind(ve)}this.__isAsync&&(S=n_(S),I&&(I=n_(I)),U&&(U=n_(U)));const z=super.subscribe({next:I,error:S,complete:U});return r instanceof $.w&&r.add(z),z}};function zb(){return this._results[lc()]()}class r_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=lc(),u=r_.prototype;u[s]||(u[s]=zb)}get changes(){return this._changes||(this._changes=new Qu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const c=gs(r);(this._changesDetected=!function Ts(n,r,s){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],d=r[u];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let jp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Yb,n})();const Wb=jp,qb=class extends Wb{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r){const s=this._declarationTContainer.tViews,u=Il(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(s)),as(s,u,r),new Bp(u)}};function Yb(){return hy(or(),ut())}function hy(n,r){return 4&n.type?new qb(r,n,Sh(n,r)):null}let fy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kb,n})();function Kb(){return V0(or(),ut())}const Zb=fy,F0=class extends Zb{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return Sh(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){const r=fn(this._hostTNode,this._hostLView);if(Ys(r)){const s=Hs(r,this._hostLView),u=vo(r);return new fr(s[1].data[u+8],s)}return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=L0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){const c=r.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(r,s,u,c,d){const y=r&&!function Ro(n){return"function"==typeof n}(r);let I;if(y)I=s;else{const ve=s||{};I=ve.index,u=ve.injector,c=ve.projectableNodes,d=ve.ngModuleRef}const S=y?r:new e_(Wn(r)),U=u||this.parentInjector;if(!d&&null==S.ngModule){const ze=(y?U:this.parentInjector).get(Ah,null);ze&&(d=ze)}const z=S.create(U,c,void 0,d);return this.insert(z.hostView,I),z}insert(r,s){const u=r._lView,c=u[1];if(function li(n){return nn(n[3])}(u)){const z=this.indexOf(r);if(-1!==z)this.detach(z);else{const ve=u[3],ze=new F0(ve,ve[6],ve[3]);ze.detach(ze.indexOf(r))}}const d=this._adjustIndex(s),y=this._lContainer;!function dg(n,r,s,u){const c=10+u,d=s.length;u>0&&(s[c-1][4]=r),u<d-10?(r[4]=s[c],gn(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function St(n,r){const s=n[9];r[K]!==r[3][3][K]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(y,r);const I=r[19];null!==I&&I.insertView(n),r[2]|=128}(c,u,y,d);const I=ml(d,y),S=u[11],U=Zl(S,y[7]);return null!==U&&function lg(n,r,s,u,c,d){u[0]=c,u[6]=r,yl(n,u,s,1,c,d)}(c,y[6],S,u,U,I),r.attachToViewContainerRef(),gn(i_(y),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=L0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=Fo(this._lContainer,s);u&&(su(i_(this._lContainer),s),hg(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=Fo(this._lContainer,s);return u&&null!=su(i_(this._lContainer),s)?new Bp(u):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function L0(n){return n[8]}function i_(n){return n[8]||(n[8]=[])}function V0(n,r){let s;const u=r[n.index];if(nn(u))s=u;else{let c;if(8&n.type)c=jt(u);else{const d=r[11];c=d.createComment("");const y=Yn(n,r);pu(d,Zl(d,y),c,function Xh(n,r){return Oe(n)?n.nextSibling(r):r.nextSibling}(d,y),!1)}r[n.index]=s=Sf(u,r,c,n),Dl(r,s)}return new F0(s,n,r)}class s_{constructor(r){this.queryList=r,this.matches=null}clone(){return new s_(this.queryList)}setDirty(){this.queryList.setDirty()}}class o_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<u;d++){const y=s.getByIndex(d);c.push(this.queries[y.indexInDeclarationView].clone())}return new o_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==q0(r,s).matches&&this.queries[s].setDirty()}}class B0{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class a_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,d=this.getByIndex(u).embeddedTView(r,c);d&&(d.indexInDeclarationView=u,null!==s?s.push(d):s=[d])}return null!==s?new a_(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class u_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new u_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(r,s,Jb(s,d)),this.matchTNodeWithReadOption(r,s,X(s,r,d,!1,!1))}else u===jp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,X(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Vp||c===fy||c===jp&&4&s.type)this.addMatch(s.index,-2);else{const d=X(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Jb(n,r){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function tI(n,r,s,u){return-1===s?function eI(n,r){return 11&n.type?Sh(n,r):4&n.type?hy(n,r):null}(r,n):-2===s?function nI(n,r,s){return s===Vp?Sh(r,n):s===jp?hy(r,n):s===fy?V0(r,n):void 0}(n,r,u):Te(n,n[1],s,r)}function $0(n,r,s,u){const c=r[19].queries[u];if(null===c.matches){const d=n.data,y=s.matches,I=[];for(let S=0;S<y.length;S+=2){const U=y[S];I.push(U<0?null:tI(r,d[U],y[S+1],s.metadata.read))}c.matches=I}return c.matches}function l_(n,r,s,u){const c=n.queries.getByIndex(s),d=c.matches;if(null!==d){const y=$0(n,r,c,s);for(let I=0;I<d.length;I+=2){const S=d[I];if(S>0)u.push(y[I/2]);else{const U=d[I+1],z=r[-S];for(let ve=10;ve<z.length;ve++){const ze=z[ve];ze[17]===ze[3]&&l_(ze[1],ze,U,u)}if(null!==z[9]){const ve=z[9];for(let ze=0;ze<ve.length;ze++){const ht=ve[ze];l_(ht[1],ht,U,u)}}}}}return u}function U0(n){const r=ut(),s=mn(),u=qs();sa(u+1);const c=q0(s,u);if(n.dirty&&Bi(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?l_(s,r,u,[]):$0(s,r,c,u);n.reset(d,Eb),n.notifyOnChanges()}return!0}return!1}function j0(n,r,s){const u=mn();u.firstCreatePass&&(W0(u,new B0(n,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),z0(u,ut(),r)}function H0(n,r,s,u){const c=mn();if(c.firstCreatePass){const d=or();W0(c,new B0(r,s,u),d.index),function iI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}z0(c,ut(),s)}function G0(){return function rI(n,r){return n[19].queries[r].queryList}(ut(),qs())}function z0(n,r,s){const u=new r_(4==(4&s));qc(n,r,u,u.destroy),null===r[19]&&(r[19]=new o_),r[19].queries.push(new s_(u))}function W0(n,r,s){null===n.queries&&(n.queries=new a_),n.queries.track(new u_(r,s))}function q0(n,r){return n.queries.getByIndex(r)}function my(...n){}const cE=new Ai("Application Initializer");let g_=(()=>{class n{constructor(s){this.appInits=s,this.resolve=my,this.reject=my,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(dp(d))s.push(d);else if(hp(d)){const y=new Promise((I,S)=>{d.subscribe({complete:I,error:S})});s.push(y)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Hr(cE,8))},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dE=new Ai("AppId",{providedIn:"root",factory:function hE(){return`${m_()}${m_()}${m_()}`}});function m_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fE=new Ai("Platform Initializer"),pE=new Ai("Platform ID"),gE=new Ai("appBootstrapListener");let mE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=rn({token:n,factory:n.\u0275fac}),n})();const y_=new Ai("LocaleId",{providedIn:"root",factory:()=>uu(y_,tn.Optional|tn.SkipSelf)||function II(){return"undefined"!=typeof $localize&&$localize.locale||Ch}()}),wI=new Ai("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class DI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let CI=(()=>{class n{compileModuleSync(s){return new t_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),d=$a(ye(s).declarations).reduce((y,I)=>{const S=Wn(I);return S&&y.push(new e_(S)),y},[]);return new DI(u,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SI=(()=>Promise.resolve(0))();function v_(n){"undefined"==typeof Zone?SI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Tu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qu(!1),this.onMicrotaskEmpty=new Qu(!1),this.onStable=new Qu(!1),this.onError=new Qu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function AI(){let n=Pn.requestAnimationFrame,r=Pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function RI(n){const r=()=>{!function MI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,E_(n),n.isCheckStableRunning=!0,__(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),E_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,d,y,I)=>{try{return yE(n),s.invokeTask(c,d,y,I)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),vE(n)}},onInvoke:(s,u,c,d,y,I,S)=>{try{return yE(n),s.invoke(c,d,y,I,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),vE(n)}},onHasTask:(s,u,c,d)=>{s.hasTask(c,d),u===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,E_(n),__(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,u,c,d)=>(s.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,c){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+c,r,xI,my,my);try{return d.runTask(y,s,u)}finally{d.cancelTask(y)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const xI={};function __(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function E_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vE(n){n._nesting--,__(n)}class OI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qu,this.onMicrotaskEmpty=new Qu,this.onStable=new Qu,this.onError=new Qu}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,c){return r.apply(s,u)}}let _E=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tu.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(Hr(Tu))},n.\u0275prov=rn({token:n,factory:n.\u0275fac}),n})(),EE=(()=>{class n{constructor(){this._applications=new Map,b_.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return b_.findTestabilityInTree(this,s,u)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=rn({token:n,factory:n.\u0275fac}),n})();class PI{addToWindow(r){}findTestabilityInTree(r,s,u){return null}}function NI(n){b_=n}let Su,b_=new PI;const bE=new Ai("AllowMultipleToken");class LI{constructor(r,s){this.name=r,this.token=s}}function IE(n,r,s=[]){const u=`Platform: ${r}`,c=new Ai(u);return(d=[])=>{let y=wE();if(!y||y.injector.get(bE,!1))if(n)n(s.concat(d).concat({provide:c,useValue:!0}));else{const I=s.concat(d).concat({provide:c,useValue:!0},{provide:nd,useValue:"platform"});!function VI(n){if(Su&&!Su.destroyed&&!Su.injector.get(bE,!1))throw new J(400,"");Su=n.get(DE);const r=n.get(fE,null);r&&r.forEach(s=>s())}(ta.create({providers:I,name:u}))}return function BI(n){const r=wE();if(!r)throw new J(401,"");return r}()}}function wE(){return Su&&!Su.destroyed?Su:null}let DE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const I=function $I(n,r){let s;return s="noop"===n?new OI:("zone.js"===n?void 0:n)||new Tu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),S=[{provide:Tu,useValue:I}];return I.run(()=>{const U=ta.create({providers:S,parent:this.injector,name:s.moduleType.name}),z=s.create(U),ve=z.injector.get(Wl,null);if(!ve)throw new J(402,"");return I.runOutsideAngular(()=>{const ze=I.onError.subscribe({next:ht=>{ve.handleError(ht)}});z.onDestroy(()=>{w_(this._modules,z),ze.unsubscribe()})}),function UI(n,r,s){try{const u=s();return dp(u)?u.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(ve,I,()=>{const ze=z.injector.get(g_);return ze.runInitializers(),ze.donePromise.then(()=>(function iy(n){Ke(n,"Expected localeId to be defined"),"string"==typeof n&&(ry=n.toLowerCase().replace(/_/g,"-"))}(z.injector.get(y_,Ch)||Ch),this._moduleDoBootstrap(z),z))})})}bootstrapModule(s,u=[]){const c=CE({},u);return function kI(n,r,s){const u=new t_(s);return Promise.resolve(u)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const u=s.injector.get(I_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new J(403,"");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Hr(ta))},n.\u0275prov=rn({token:n,factory:n.\u0275fac}),n})();function CE(n,r){return Array.isArray(r)?r.reduce(CE,n):Object.assign(Object.assign({},n),r)}let I_=(()=>{class n{constructor(s,u,c,d,y){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new V.y(U=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{U.next(this._stable),U.complete()})}),S=new V.y(U=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Tu.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,U.next(!0))})})});const ve=this._zone.onUnstable.subscribe(()=>{Tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{U.next(!1)}))});return()=>{z.unsubscribe(),ve.unsubscribe()}});this.isStable=(0,Se.T)(I,S.pipe(function re(){return n=>(0,Ee.x)()(function ne(n,r){return function(u){let c;if(c="function"==typeof n?n:function(){return n},"function"==typeof r)return u.lift(new me(c,r));const d=Object.create(u,Ie.N);return d.source=u,d.subjectFactory=c,d}}(ce)(n))}()))}bootstrap(s,u){if(!this._initStatus.done)throw new J(405,"");let c;c=s instanceof g0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const d=function FI(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Ah),I=c.create(ta.NULL,[],u||c.selector,d),S=I.location.nativeElement,U=I.injector.get(_E,null),z=U&&I.injector.get(EE);return U&&z&&z.registerApplication(S,U),I.onDestroy(()=>{this.detachView(I.hostView),w_(this.components,I),z&&z.unregisterApplication(S)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new J(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;w_(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(gE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(Hr(Tu),Hr(ta),Hr(Wl),Hr(cy),Hr(g_))},n.\u0275prov=rn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let SE=!0,AE=!1;function HI(){return AE=!0,SE}function GI(){if(AE)throw new Error("Cannot enable prod mode after platform setup.");SE=!1}let zI=(()=>{class n{}return n.__NG_ELEMENT_ID__=WI,n})();function WI(n){return function qI(n,r,s){if(Mn(n)&&!s){const u=Xr(n.index,r);return new Bp(u,u)}return 47&n.type?new Bp(r[K],r):null}(or(),ut(),16==(16&n))}class OE{constructor(){}supports(r){return cc(r)}create(r){return new JI(r)}}const QI=(n,r)=>r;class JI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||QI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,c=0,d=null;for(;s||u;){const y=!u||s&&s.currentIndex<NE(u,c,d)?s:u,I=NE(y,c,d),S=y.currentIndex;if(y===u)c--,u=u._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{d||(d=[]);const U=I-c,z=S-c;if(U!=z){for(let ze=0;ze<U;ze++){const ht=ze<d.length?d[ze]:d[ze]=0,Rt=ht+ze;z<=Rt&&Rt<U&&(d[ze]=ht+1)}d[y.previousIndex]=z-U}}I!==S&&r(y,I,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!cc(r))throw new J(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,y,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],y=this._trackByFn(I,d),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,d,y,I)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,y,I),u=!0),s=s._next}else c=0,function cm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[lc()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,I=>{y=this._trackByFn(c,I),null!==s&&Object.is(s.trackById,y)?(u&&(s=this._verifyReinsertion(s,I,y,c)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,y,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new ew(s,u),d,c),r}_verifyReinsertion(r,s,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new PE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class ew{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class PE{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new tw,this.map.set(s,u)),u.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NE(n,r,s){const u=n.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+r+c}class kE{constructor(){}supports(r){return r instanceof Map||Zf(r)}create(){return new nw}}class nw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Zf(r)))throw new J(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,y=c._next;return d&&(d._next=y),y&&(y._prev=d),c._next=null,c._prev=null,c}const u=new rw(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class rw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FE(){return new A_([new OE])}let A_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||FE()),deps:[[n,new il,new ka]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new J(901,"")}}return n.\u0275prov=rn({token:n,providedIn:"root",factory:FE}),n})();function LE(){return new x_([new kE])}let x_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||LE()),deps:[[n,new il,new ka]]}}find(s){const u=this.factories.find(d=>d.supports(s));if(u)return u;throw new J(901,"")}}return n.\u0275prov=rn({token:n,providedIn:"root",factory:LE}),n})();const ow=IE(null,"core",[{provide:pE,useValue:"unknown"},{provide:DE,deps:[ta]},{provide:EE,deps:[]},{provide:mE,deps:[]}]);let aw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Hr(I_))},n.\u0275mod=hn({type:n}),n.\u0275inj=vn({}),n})()},4182:(Xt,rt,N)=>{"use strict";N.d(rt,{qu:()=>$i,NI:()=>jr,u:()=>es,sg:()=>Ci,u5:()=>zr,JU:()=>ue,a5:()=>er,JJ:()=>Vn,JL:()=>tn,F:()=>de,On:()=>_n,UX:()=>Xr,Q7:()=>O,kI:()=>lt,_Y:()=>Mn});var a=N(6435),$=N(9808),V=N(2916),Se=N(6688),Ie=N(4850),ne=N(7830),me=N(5254);function ce(k,x){return new V.y(T=>{const H=k.length;if(0===H)return void T.complete();const p=new Array(H);let M=0,m=0;for(let P=0;P<H;P++){const te=(0,me.D)(k[P]);let yt=!1;T.add(te.subscribe({next:Zt=>{yt||(yt=!0,m++),p[P]=Zt},error:Zt=>T.error(Zt),complete:()=>{M++,(M===H||!yt)&&(m===H&&T.next(x?x.reduce((Zt,ut,mn)=>(Zt[ut]=p[mn],Zt),{}):p),T.complete())}}))}})}let re=(()=>{class k{constructor(T,H){this._renderer=T,this._elementRef=H,this.onChange=p=>{},this.onTouched=()=>{}}setProperty(T,H){this._renderer.setProperty(this._elementRef.nativeElement,T,H)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return k.\u0275fac=function(T){return new(T||k)(a.Y36(a.Qsj),a.Y36(a.SBq))},k.\u0275dir=a.lG2({type:k}),k})(),oe=(()=>{class k extends re{}return k.\u0275fac=function(){let x;return function(H){return(x||(x=a.n5z(k)))(H||k)}}(),k.\u0275dir=a.lG2({type:k,features:[a.qOj]}),k})();const ue=new a.OlP("NgValueAccessor"),ke={provide:ue,useExisting:(0,a.Gpc)(()=>fe),multi:!0},Ae=new a.OlP("CompositionEventMode");let fe=(()=>{class k extends re{constructor(T,H,p){super(T,H),this._compositionMode=p,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ie(){const k=(0,$.q)()?(0,$.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(T){this.setProperty("value",null==T?"":T)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return k.\u0275fac=function(T){return new(T||k)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ae,8))},k.\u0275dir=a.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,H){1&T&&a.NdJ("input",function(M){return H._handleInput(M.target.value)})("blur",function(){return H.onTouched()})("compositionstart",function(){return H._compositionStart()})("compositionend",function(M){return H._compositionEnd(M.target.value)})},features:[a._Bn([ke]),a.qOj]}),k})();function Je(k){return null==k||0===k.length}function J(k){return null!=k&&"number"==typeof k.length}const Qe=new a.OlP("NgValidators"),we=new a.OlP("NgAsyncValidators"),We=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lt{static min(x){return function Be(k){return x=>{if(Je(x.value)||Je(k))return null;const T=parseFloat(x.value);return!isNaN(T)&&T<k?{min:{min:k,actual:x.value}}:null}}(x)}static max(x){return function Ct(k){return x=>{if(Je(x.value)||Je(k))return null;const T=parseFloat(x.value);return!isNaN(T)&&T>k?{max:{max:k,actual:x.value}}:null}}(x)}static required(x){return le(x)}static requiredTrue(x){return function Pe(k){return!0===k.value?null:{required:!0}}(x)}static email(x){return function ae(k){return Je(k.value)||We.test(k.value)?null:{email:!0}}(x)}static minLength(x){return function be(k){return x=>Je(x.value)||!J(x.value)?null:x.value.length<k?{minlength:{requiredLength:k,actualLength:x.value.length}}:null}(x)}static maxLength(x){return function qe(k){return x=>J(x.value)&&x.value.length>k?{maxlength:{requiredLength:k,actualLength:x.value.length}}:null}(x)}static pattern(x){return function Ve(k){if(!k)return kt;let x,T;return"string"==typeof k?(T="","^"!==k.charAt(0)&&(T+="^"),T+=k,"$"!==k.charAt(k.length-1)&&(T+="$"),x=new RegExp(T)):(T=k.toString(),x=k),H=>{if(Je(H.value))return null;const p=H.value;return x.test(p)?null:{pattern:{requiredPattern:T,actualValue:p}}}}(x)}static nullValidator(x){return null}static compose(x){return Me(x)}static composeAsync(x){return ct(x)}}function le(k){return Je(k.value)?{required:!0}:null}function kt(k){return null}function Yt(k){return null!=k}function at(k){const x=(0,a.QGY)(k)?(0,me.D)(k):k;return(0,a.CqO)(x),x}function it(k){let x={};return k.forEach(T=>{x=null!=T?Object.assign(Object.assign({},x),T):x}),0===Object.keys(x).length?null:x}function et(k,x){return x.map(T=>T(k))}function tt(k){return k.map(x=>function Ze(k){return!k.validate}(x)?x:T=>x.validate(T))}function Me(k){if(!k)return null;const x=k.filter(Yt);return 0==x.length?null:function(T){return it(et(T,x))}}function Ke(k){return null!=k?Me(tt(k)):null}function ct(k){if(!k)return null;const x=k.filter(Yt);return 0==x.length?null:function(T){return function Ee(...k){if(1===k.length){const x=k[0];if((0,Se.k)(x))return ce(x,null);if((0,ne.K)(x)&&Object.getPrototypeOf(x)===Object.prototype){const T=Object.keys(x);return ce(T.map(H=>x[H]),T)}}if("function"==typeof k[k.length-1]){const x=k.pop();return ce(k=1===k.length&&(0,Se.k)(k[0])?k[0]:k,null).pipe((0,Ie.U)(T=>x(...T)))}return ce(k,null)}(et(T,x).map(at)).pipe((0,Ie.U)(it))}}function ft(k){return null!=k?ct(tt(k)):null}function $t(k,x){return null===k?[x]:Array.isArray(k)?[...k,x]:[k,x]}function cn(k){return k._rawValidators}function rn(k){return k._rawAsyncValidators}function sn(k){return k?Array.isArray(k)?k:[k]:[]}function vn(k,x){return Array.isArray(k)?k.includes(x):k===x}function Gn(k,x){const T=sn(x);return sn(k).forEach(p=>{vn(T,p)||T.push(p)}),T}function Un(k,x){return sn(x).filter(T=>!vn(k,T))}class Kn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Ke(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,T){return!!this.control&&this.control.hasError(x,T)}getError(x,T){return this.control?this.control.getError(x,T):null}}class er extends Kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class In extends Kn{get formDirective(){return null}get path(){return null}}class kn{constructor(x){this._cd=x}is(x){var T,H,p;return"submitted"===x?!!(null===(T=this._cd)||void 0===T?void 0:T.submitted):!!(null===(p=null===(H=this._cd)||void 0===H?void 0:H.control)||void 0===p?void 0:p[x])}}let Vn=(()=>{class k extends kn{constructor(T){super(T)}}return k.\u0275fac=function(T){return new(T||k)(a.Y36(er,2))},k.\u0275dir=a.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,H){2&T&&a.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))},features:[a.qOj]}),k})(),tn=(()=>{class k extends kn{constructor(T){super(T)}}return k.\u0275fac=function(T){return new(T||k)(a.Y36(In,10))},k.\u0275dir=a.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,H){2&T&&a.ekj("ng-untouched",H.is("untouched"))("ng-touched",H.is("touched"))("ng-pristine",H.is("pristine"))("ng-dirty",H.is("dirty"))("ng-valid",H.is("valid"))("ng-invalid",H.is("invalid"))("ng-pending",H.is("pending"))("ng-submitted",H.is("submitted"))},features:[a.qOj]}),k})();function zt(k,x){return[...x.path,k]}function It(k,x){Tn(k,x),x.valueAccessor.writeValue(k.value),function ge(k,x){x.valueAccessor.registerOnChange(T=>{k._pendingValue=T,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&dt(k,x)})}(k,x),function se(k,x){const T=(H,p)=>{x.valueAccessor.writeValue(H),p&&x.viewToModelUpdate(H)};k.registerOnChange(T),x._registerOnDestroy(()=>{k._unregisterOnChange(T)})}(k,x),function $e(k,x){x.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&dt(k,x),"submit"!==k.updateOn&&k.markAsTouched()})}(k,x),function en(k,x){if(x.valueAccessor.setDisabledState){const T=H=>{x.valueAccessor.setDisabledState(H)};k.registerOnDisabledChange(T),x._registerOnDestroy(()=>{k._unregisterOnDisabledChange(T)})}}(k,x)}function Lt(k,x,T=!0){const H=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(H),x.valueAccessor.registerOnTouched(H)),Ne(k,x),k&&(x._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function yn(k,x){k.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(x)})}function Tn(k,x){const T=cn(k);null!==x.validator?k.setValidators($t(T,x.validator)):"function"==typeof T&&k.setValidators([T]);const H=rn(k);null!==x.asyncValidator?k.setAsyncValidators($t(H,x.asyncValidator)):"function"==typeof H&&k.setAsyncValidators([H]);const p=()=>k.updateValueAndValidity();yn(x._rawValidators,p),yn(x._rawAsyncValidators,p)}function Ne(k,x){let T=!1;if(null!==k){if(null!==x.validator){const p=cn(k);if(Array.isArray(p)&&p.length>0){const M=p.filter(m=>m!==x.validator);M.length!==p.length&&(T=!0,k.setValidators(M))}}if(null!==x.asyncValidator){const p=rn(k);if(Array.isArray(p)&&p.length>0){const M=p.filter(m=>m!==x.asyncValidator);M.length!==p.length&&(T=!0,k.setAsyncValidators(M))}}}const H=()=>{};return yn(x._rawValidators,H),yn(x._rawAsyncValidators,H),T}function dt(k,x){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function he(k,x){Tn(k,x)}function pn(k,x){if(!k.hasOwnProperty("model"))return!1;const T=k.model;return!!T.isFirstChange()||!Object.is(x,T.currentValue)}function gr(k,x){k._syncPendingControls(),x.forEach(T=>{const H=T.control;"submit"===H.updateOn&&H._pendingChange&&(T.viewToModelUpdate(H._pendingValue),H._pendingChange=!1)})}function Wn(k,x){if(!x)return null;let T,H,p;return Array.isArray(x),x.forEach(M=>{M.constructor===fe?T=M:function zn(k){return Object.getPrototypeOf(k.constructor)===oe}(M)?H=M:p=M}),p||H||T||null}function Le(k,x){const T=k.indexOf(x);T>-1&&k.splice(T,1)}const pt="VALID",Dt="INVALID",Qt="PENDING",an="DISABLED";function Zn(k){return(An(k)?k.validators:k)||null}function Cr(k){return Array.isArray(k)?Ke(k):k||null}function Er(k,x){return(An(x)?x.asyncValidators:k)||null}function Jt(k){return Array.isArray(k)?ft(k):k||null}function An(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}const hr=k=>k instanceof jr,sr=k=>k instanceof xn,Yr=k=>k instanceof ti;function Tr(k){return hr(k)?k.value:k.getRawValue()}function ei(k,x){const T=sr(k),H=k.controls;if(!(T?Object.keys(H):H).length)throw new a.vHH(1e3,"");if(!H[x])throw new a.vHH(1001,"")}function vr(k,x){sr(k),k._forEachChild((H,p)=>{if(void 0===x[p])throw new a.vHH(1002,"")})}class hi{constructor(x,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=T,this._composedValidatorFn=Cr(this._rawValidators),this._composedAsyncValidatorFn=Jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===pt}get invalid(){return this.status===Dt}get pending(){return this.status==Qt}get disabled(){return this.status===an}get enabled(){return this.status!==an}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=Cr(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=Jt(x)}addValidators(x){this.setValidators(Gn(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Gn(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Un(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Un(x,this._rawAsyncValidators))}hasValidator(x){return vn(this._rawValidators,x)}hasAsyncValidator(x){return vn(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=Qt,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const T=this._parentMarkedDirty(x.onlySelf);this.status=an,this.errors=null,this._forEachChild(H=>{H.disable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:T})),this._onDisabledChange.forEach(H=>H(!0))}enable(x={}){const T=this._parentMarkedDirty(x.onlySelf);this.status=pt,this._forEachChild(H=>{H.enable(Object.assign(Object.assign({},x),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},x),{skipPristineCheck:T})),this._onDisabledChange.forEach(H=>H(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pt||this.status===Qt)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?an:pt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=Qt,this._hasOwnPendingAsyncValidator=!0;const T=at(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(H=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(H,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,T={}){this.errors=x,this._updateControlsErrors(!1!==T.emitEvent)}get(x){return function qn(k,x,T){if(null==x||(Array.isArray(x)||(x=x.split(T)),Array.isArray(x)&&0===x.length))return null;let H=k;return x.forEach(p=>{H=sr(H)?H.controls.hasOwnProperty(p)?H.controls[p]:null:Yr(H)&&H.at(p)||null}),H}(this,x,".")}getError(x,T){const H=T?this.get(T):this;return H&&H.errors?H.errors[x]:null}hasError(x,T){return!!this.getError(x,T)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?an:this.errors?Dt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qt)?Qt:this._anyControlsHaveStatus(Dt)?Dt:pt}_anyControlsHaveStatus(x){return this._anyControls(T=>T.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){An(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jr extends hi{constructor(x=null,T,H){super(Zn(T),Er(H,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),An(T)&&T.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(x)?x.value:x)}setValue(x,T={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(H=>H(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(x,T={}){this.setValue(x,T)}reset(x=this.defaultValue,T={}){this._applyFormState(x),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){Le(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){Le(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class xn extends hi{constructor(x,T,H){super(Zn(T),Er(H,T)),this.controls=x,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,T){return this.controls[x]?this.controls[x]:(this.controls[x]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(x,T,H={}){this.registerControl(x,T),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}removeControl(x,T={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(x,T,H={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],T&&this.registerControl(x,T),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,T={}){vr(this,x),Object.keys(x).forEach(H=>{ei(this,H),this.controls[H].setValue(x[H],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(x,T={}){null!=x&&(Object.keys(x).forEach(H=>{this.controls[H]&&this.controls[H].patchValue(x[H],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(x={},T={}){this._forEachChild((H,p)=>{H.reset(x[p],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(x,T,H)=>(x[H]=Tr(T),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(T,H)=>!!H._syncPendingControls()||T);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(T=>{const H=this.controls[T];H&&x(H,T)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const T of Object.keys(this.controls)){const H=this.controls[T];if(this.contains(T)&&x(H))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,T,H)=>((T.enabled||this.disabled)&&(x[H]=T.value),x))}_reduceChildren(x,T){let H=x;return this._forEachChild((p,M)=>{H=T(H,p,M)}),H}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ti extends hi{constructor(x,T,H){super(Zn(T),Er(H,T)),this.controls=x,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,T={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(x,T,H={}){this.controls.splice(x,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:H.emitEvent})}removeAt(x,T={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(x,T,H={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),T&&(this.controls.splice(x,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,T={}){vr(this,x),x.forEach((H,p)=>{ei(this,p),this.at(p).setValue(H,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(x,T={}){null!=x&&(x.forEach((H,p)=>{this.at(p)&&this.at(p).patchValue(H,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(x=[],T={}){this._forEachChild((H,p)=>{H.reset(x[p],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(x=>Tr(x))}clear(x={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((T,H)=>!!H._syncPendingControls()||T,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){this.controls.forEach((T,H)=>{x(T,H)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(T=>T.enabled&&x(T))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}const si={provide:In,useExisting:(0,a.Gpc)(()=>de)},Y=(()=>Promise.resolve(null))();let de=(()=>{class k extends In{constructor(T,H){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new xn({},Ke(T),ft(H))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(T){Y.then(()=>{const H=this._findContainer(T.path);T.control=H.registerControl(T.name,T.control),It(T.control,T),T.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(T)})}getControl(T){return this.form.get(T.path)}removeControl(T){Y.then(()=>{const H=this._findContainer(T.path);H&&H.removeControl(T.name),this._directives.delete(T)})}addFormGroup(T){Y.then(()=>{const H=this._findContainer(T.path),p=new xn({});he(p,T),H.registerControl(T.name,p),p.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(T){Y.then(()=>{const H=this._findContainer(T.path);H&&H.removeControl(T.name)})}getFormGroup(T){return this.form.get(T.path)}updateModel(T,H){Y.then(()=>{this.form.get(T.path).setValue(H)})}setValue(T){this.control.setValue(T)}onSubmit(T){return this.submitted=!0,gr(this.form,this._directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(T){return T.pop(),T.length?this.form.get(T):this.form}}return k.\u0275fac=function(T){return new(T||k)(a.Y36(Qe,10),a.Y36(we,10))},k.\u0275dir=a.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(T,H){1&T&&a.NdJ("submit",function(M){return H.onSubmit(M)})("reset",function(){return H.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([si]),a.qOj]}),k})();const Mt={provide:er,useExisting:(0,a.Gpc)(()=>_n)},nn=(()=>Promise.resolve(null))();let _n=(()=>{class k extends er{constructor(T,H,p,M,m){super(),this._changeDetectorRef=m,this.control=new jr,this._registered=!1,this.update=new a.vpe,this._parent=T,this._setValidators(H),this._setAsyncValidators(p),this.valueAccessor=Wn(0,M)}ngOnChanges(T){if(this._checkForErrors(),!this._registered||"name"in T){if(this._registered&&(this._checkName(),this.formDirective)){const H=T.name.previousValue;this.formDirective.removeControl({name:H,path:this._getPath(H)})}this._setUpControl()}"isDisabled"in T&&this._updateDisabled(T),pn(T,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){It(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(T){nn.then(()=>{var H;this.control.setValue(T,{emitViewToModelChange:!1}),null===(H=this._changeDetectorRef)||void 0===H||H.markForCheck()})}_updateDisabled(T){const H=T.isDisabled.currentValue,p=""===H||H&&"false"!==H;nn.then(()=>{var M;p&&!this.control.disabled?this.control.disable():!p&&this.control.disabled&&this.control.enable(),null===(M=this._changeDetectorRef)||void 0===M||M.markForCheck()})}_getPath(T){return this._parent?zt(T,this._parent):[T]}}return k.\u0275fac=function(T){return new(T||k)(a.Y36(In,9),a.Y36(Qe,10),a.Y36(we,10),a.Y36(ue,10),a.Y36(a.sBO,8))},k.\u0275dir=a.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Mt]),a.qOj,a.TTD]}),k})(),Mn=(()=>{class k{}return k.\u0275fac=function(T){return new(T||k)},k.\u0275dir=a.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})(),je=(()=>{class k{}return k.\u0275fac=function(T){return new(T||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({}),k})();const xr=new a.OlP("NgModelWithFormControlWarning"),oi={provide:In,useExisting:(0,a.Gpc)(()=>Ci)};let Ci=(()=>{class k extends In{constructor(T,H){super(),this.validators=T,this.asyncValidators=H,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(T),this._setAsyncValidators(H)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ne(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const H=this.form.get(T.path);return It(H,T),H.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),H}getControl(T){return this.form.get(T.path)}removeControl(T){Lt(T.control||null,T,!1),Le(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,H){this.form.get(T.path).setValue(H)}onSubmit(T){return this.submitted=!0,gr(this.form,this.directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const H=T.control,p=this.form.get(T.path);H!==p&&(Lt(H||null,T),hr(p)&&(It(p,T),T.control=p))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const H=this.form.get(T.path);he(H,T),H.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const H=this.form.get(T.path);H&&function _e(k,x){return Ne(k,x)}(H,T)&&H.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tn(this.form,this),this._oldForm&&Ne(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(T){return new(T||k)(a.Y36(Qe,10),a.Y36(we,10))},k.\u0275dir=a.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(T,H){1&T&&a.NdJ("submit",function(M){return H.onSubmit(M)})("reset",function(){return H.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([oi]),a.qOj,a.TTD]}),k})();const Rs={provide:er,useExisting:(0,a.Gpc)(()=>es)};let es=(()=>{class k extends er{constructor(T,H,p,M,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(H),this._setAsyncValidators(p),this.valueAccessor=Wn(0,M)}set isDisabled(T){}ngOnChanges(T){this._added||this._setUpControl(),pn(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return zt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(T){return new(T||k)(a.Y36(In,13),a.Y36(Qe,10),a.Y36(we,10),a.Y36(ue,10),a.Y36(xr,8))},k.\u0275dir=a.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Rs]),a.qOj,a.TTD]}),k})(),Zr=(()=>{class k{constructor(){this._validator=kt}ngOnChanges(T){if(this.inputName in T){const H=this.normalizeInput(T[this.inputName].currentValue);this._enabled=this.enabled(H),this._validator=this._enabled?this.createValidator(H):kt,this._onChange&&this._onChange()}}validate(T){return this._validator(T)}registerOnValidatorChange(T){this._onChange=T}enabled(T){return null!=T}}return k.\u0275fac=function(T){return new(T||k)},k.\u0275dir=a.lG2({type:k,features:[a.TTD]}),k})();const ds={provide:Qe,useExisting:(0,a.Gpc)(()=>O),multi:!0};let O=(()=>{class k extends Zr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=T=>function ts(k){return null!=k&&!1!==k&&"false"!=`${k}`}(T),this.createValidator=T=>le}enabled(T){return T}}return k.\u0275fac=function(){let x;return function(H){return(x||(x=a.n5z(k)))(H||k)}}(),k.\u0275dir=a.lG2({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(T,H){2&T&&a.uIk("required",H._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([ds]),a.qOj]}),k})(),br=(()=>{class k{}return k.\u0275fac=function(T){return new(T||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({imports:[[je]]}),k})(),zr=(()=>{class k{}return k.\u0275fac=function(T){return new(T||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({imports:[br]}),k})(),Xr=(()=>{class k{static withConfig(T){return{ngModule:k,providers:[{provide:xr,useValue:T.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(T){return new(T||k)},k.\u0275mod=a.oAB({type:k}),k.\u0275inj=a.cJS({imports:[br]}),k})(),$i=(()=>{class k{group(T,H=null){const p=this._reduceControls(T);let P,M=null,m=null;return null!=H&&(function Bi(k){return void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn}(H)?(M=null!=H.validators?H.validators:null,m=null!=H.asyncValidators?H.asyncValidators:null,P=null!=H.updateOn?H.updateOn:void 0):(M=null!=H.validator?H.validator:null,m=null!=H.asyncValidator?H.asyncValidator:null)),new xn(p,{asyncValidators:m,updateOn:P,validators:M})}control(T,H,p){return new jr(T,H,p)}array(T,H,p){const M=T.map(m=>this._createControl(m));return new ti(M,H,p)}_reduceControls(T){const H={};return Object.keys(T).forEach(p=>{H[p]=this._createControl(T[p])}),H}_createControl(T){return hr(T)||sr(T)||Yr(T)?T:Array.isArray(T)?this.control(T[0],T.length>1?T[1]:null,T.length>2?T[2]:null):this.control(T)}}return k.\u0275fac=function(T){return new(T||k)},k.\u0275prov=a.Yz7({token:k,factory:k.\u0275fac,providedIn:Xr}),k})()},3151:(Xt,rt,N)=>{"use strict";N.d(rt,{gz:()=>_n,y6:()=>W,OD:()=>dr,eC:()=>dn,wm:()=>di,wN:()=>ca,F0:()=>Oi,rH:()=>Si,Bz:()=>Ds,Hx:()=>an});var a=N(6435),$=N(2866),V=N(6688),Se=N(3489);class Ie extends Se.L{notifyNext(E,_,R,B,X){this.destination.next(_)}notifyError(E,_){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class ne extends Se.L{constructor(E,_,R){super(),this.parent=E,this.outerValue=_,this.outerIndex=R,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var me=N(9249),Ee=N(2916);function ce(D,E,_,R,B=new ne(D,_,R)){if(!B.closed)return E instanceof Ee.y?E.subscribe(B):(0,me.s)(E)(B)}var re=N(3009);const oe={};class Z{constructor(E){this.resultSelector=E}call(E,_){return _.subscribe(new Fe(E,this.resultSelector))}}class Fe extends Ie{constructor(E,_){super(E),this.resultSelector=_,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(oe),this.observables.push(E)}_complete(){const E=this.observables,_=E.length;if(0===_)this.destination.complete();else{this.active=_,this.toRespond=_;for(let R=0;R<_;R++)this.add(ce(this,E[R],void 0,R))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,_,R){const B=this.values,Te=this.toRespond?B[R]===oe?--this.toRespond:this.toRespond:0;B[R]=_,0===Te&&(this.resultSelector?this._tryResultSelector(B):this.destination.next(B.slice()))}_tryResultSelector(E){let _;try{_=this.resultSelector.apply(this,E)}catch(R){return void this.destination.error(R)}this.destination.next(_)}}var ke=N(5254),ie=N(8896);function Ae(D){return new Ee.y(E=>{let _;try{_=D()}catch(B){return void E.error(B)}return(_?(0,ke.D)(_):(0,ie.c)()).subscribe(E)})}var fe=N(1086),Je=N(591),J=N(1737),Qe=N(4450),we=N(1221),We=N(1762),lt=N(8929),Be=N(1177);function Ct(D){return function(_){const R=new le(D),B=_.lift(R);return R.caught=B}}class le{constructor(E){this.selector=E}call(E,_){return _.subscribe(new Pe(E,this.selector,this.caught))}}class Pe extends Be.Ds{constructor(E,_,R){super(E),this.selector=_,this.caught=R}error(E){if(!this.isStopped){let _;try{_=this.selector(E,this.caught)}catch(X){return void super.error(X)}this._unsubscribeAndRecycle();const R=new Be.IY(this);this.add(R);const B=(0,Be.ft)(_,R);B!==R&&this.add(B)}}}var ae=N(1709);function be(D,E){return(0,ae.zg)(D,E,1)}var qe=N(2198),Ve=N(4231);function kt(D){return function(_){return 0===D?(0,ie.c)():_.lift(new Yt(D))}}class Yt{constructor(E){if(this.total=E,this.total<0)throw new Ve.W}call(E,_){return _.subscribe(new at(E,this.total))}}class at extends Se.L{constructor(E,_){super(E),this.total=_,this.ring=new Array,this.count=0}_next(E){const _=this.ring,R=this.total,B=this.count++;_.length<R?_.push(E):_[B%R]=E}_complete(){const E=this.destination;let _=this.count;if(_>0){const R=this.count>=this.total?this.total:this.count,B=this.ring;for(let X=0;X<R;X++){const Te=_++%R;E.next(B[Te])}}E.complete()}}var it=N(4907),et=N(7314),Ze=N(5379),Me=N(2654);class ct{constructor(E){this.callback=E}call(E,_){return _.subscribe(new ft(E,this.callback))}}class ft extends Se.L{constructor(E,_){super(E),this.add(new Me.w(_))}}var $t=N(4850),cn=N(7545),rn=N(2986),sn=N(1059),vn=N(2014),Gn=N(7224),Un=N(2868),Kn=N(4327),er=N(9146),In=N(9808);class kn{constructor(E,_){this.id=E,this.url=_}}class dr extends kn{constructor(E,_,R="imperative",B=null){super(E,_),this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rn extends kn{constructor(E,_,R){super(E,_),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vn extends kn{constructor(E,_,R){super(E,_),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tn extends kn{constructor(E,_,R){super(E,_),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class En extends kn{constructor(E,_,R,B){super(E,_),this.urlAfterRedirects=R,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends kn{constructor(E,_,R,B){super(E,_),this.urlAfterRedirects=R,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ot extends kn{constructor(E,_,R,B,X){super(E,_),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dr extends kn{constructor(E,_,R,B){super(E,_),this.urlAfterRedirects=R,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn extends kn{constructor(E,_,R,B){super(E,_),this.urlAfterRedirects=R,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class on{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kt{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rr{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(E,_,R){this.routerEvent=E,this.position=_,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const dn="primary";class ur{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_[0]:_}return null}getAll(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Pn(D){return new ur(D)}const Jn="ngNavigationCancelingError";function zt(D){const E=Error("NavigationCancelingError: "+D);return E[Jn]=!0,E}function Lt(D,E,_){const R=_.path.split("/");if(R.length>D.length||"full"===_.pathMatch&&(E.hasChildren()||R.length<D.length))return null;const B={};for(let X=0;X<R.length;X++){const Te=R[X],Ue=D[X];if(Te.startsWith(":"))B[Te.substring(1)]=Ue;else if(Te!==Ue.path)return null}return{consumed:D.slice(0,R.length),posParams:B}}function en(D,E){const _=D?Object.keys(D):void 0,R=E?Object.keys(E):void 0;if(!_||!R||_.length!=R.length)return!1;let B;for(let X=0;X<_.length;X++)if(B=_[X],!Tn(D[B],E[B]))return!1;return!0}function Tn(D,E){if(Array.isArray(D)&&Array.isArray(E)){if(D.length!==E.length)return!1;const _=[...D].sort(),R=[...E].sort();return _.every((B,X)=>R[X]===B)}return D===E}function Ne(D){return Array.prototype.concat.apply([],D)}function ge(D){return D.length>0?D[D.length-1]:null}function dt(D,E){for(const _ in D)D.hasOwnProperty(_)&&E(D[_],_)}function se(D){return(0,a.CqO)(D)?D:(0,a.QGY)(D)?(0,ke.D)(Promise.resolve(D)):(0,fe.of)(D)}const _e={exact:function Bn(D,E,_){if(!Dt(D.segments,E.segments)||!Wn(D.segments,E.segments,_)||D.numberOfChildren!==E.numberOfChildren)return!1;for(const R in E.children)if(!D.children[R]||!Bn(D.children[R],E.children[R],_))return!1;return!0},subset:zn},mt={exact:function hn(D,E){return en(D,E)},subset:function pn(D,E){return Object.keys(E).length<=Object.keys(D).length&&Object.keys(E).every(_=>Tn(D[_],E[_]))},ignored:()=>!0};function Vt(D,E,_){return _e[_.paths](D.root,E.root,_.matrixParams)&&mt[_.queryParams](D.queryParams,E.queryParams)&&!("exact"===_.fragment&&D.fragment!==E.fragment)}function zn(D,E,_){return gr(D,E,E.segments,_)}function gr(D,E,_,R){if(D.segments.length>_.length){const B=D.segments.slice(0,_.length);return!(!Dt(B,_)||E.hasChildren()||!Wn(B,_,R))}if(D.segments.length===_.length){if(!Dt(D.segments,_)||!Wn(D.segments,_,R))return!1;for(const B in E.children)if(!D.children[B]||!zn(D.children[B],E.children[B],R))return!1;return!0}{const B=_.slice(0,D.segments.length),X=_.slice(D.segments.length);return!!(Dt(D.segments,B)&&Wn(D.segments,B,R)&&D.children[dn])&&gr(D.children[dn],E,X,R)}}function Wn(D,E,_){return E.every((R,B)=>mt[_](D[B].parameters,R.parameters))}class Le{constructor(E,_,R){this.root=E,this.queryParams=_,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return Zn.serialize(this)}}class De{constructor(E,_){this.segments=E,this.children=_,this.parent=null,dt(_,(R,B)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cr(this)}}class ye{constructor(E,_){this.path=E,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return ei(this)}}function Dt(D,E){return D.length===E.length&&D.every((_,R)=>_.path===E[R].path)}class an{}class qn{parse(E){const _=new K(E);return new Le(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(E){const _=`/${Er(E.root,!0)}`,R=function hi(D){const E=Object.keys(D).map(_=>{const R=D[_];return Array.isArray(R)?R.map(B=>`${An(_)}=${An(B)}`).join("&"):`${An(_)}=${An(R)}`}).filter(_=>!!_);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${_}${R}${"string"==typeof E.fragment?`#${function hr(D){return encodeURI(D)}(E.fragment)}`:""}`}}const Zn=new qn;function Cr(D){return D.segments.map(E=>ei(E)).join("/")}function Er(D,E){if(!D.hasChildren())return Cr(D);if(E){const _=D.children[dn]?Er(D.children[dn],!1):"",R=[];return dt(D.children,(B,X)=>{X!==dn&&R.push(`${X}:${Er(B,!1)}`)}),R.length>0?`${_}(${R.join("//")})`:_}{const _=function Qt(D,E){let _=[];return dt(D.children,(R,B)=>{B===dn&&(_=_.concat(E(R,B)))}),dt(D.children,(R,B)=>{B!==dn&&(_=_.concat(E(R,B)))}),_}(D,(R,B)=>B===dn?[Er(D.children[dn],!1)]:[`${B}:${Er(R,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[dn]?`${Cr(D)}/${_[0]}`:`${Cr(D)}/(${_.join("//")})`}}function Jt(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function An(D){return Jt(D).replace(/%3B/gi,";")}function sr(D){return Jt(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yr(D){return decodeURIComponent(D)}function Tr(D){return Yr(D.replace(/\+/g,"%20"))}function ei(D){return`${sr(D.path)}${function vr(D){return Object.keys(D).map(E=>`;${sr(E)}=${sr(D[E])}`).join("")}(D.parameters)}`}const jr=/^[^\/()?;=#]+/;function xn(D){const E=D.match(jr);return E?E[0]:""}const ti=/^[^=?&#]+/,Y=/^[^&#]+/;class K{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(E.length>0||Object.keys(_).length>0)&&(R[dn]=new De(E,_)),R}parseSegment(){const E=xn(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new ye(Yr(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const _=xn(this.remaining);if(!_)return;this.capture(_);let R="";if(this.consumeOptional("=")){const B=xn(this.remaining);B&&(R=B,this.capture(R))}E[Yr(_)]=Yr(R)}parseQueryParam(E){const _=function si(D){const E=D.match(ti);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let R="";if(this.consumeOptional("=")){const Te=function de(D){const E=D.match(Y);return E?E[0]:""}(this.remaining);Te&&(R=Te,this.capture(R))}const B=Tr(_),X=Tr(R);if(E.hasOwnProperty(B)){let Te=E[B];Array.isArray(Te)||(Te=[Te],E[B]=Te),Te.push(X)}else E[B]=X}parseParens(E){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=xn(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let X;R.indexOf(":")>-1?(X=R.substr(0,R.indexOf(":")),this.capture(X),this.capture(":")):E&&(X=dn);const Te=this.parseChildren();_[X]=1===Object.keys(Te).length?Te[dn]:new De([],Te),this.consumeOptional("//")}return _}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class Ce{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const _=this.pathFromRoot(E);return _.length>1?_[_.length-2]:null}children(E){const _=He(E,this._root);return _?_.children.map(R=>R.value):[]}firstChild(E){const _=He(E,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(E){const _=Xe(E,this._root);return _.length<2?[]:_[_.length-2].children.map(B=>B.value).filter(B=>B!==E)}pathFromRoot(E){return Xe(E,this._root).map(_=>_.value)}}function He(D,E){if(D===E.value)return E;for(const _ of E.children){const R=He(D,_);if(R)return R}return null}function Xe(D,E){if(D===E.value)return[E];for(const _ of E.children){const R=Xe(D,_);if(R.length)return R.unshift(E),R}return[]}class st{constructor(E,_){this.value=E,this.children=_}toString(){return`TreeNode(${this.value})`}}function wt(D){const E={};return D&&D.children.forEach(_=>E[_.value.outlet]=_),E}class At extends Ce{constructor(E,_){super(E),this.snapshot=_,Ye(this,E)}toString(){return this.snapshot.toString()}}function Mt(D,E){const _=function nn(D,E){const Te=new Sr([],{},{},"",{},dn,E,null,D.root,-1,{});return new Br("",new st(Te,[]))}(D,E),R=new Je.X([new ye("",{})]),B=new Je.X({}),X=new Je.X({}),Te=new Je.X({}),Ue=new Je.X(""),xt=new _n(R,B,Te,Ue,X,dn,E,_.root);return xt.snapshot=_.root,new At(new st(xt,[]),_)}class _n{constructor(E,_,R,B,X,Te,Ue,xt){this.url=E,this.params=_,this.queryParams=R,this.fragment=B,this.data=X,this.outlet=Te,this.component=Ue,this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(E=>Pn(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(E=>Pn(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mn(D,E="emptyOnly"){const _=D.pathFromRoot;let R=0;if("always"!==E)for(R=_.length-1;R>=1;){const B=_[R],X=_[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(X.component)break;R--}}return function nr(D){return D.reduce((E,_)=>({params:Object.assign(Object.assign({},E.params),_.params),data:Object.assign(Object.assign({},E.data),_.data),resolve:Object.assign(Object.assign({},E.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(R))}class Sr{constructor(E,_,R,B,X,Te,Ue,xt,ln,fr,On){this.url=E,this.params=_,this.queryParams=R,this.fragment=B,this.data=X,this.outlet=Te,this.component=Ue,this.routeConfig=xt,this._urlSegment=ln,this._lastPathIndex=fr,this._resolve=On}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Br extends Ce{constructor(E,_){super(_),this.url=E,Ye(this,_)}toString(){return je(this._root)}}function Ye(D,E){E.value._routerState=D,E.children.forEach(_=>Ye(D,_))}function je(D){const E=D.children.length>0?` { ${D.children.map(je).join(", ")} } `:"";return`${D.value}${E}`}function ot(D){if(D.snapshot){const E=D.snapshot,_=D._futureSnapshot;D.snapshot=_,en(E.queryParams,_.queryParams)||D.queryParams.next(_.queryParams),E.fragment!==_.fragment&&D.fragment.next(_.fragment),en(E.params,_.params)||D.params.next(_.params),function yn(D,E){if(D.length!==E.length)return!1;for(let _=0;_<D.length;++_)if(!en(D[_],E[_]))return!1;return!0}(E.url,_.url)||D.url.next(_.url),en(E.data,_.data)||D.data.next(_.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Tt(D,E){const _=en(D.params,E.params)&&function pt(D,E){return Dt(D,E)&&D.every((_,R)=>en(_.parameters,E[R].parameters))}(D.url,E.url);return _&&!(!D.parent!=!E.parent)&&(!D.parent||Tt(D.parent,E.parent))}function bn(D,E,_){if(_&&D.shouldReuseRoute(E.value,_.value.snapshot)){const R=_.value;R._futureSnapshot=E.value;const B=function xr(D,E,_){return E.children.map(R=>{for(const B of _.children)if(D.shouldReuseRoute(R.value,B.value.snapshot))return bn(D,R,B);return bn(D,R)})}(D,E,_);return new st(R,B)}{if(D.shouldAttach(E.value)){const X=D.retrieve(E.value);if(null!==X){const Te=X.route;return Te.value._futureSnapshot=E.value,Te.children=E.children.map(Ue=>bn(D,Ue)),Te}}const R=function Kr(D){return new _n(new Je.X(D.url),new Je.X(D.params),new Je.X(D.queryParams),new Je.X(D.fragment),new Je.X(D.data),D.outlet,D.component,D)}(E.value),B=E.children.map(X=>bn(D,X));return new st(R,B)}}function oi(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ci(D){return"object"==typeof D&&null!=D&&D.outlets}function Zi(D,E,_,R,B){let X={};if(R&&dt(R,(Ue,xt)=>{X[xt]=Array.isArray(Ue)?Ue.map(ln=>`${ln}`):`${Ue}`}),D===E)return new Le(_,X,B);const Te=Xi(D,E,_);return new Le(Te,X,B)}function Xi(D,E,_){const R={};return dt(D.children,(B,X)=>{R[X]=B===E?_:Xi(B,E,_)}),new De(D.segments,R)}class fo{constructor(E,_,R){if(this.isAbsolute=E,this.numberOfDoubleDots=_,this.commands=R,E&&R.length>0&&oi(R[0]))throw new Error("Root segment cannot have matrix parameters");const B=R.find(Ci);if(B&&B!==ge(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{constructor(E,_,R){this.segmentGroup=E,this.processChildren=_,this.index=R}}function ms(D,E,_){if(D||(D=new De([],{})),0===D.segments.length&&D.hasChildren())return Es(D,E,_);const R=function Ws(D,E,_){let R=0,B=E;const X={match:!1,pathIndex:0,commandIndex:0};for(;B<D.segments.length;){if(R>=_.length)return X;const Te=D.segments[B],Ue=_[R];if(Ci(Ue))break;const xt=`${Ue}`,ln=R<_.length-1?_[R+1]:null;if(B>0&&void 0===xt)break;if(xt&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!bi(xt,ln,Te))return X;R+=2}else{if(!bi(xt,{},Te))return X;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(D,E,_),B=_.slice(R.commandIndex);if(R.match&&R.pathIndex<D.segments.length){const X=new De(D.segments.slice(0,R.pathIndex),{});return X.children[dn]=new De(D.segments.slice(R.pathIndex),D.children),Es(X,0,B)}return R.match&&0===B.length?new De(D.segments,{}):R.match&&!D.hasChildren()?Ei(D,E,_):R.match?Es(D,0,B):Ei(D,E,_)}function Es(D,E,_){if(0===_.length)return new De(D.segments,{});{const R=function Os(D){return Ci(D[0])?D[0].outlets:{[dn]:D}}(_),B={};return dt(R,(X,Te)=>{"string"==typeof X&&(X=[X]),null!==X&&(B[Te]=ms(D.children[Te],E,X))}),dt(D.children,(X,Te)=>{void 0===R[Te]&&(B[Te]=X)}),new De(D.segments,B)}}function Ei(D,E,_){const R=D.segments.slice(0,E);let B=0;for(;B<_.length;){const X=_[B];if(Ci(X)){const xt=po(X.outlets);return new De(R,xt)}if(0===B&&oi(_[0])){R.push(new ye(D.segments[E].path,pi(_[0]))),B++;continue}const Te=Ci(X)?X.outlets[dn]:`${X}`,Ue=B<_.length-1?_[B+1]:null;Te&&Ue&&oi(Ue)?(R.push(new ye(Te,pi(Ue))),B+=2):(R.push(new ye(Te,{})),B++)}return new De(R,{})}function po(D){const E={};return dt(D,(_,R)=>{"string"==typeof _&&(_=[_]),null!==_&&(E[R]=Ei(new De([],{}),0,_))}),E}function pi(D){const E={};return dt(D,(_,R)=>E[R]=`${_}`),E}function bi(D,E,_){return D==_.path&&en(E,_.parameters)}class Ii{constructor(E,_,R,B){this.routeReuseStrategy=E,this.futureState=_,this.currState=R,this.forwardEvent=B}activate(E){const _=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,R,E),ot(this.futureState.root),this.activateChildRoutes(_,R,E)}deactivateChildRoutes(E,_,R){const B=wt(_);E.children.forEach(X=>{const Te=X.value.outlet;this.deactivateRoutes(X,B[Te],R),delete B[Te]}),dt(B,(X,Te)=>{this.deactivateRouteAndItsChildren(X,R)})}deactivateRoutes(E,_,R){const B=E.value,X=_?_.value:null;if(B===X)if(B.component){const Te=R.getContext(B.outlet);Te&&this.deactivateChildRoutes(E,_,Te.children)}else this.deactivateChildRoutes(E,_,R);else X&&this.deactivateRouteAndItsChildren(_,R)}deactivateRouteAndItsChildren(E,_){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,_):this.deactivateRouteAndOutlet(E,_)}detachAndStoreRouteSubtree(E,_){const R=_.getContext(E.value.outlet),B=R&&E.value.component?R.children:_,X=wt(E);for(const Te of Object.keys(X))this.deactivateRouteAndItsChildren(X[Te],B);if(R&&R.outlet){const Te=R.outlet.detach(),Ue=R.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Te,route:E,contexts:Ue})}}deactivateRouteAndOutlet(E,_){const R=_.getContext(E.value.outlet),B=R&&E.value.component?R.children:_,X=wt(E);for(const Te of Object.keys(X))this.deactivateRouteAndItsChildren(X[Te],B);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(E,_,R){const B=wt(_);E.children.forEach(X=>{this.activateRoutes(X,B[X.value.outlet],R),this.forwardEvent(new Ur(X.value.snapshot))}),E.children.length&&this.forwardEvent(new qr(E.value.snapshot))}activateRoutes(E,_,R){const B=E.value,X=_?_.value:null;if(ot(B),B===X)if(B.component){const Te=R.getOrCreateContext(B.outlet);this.activateChildRoutes(E,_,Te.children)}else this.activateChildRoutes(E,_,R);else if(B.component){const Te=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ue=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Te.children.onOutletReAttached(Ue.contexts),Te.attachRef=Ue.componentRef,Te.route=Ue.route.value,Te.outlet&&Te.outlet.attach(Ue.componentRef,Ue.route.value),ot(Ue.route.value),this.activateChildRoutes(E,null,Te.children)}else{const Ue=function ni(D){for(let E=D.parent;E;E=E.parent){const _=E.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(B.snapshot),xt=Ue?Ue.module.componentFactoryResolver:null;Te.attachRef=null,Te.route=B,Te.resolver=xt,Te.outlet&&Te.outlet.activateWith(B,xt),this.activateChildRoutes(E,null,Te.children)}}else this.activateChildRoutes(E,null,R)}}class Mi{constructor(E,_){this.routes=E,this.module=_}}function ts(D){return"function"==typeof D}function Zr(D){return D instanceof Le}const ds=Symbol("INITIAL_VALUE");function wi(){return(0,cn.w)(D=>function ue(...D){let E,_;return(0,$.K)(D[D.length-1])&&(_=D.pop()),"function"==typeof D[D.length-1]&&(E=D.pop()),1===D.length&&(0,V.k)(D[0])&&(D=D[0]),(0,re.n)(D,_).lift(new Z(E))}(D.map(E=>E.pipe((0,rn.q)(1),(0,sn.O)(ds)))).pipe((0,vn.R)((E,_)=>{let R=!1;return _.reduce((B,X,Te)=>B!==ds?B:(X===ds&&(R=!0),R||!1!==X&&Te!==_.length-1&&!Zr(X)?B:X),E)},ds),(0,qe.h)(E=>E!==ds),(0,$t.U)(E=>Zr(E)?E:!0===E),(0,rn.q)(1)))}class O{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new W,this.attachRef=null}}class W{constructor(){this.contexts=new Map}onChildOutletCreated(E,_){const R=this.getOrCreateContext(E);R.outlet=_,this.contexts.set(E,R)}onChildOutletDestroyed(E){const _=this.getContext(E);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let _=this.getContext(E);return _||(_=new O,this.contexts.set(E,_)),_}getContext(E){return this.contexts.get(E)||null}}let F=(()=>{class D{constructor(_,R,B,X,Te){this.parentContexts=_,this.location=R,this.resolver=B,this.changeDetector=Te,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=X||dn,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,R){this.activated=_,this._activatedRoute=R,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const Te=(R=R||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),Ue=this.parentContexts.getOrCreateContext(this.name).children,xt=new ee(_,Ue,this.location.injector);this.activated=this.location.createComponent(Te,this.location.length,xt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(_){return new(_||D)(a.Y36(W),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},D.\u0275dir=a.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class ee{constructor(E,_,R){this.route=E,this.childContexts=_,this.parent=R}get(E,_){return E===_n?this.route:E===W?this.childContexts:this.parent.get(E,_)}}let Oe=(()=>{class D{}return D.\u0275fac=function(_){return new(_||D)},D.\u0275cmp=a.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,R){1&_&&a._UZ(0,"router-outlet")},directives:[F],encapsulation:2}),D})();function gt(D,E=""){for(let _=0;_<D.length;_++){const R=D[_];Nt(R,jt(E,R))}}function Nt(D,E){D.children&&gt(D.children,E)}function jt(D,E){return E?D||E.path?D&&!E.path?`${D}/`:!D&&E.path?E.path:`${D}/${E.path}`:"":D}function Or(D){const E=D.children&&D.children.map(Or),_=E?Object.assign(Object.assign({},D),{children:E}):Object.assign({},D);return!_.component&&(E||_.loadChildren)&&_.outlet&&_.outlet!==dn&&(_.component=Oe),_}function tr(D){return D.outlet||dn}function Ir(D,E){const _=D.filter(R=>tr(R)===E);return _.push(...D.filter(R=>tr(R)!==E)),_}const Yn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qr(D,E,_){var R;if(""===E.path)return"full"===E.pathMatch&&(D.hasChildren()||_.length>0)?Object.assign({},Yn):{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const X=(E.matcher||Lt)(_,D,E);if(!X)return Object.assign({},Yn);const Te={};dt(X.posParams,(xt,ln)=>{Te[ln]=xt.path});const Ue=X.consumed.length>0?Object.assign(Object.assign({},Te),X.consumed[X.consumed.length-1].parameters):Te;return{matched:!0,consumedSegments:X.consumed,remainingSegments:_.slice(X.consumed.length),parameters:Ue,positionalParamSegments:null!==(R=X.posParams)&&void 0!==R?R:{}}}function br(D,E,_,R,B="corrected"){if(_.length>0&&function Bi(D,E,_){return _.some(R=>li(D,E,R)&&tr(R)!==dn)}(D,_,R)){const Te=new De(E,function Xr(D,E,_,R){const B={};B[dn]=R,R._sourceSegment=D,R._segmentIndexShift=E.length;for(const X of _)if(""===X.path&&tr(X)!==dn){const Te=new De([],{});Te._sourceSegment=D,Te._segmentIndexShift=E.length,B[tr(X)]=Te}return B}(D,E,R,new De(_,D.children)));return Te._sourceSegment=D,Te._segmentIndexShift=E.length,{segmentGroup:Te,slicedSegments:[]}}if(0===_.length&&function $i(D,E,_){return _.some(R=>li(D,E,R))}(D,_,R)){const Te=new De(D.segments,function zr(D,E,_,R,B,X){const Te={};for(const Ue of R)if(li(D,_,Ue)&&!B[tr(Ue)]){const xt=new De([],{});xt._sourceSegment=D,xt._segmentIndexShift="legacy"===X?D.segments.length:E.length,Te[tr(Ue)]=xt}return Object.assign(Object.assign({},B),Te)}(D,E,_,R,D.children,B));return Te._sourceSegment=D,Te._segmentIndexShift=E.length,{segmentGroup:Te,slicedSegments:_}}const X=new De(D.segments,D.children);return X._sourceSegment=D,X._segmentIndexShift=E.length,{segmentGroup:X,slicedSegments:_}}function li(D,E,_){return(!(D.hasChildren()||E.length>0)||"full"!==_.pathMatch)&&""===_.path}function k(D,E,_,R){return!!(tr(D)===R||R!==dn&&li(E,_,D))&&("**"===D.path||Qr(E,D,_).matched)}function x(D,E,_){return 0===E.length&&!D.children[_]}class T{constructor(E){this.segmentGroup=E||null}}class H{constructor(E){this.urlTree=E}}function p(D){return(0,J._)(new T(D))}function M(D){return(0,J._)(new H(D))}class yt{constructor(E,_,R,B,X){this.configLoader=_,this.urlSerializer=R,this.urlTree=B,this.config=X,this.allowRedirects=!0,this.ngModule=E.get(a.h0i)}apply(){const E=br(this.urlTree.root,[],[],this.config).segmentGroup,_=new De(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,_,dn).pipe((0,$t.U)(X=>this.createUrlTree(ut(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ct(X=>{if(X instanceof H)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof T?this.noMatchError(X):X}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,dn).pipe((0,$t.U)(B=>this.createUrlTree(ut(B),E.queryParams,E.fragment))).pipe(Ct(B=>{throw B instanceof T?this.noMatchError(B):B}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,_,R){const B=E.segments.length>0?new De([],{[dn]:E}):E;return new Le(B,_,R)}expandSegmentGroup(E,_,R,B){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(E,_,R).pipe((0,$t.U)(X=>new De([],X))):this.expandSegment(E,R,_,R.segments,B,!0)}expandChildren(E,_,R){const B=[];for(const X of Object.keys(R.children))"primary"===X?B.unshift(X):B.push(X);return(0,ke.D)(B).pipe(be(X=>{const Te=R.children[X],Ue=Ir(_,X);return this.expandSegmentGroup(E,Ue,Te,X).pipe((0,$t.U)(xt=>({segment:xt,outlet:X})))}),(0,vn.R)((X,Te)=>(X[Te.outlet]=Te.segment,X),{}),function tt(D,E){const _=arguments.length>=2;return R=>R.pipe(D?(0,qe.h)((B,X)=>D(B,X,R)):Ze.y,kt(1),_?(0,et.d)(E):(0,it.T)(()=>new Qe.K))}())}expandSegment(E,_,R,B,X,Te){return(0,ke.D)(R).pipe(be(Ue=>this.expandSegmentAgainstRoute(E,_,R,Ue,B,X,Te).pipe(Ct(ln=>{if(ln instanceof T)return(0,fe.of)(null);throw ln}))),(0,Gn.P)(Ue=>!!Ue),Ct((Ue,xt)=>{if(Ue instanceof Qe.K||"EmptyError"===Ue.name)return x(_,B,X)?(0,fe.of)(new De([],{})):p(_);throw Ue}))}expandSegmentAgainstRoute(E,_,R,B,X,Te,Ue){return k(B,_,X,Te)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(E,_,B,X,Te):Ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,_,R,B,X,Te):p(_):p(_)}expandSegmentAgainstRouteUsingRedirect(E,_,R,B,X,Te){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,R,B,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(E,_,R,B,X,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,_,R,B){const X=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?M(X):this.lineralizeSegments(R,X).pipe((0,ae.zg)(Te=>{const Ue=new De(Te,{});return this.expandSegment(E,Ue,_,Te,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,_,R,B,X,Te){const{matched:Ue,consumedSegments:xt,remainingSegments:ln,positionalParamSegments:fr}=Qr(_,B,X);if(!Ue)return p(_);const On=this.applyRedirectCommands(xt,B.redirectTo,fr);return B.redirectTo.startsWith("/")?M(On):this.lineralizeSegments(B,On).pipe((0,ae.zg)(Sn=>this.expandSegment(E,_,R,Sn.concat(ln),Te,!1)))}matchSegmentAgainstRoute(E,_,R,B,X){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,fe.of)(R._loadedConfig):this.configLoader.load(E.injector,R)).pipe((0,$t.U)(On=>(R._loadedConfig=On,new De(B,{})))):(0,fe.of)(new De(B,{}));const{matched:Te,consumedSegments:Ue,remainingSegments:xt}=Qr(_,R,B);return Te?this.getChildConfig(E,R,B).pipe((0,ae.zg)(fr=>{const On=fr.module,Sn=fr.routes,{segmentGroup:Ar,slicedSegments:Hi}=br(_,Ue,xt,Sn),Mr=new De(Ar.segments,Ar.children);if(0===Hi.length&&Mr.hasChildren())return this.expandChildren(On,Sn,Mr).pipe((0,$t.U)(qo=>new De(Ue,qo)));if(0===Sn.length&&0===Hi.length)return(0,fe.of)(new De(Ue,{}));const $n=tr(R)===X;return this.expandSegment(On,Mr,Sn,Hi,$n?dn:X,!0).pipe((0,$t.U)(Ns=>new De(Ue.concat(Ns.segments),Ns.children)))})):p(_)}getChildConfig(E,_,R){return _.children?(0,fe.of)(new Mi(_.children,E)):_.loadChildren?void 0!==_._loadedConfig?(0,fe.of)(_._loadedConfig):this.runCanLoadGuards(E.injector,_,R).pipe((0,ae.zg)(B=>B?this.configLoader.load(E.injector,_).pipe((0,$t.U)(X=>(_._loadedConfig=X,X))):function P(D){return(0,J._)(zt(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))}(_))):(0,fe.of)(new Mi([],E))}runCanLoadGuards(E,_,R){const B=_.canLoad;if(!B||0===B.length)return(0,fe.of)(!0);const X=B.map(Te=>{const Ue=E.get(Te);let xt;if(function ai(D){return D&&ts(D.canLoad)}(Ue))xt=Ue.canLoad(_,R);else{if(!ts(Ue))throw new Error("Invalid CanLoad guard");xt=Ue(_,R)}return se(xt)});return(0,fe.of)(X).pipe(wi(),(0,Un.b)(Te=>{if(!Zr(Te))return;const Ue=zt(`Redirecting to "${this.urlSerializer.serialize(Te)}"`);throw Ue.url=Te,Ue}),(0,$t.U)(Te=>!0===Te))}lineralizeSegments(E,_){let R=[],B=_.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,fe.of)(R);if(B.numberOfChildren>1||!B.children[dn])return(0,J._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${E.redirectTo}'`));B=B.children[dn]}}applyRedirectCommands(E,_,R){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),E,R)}applyRedirectCreatreUrlTree(E,_,R,B){const X=this.createSegmentGroup(E,_.root,R,B);return new Le(X,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(E,_){const R={};return dt(E,(B,X)=>{if("string"==typeof B&&B.startsWith(":")){const Ue=B.substring(1);R[X]=_[Ue]}else R[X]=B}),R}createSegmentGroup(E,_,R,B){const X=this.createSegments(E,_.segments,R,B);let Te={};return dt(_.children,(Ue,xt)=>{Te[xt]=this.createSegmentGroup(E,Ue,R,B)}),new De(X,Te)}createSegments(E,_,R,B){return _.map(X=>X.path.startsWith(":")?this.findPosParam(E,X,B):this.findOrReturn(X,R))}findPosParam(E,_,R){const B=R[_.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${E}'. Cannot find '${_.path}'.`);return B}findOrReturn(E,_){let R=0;for(const B of _){if(B.path===E.path)return _.splice(R),B;R++}return E}}function ut(D){const E={};for(const R of Object.keys(D.children)){const X=ut(D.children[R]);(X.segments.length>0||X.hasChildren())&&(E[R]=X)}return function Zt(D){if(1===D.numberOfChildren&&D.children[dn]){const E=D.children[dn];return new De(D.segments.concat(E.segments),E.children)}return D}(new De(D.segments,E))}class Pr{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class or{constructor(E,_){this.component=E,this.route=_}}function gi(D,E,_){const R=D._root;return ci(R,E?E._root:null,_,[R.value])}function ri(D,E,_){const R=function hs(D){if(!D)return null;for(let E=D.parent;E;E=E.parent){const _=E.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(E);return(R?R.module.injector:_).get(D)}function ci(D,E,_,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=wt(E);return D.children.forEach(Te=>{(function Go(D,E,_,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=D.value,Te=E?E.value:null,Ue=_?_.getContext(D.value.outlet):null;if(Te&&X.routeConfig===Te.routeConfig){const xt=function no(D,E,_){if("function"==typeof _)return _(D,E);switch(_){case"pathParamsChange":return!Dt(D.url,E.url);case"pathParamsOrQueryParamsChange":return!Dt(D.url,E.url)||!en(D.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tt(D,E)||!en(D.queryParams,E.queryParams);default:return!Tt(D,E)}}(Te,X,X.routeConfig.runGuardsAndResolvers);xt?B.canActivateChecks.push(new Pr(R)):(X.data=Te.data,X._resolvedData=Te._resolvedData),ci(D,E,X.component?Ue?Ue.children:null:_,R,B),xt&&Ue&&Ue.outlet&&Ue.outlet.isActivated&&B.canDeactivateChecks.push(new or(Ue.outlet.component,Te))}else Te&&ro(E,Ue,B),B.canActivateChecks.push(new Pr(R)),ci(D,null,X.component?Ue?Ue.children:null:_,R,B)})(Te,X[Te.value.outlet],_,R.concat([Te.value]),B),delete X[Te.value.outlet]}),dt(X,(Te,Ue)=>ro(Te,_.getContext(Ue),B)),B}function ro(D,E,_){const R=wt(D),B=D.value;dt(R,(X,Te)=>{ro(X,B.component?E?E.children.getContext(Te):null:E,_)}),_.canDeactivateChecks.push(new or(B.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,B))}class Ju{}function zo(D){return new Ee.y(E=>E.error(D))}class ia{constructor(E,_,R,B,X,Te){this.rootComponentType=E,this.config=_,this.urlTree=R,this.url=B,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=Te}recognize(){const E=br(this.urlTree.root,[],[],this.config.filter(Te=>void 0===Te.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,E,dn);if(null===_)return null;const R=new Sr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dn,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new st(R,_),X=new Br(this.url,B);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(E){const _=E.value,R=Mn(_,this.paramsInheritanceStrategy);_.params=Object.freeze(R.params),_.data=Object.freeze(R.data),E.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(E,_,R){return 0===_.segments.length&&_.hasChildren()?this.processChildren(E,_):this.processSegment(E,_,_.segments,R)}processChildren(E,_){const R=[];for(const X of Object.keys(_.children)){const Te=_.children[X],Ue=Ir(E,X),xt=this.processSegmentGroup(Ue,Te,X);if(null===xt)return null;R.push(...xt)}const B=oa(R);return function qs(D){D.sort((E,_)=>E.value.outlet===dn?-1:_.value.outlet===dn?1:E.value.outlet.localeCompare(_.value.outlet))}(B),B}processSegment(E,_,R,B){for(const X of E){const Te=this.processSegmentAgainstRoute(X,_,R,B);if(null!==Te)return Te}return x(_,R,B)?[]:null}processSegmentAgainstRoute(E,_,R,B){if(E.redirectTo||!k(E,_,R,B))return null;let X,Te=[],Ue=[];if("**"===E.path){const Ar=R.length>0?ge(R).parameters:{};X=new Sr(R,Ar,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qa(E),tr(E),E.component,E,ua(_),oo(_)+R.length,Ja(E))}else{const Ar=Qr(_,E,R);if(!Ar.matched)return null;Te=Ar.consumedSegments,Ue=Ar.remainingSegments,X=new Sr(Te,Ar.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qa(E),tr(E),E.component,E,ua(_),oo(_)+Te.length,Ja(E))}const xt=function sa(D){return D.children?D.children:D.loadChildren?D._loadedConfig.routes:[]}(E),{segmentGroup:ln,slicedSegments:fr}=br(_,Te,Ue,xt.filter(Ar=>void 0===Ar.redirectTo),this.relativeLinkResolution);if(0===fr.length&&ln.hasChildren()){const Ar=this.processChildren(xt,ln);return null===Ar?null:[new st(X,Ar)]}if(0===xt.length&&0===fr.length)return[new st(X,[])];const On=tr(E)===B,Sn=this.processSegment(xt,ln,fr,On?dn:B);return null===Sn?null:[new st(X,Sn)]}}function so(D){const E=D.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function oa(D){const E=[],_=new Set;for(const R of D){if(!so(R)){E.push(R);continue}const B=E.find(X=>R.value.routeConfig===X.value.routeConfig);void 0!==B?(B.children.push(...R.children),_.add(B)):E.push(R)}for(const R of _){const B=oa(R.children);E.push(new st(R.value,B))}return E.filter(R=>!_.has(R))}function ua(D){let E=D;for(;E._sourceSegment;)E=E._sourceSegment;return E}function oo(D){let E=D,_=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,_+=E._segmentIndexShift?E._segmentIndexShift:0;return _-1}function Qa(D){return D.data||{}}function Ja(D){return D.resolve||{}}function Us(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function ws(D){return(0,cn.w)(E=>{const _=D(E);return _?(0,ke.D)(_).pipe((0,$t.U)(()=>E)):(0,fe.of)(E)})}class ca{}class Ma extends class xu{shouldDetach(E){return!1}store(E,_){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}}{}const Di=new a.OlP("ROUTES");class Ra{constructor(E,_,R,B){this.injector=E,this.compiler=_,this.onLoadStartListener=R,this.onLoadEndListener=B}load(E,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const B=this.loadModuleFactory(_.loadChildren).pipe((0,$t.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(_);const Te=X.create(E);return new Mi(Ne(Te.injector.get(Di,void 0,a.XFs.Self|a.XFs.Optional)).map(Or),Te)}),Ct(X=>{throw _._loader$=void 0,X}));return _._loader$=new We.c(B,()=>new lt.xQ).pipe((0,Kn.x)()),_._loader$}loadModuleFactory(E){return se(E()).pipe((0,ae.zg)(_=>_ instanceof a.YKP?(0,fe.of)(_):(0,ke.D)(this.compiler.compileModuleAsync(_))))}}class To{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,_){return E}}function da(D){throw D}function vs(D,E,_){return E.parse("/")}function ha(D,E){return(0,fe.of)(null)}const Oa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class D{constructor(_,R,B,X,Te,Ue,xt){this.rootComponentType=_,this.urlSerializer=R,this.rootContexts=B,this.location=X,this.config=xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt.xQ,this.errorHandler=da,this.malformedUriErrorHandler=vs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ha,afterPreactivation:ha},this.urlHandlingStrategy=new To,this.routeReuseStrategy=new Ma,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Te.get(a.h0i),this.console=Te.get(a.c2e);const On=Te.get(a.R0b);this.isNgZoneEnabled=On instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(xt),this.currentUrlTree=function he(){return new Le(new De([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ra(Te,Ue,Sn=>this.triggerEvent(new on(Sn)),Sn=>this.triggerEvent(new Kt(Sn))),this.routerState=Mt(this.currentUrlTree,this.rootComponentType),this.transitions=new Je.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const R=this.events;return _.pipe((0,qe.h)(B=>0!==B.id),(0,$t.U)(B=>Object.assign(Object.assign({},B),{extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,cn.w)(B=>{let X=!1,Te=!1;return(0,fe.of)(B).pipe((0,Un.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.currentRawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,cn.w)(Ue=>{const xt=this.browserUrlTree.toString(),ln=!this.navigated||Ue.extractedUrl.toString()!==xt||xt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ln)&&this.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return fs(Ue.source)&&(this.browserUrlTree=Ue.extractedUrl),(0,fe.of)(Ue).pipe((0,cn.w)(On=>{const Sn=this.transitions.getValue();return R.next(new dr(On.id,this.serializeUrl(On.extractedUrl),On.source,On.restoredState)),Sn!==this.transitions.getValue()?ie.E:Promise.resolve(On)}),function mn(D,E,_,R){return(0,cn.w)(B=>function te(D,E,_,R,B){return new yt(D,E,_,R,B).apply()}(D,E,_,B.extractedUrl,R).pipe((0,$t.U)(X=>Object.assign(Object.assign({},B),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Un.b)(On=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:On.urlAfterRedirects})}),function la(D,E,_,R,B){return(0,ae.zg)(X=>function Co(D,E,_,R,B="emptyOnly",X="legacy"){try{const Te=new ia(D,E,_,R,B,X).recognize();return null===Te?zo(new Ju):(0,fe.of)(Te)}catch(Te){return zo(Te)}}(D,E,X.urlAfterRedirects,_(X.urlAfterRedirects),R,B).pipe((0,$t.U)(Te=>Object.assign(Object.assign({},X),{targetSnapshot:Te}))))}(this.rootComponentType,this.config,On=>this.serializeUrl(On),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Un.b)(On=>{if("eager"===this.urlUpdateStrategy){if(!On.extras.skipLocationChange){const Ar=this.urlHandlingStrategy.merge(On.urlAfterRedirects,On.rawUrl);this.setBrowserUrl(Ar,On)}this.browserUrlTree=On.urlAfterRedirects}const Sn=new En(On.id,this.serializeUrl(On.extractedUrl),this.serializeUrl(On.urlAfterRedirects),On.targetSnapshot);R.next(Sn)}));if(ln&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Sn,extractedUrl:Ar,source:Hi,restoredState:Mr,extras:$n}=Ue,ru=new dr(Sn,this.serializeUrl(Ar),Hi,Mr);R.next(ru);const Ns=Mt(Ar,this.rootComponentType).snapshot;return(0,fe.of)(Object.assign(Object.assign({},Ue),{targetSnapshot:Ns,urlAfterRedirects:Ar,extras:Object.assign(Object.assign({},$n),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ue.rawUrl,Ue.resolve(null),ie.E}),ws(Ue=>{const{targetSnapshot:xt,id:ln,extractedUrl:fr,rawUrl:On,extras:{skipLocationChange:Sn,replaceUrl:Ar}}=Ue;return this.hooks.beforePreactivation(xt,{navigationId:ln,appliedUrlTree:fr,rawUrlTree:On,skipLocationChange:!!Sn,replaceUrl:!!Ar})}),(0,Un.b)(Ue=>{const xt=new $r(Ue.id,this.serializeUrl(Ue.extractedUrl),this.serializeUrl(Ue.urlAfterRedirects),Ue.targetSnapshot);this.triggerEvent(xt)}),(0,$t.U)(Ue=>Object.assign(Object.assign({},Ue),{guards:gi(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)})),function Ps(D,E){return(0,ae.zg)(_=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:X,canDeactivateChecks:Te}}=_;return 0===Te.length&&0===X.length?(0,fe.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function Ri(D,E,_,R){return(0,ke.D)(D).pipe((0,ae.zg)(B=>function Au(D,E,_,R,B){const X=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,fe.of)(!0);const Te=X.map(Ue=>{const xt=ri(Ue,E,B);let ln;if(function cs(D){return D&&ts(D.canDeactivate)}(xt))ln=se(xt.canDeactivate(D,E,_,R));else{if(!ts(xt))throw new Error("Invalid CanDeactivate guard");ln=se(xt(D,E,_,R))}return ln.pipe((0,Gn.P)())});return(0,fe.of)(Te).pipe(wi())}(B.component,B.route,_,E,R)),(0,Gn.P)(B=>!0!==B,!0))}(Te,R,B,D).pipe((0,ae.zg)(Ue=>Ue&&function ys(D){return"boolean"==typeof D}(Ue)?function Is(D,E,_,R){return(0,ke.D)(E).pipe(be(B=>(0,we.z)(function $s(D,E){return null!==D&&E&&E(new Rr(D)),(0,fe.of)(!0)}(B.route.parent,R),function mi(D,E){return null!==D&&E&&E(new ir(D)),(0,fe.of)(!0)}(B.route,R),function ra(D,E,_){const R=E[E.length-1],X=E.slice(0,E.length-1).reverse().map(Te=>function Ui(D){const E=D.routeConfig?D.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:D,guards:E}:null}(Te)).filter(Te=>null!==Te).map(Te=>Ae(()=>{const Ue=Te.guards.map(xt=>{const ln=ri(xt,Te.node,_);let fr;if(function Ti(D){return D&&ts(D.canActivateChild)}(ln))fr=se(ln.canActivateChild(R,D));else{if(!ts(ln))throw new Error("Invalid CanActivateChild guard");fr=se(ln(R,D))}return fr.pipe((0,Gn.P)())});return(0,fe.of)(Ue).pipe(wi())}));return(0,fe.of)(X).pipe(wi())}(D,B.path,_),function io(D,E,_){const R=E.routeConfig?E.routeConfig.canActivate:null;if(!R||0===R.length)return(0,fe.of)(!0);const B=R.map(X=>Ae(()=>{const Te=ri(X,E,_);let Ue;if(function bs(D){return D&&ts(D.canActivate)}(Te))Ue=se(Te.canActivate(E,D));else{if(!ts(Te))throw new Error("Invalid CanActivate guard");Ue=se(Te(E,D))}return Ue.pipe((0,Gn.P)())}));return(0,fe.of)(B).pipe(wi())}(D,B.route,_))),(0,Gn.P)(B=>!0!==B,!0))}(R,X,D,E):(0,fe.of)(Ue)),(0,$t.U)(Ue=>Object.assign(Object.assign({},_),{guardsResult:Ue})))})}(this.ngModule.injector,Ue=>this.triggerEvent(Ue)),(0,Un.b)(Ue=>{if(Zr(Ue.guardsResult)){const ln=zt(`Redirecting to "${this.serializeUrl(Ue.guardsResult)}"`);throw ln.url=Ue.guardsResult,ln}const xt=new Ot(Ue.id,this.serializeUrl(Ue.extractedUrl),this.serializeUrl(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.triggerEvent(xt)}),(0,qe.h)(Ue=>!!Ue.guardsResult||(this.restoreHistory(Ue),this.cancelNavigationTransition(Ue,""),!1)),ws(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,fe.of)(Ue).pipe((0,Un.b)(xt=>{const ln=new Dr(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(ln)}),(0,cn.w)(xt=>{let ln=!1;return(0,fe.of)(xt).pipe(function eu(D,E){return(0,ae.zg)(_=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=_;if(!B.length)return(0,fe.of)(_);let X=0;return(0,ke.D)(B).pipe(be(Te=>function el(D,E,_,R){return function ns(D,E,_,R){const B=Us(D);if(0===B.length)return(0,fe.of)({});const X={};return(0,ke.D)(B).pipe((0,ae.zg)(Te=>function ii(D,E,_,R){const B=ri(D,E,R);return se(B.resolve?B.resolve(E,_):B(E,_))}(D[Te],E,_,R).pipe((0,Un.b)(Ue=>{X[Te]=Ue}))),kt(1),(0,ae.zg)(()=>Us(X).length===B.length?(0,fe.of)(X):ie.E))}(D._resolve,D,E,R).pipe((0,$t.U)(X=>(D._resolvedData=X,D.data=Object.assign(Object.assign({},D.data),Mn(D,_).resolve),null)))}(Te.route,R,D,E)),(0,Un.b)(()=>X++),kt(1),(0,ae.zg)(Te=>X===B.length?(0,fe.of)(_):ie.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Un.b)({next:()=>ln=!0,complete:()=>{ln||(this.restoreHistory(xt),this.cancelNavigationTransition(xt,"At least one route resolver didn't emit any value."))}}))}),(0,Un.b)(xt=>{const ln=new jn(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(ln)}))}),ws(Ue=>{const{targetSnapshot:xt,id:ln,extractedUrl:fr,rawUrl:On,extras:{skipLocationChange:Sn,replaceUrl:Ar}}=Ue;return this.hooks.afterPreactivation(xt,{navigationId:ln,appliedUrlTree:fr,rawUrlTree:On,skipLocationChange:!!Sn,replaceUrl:!!Ar})}),(0,$t.U)(Ue=>{const xt=function Wt(D,E,_){const R=bn(D,E._root,_?_._root:void 0);return new At(R,E)}(this.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return Object.assign(Object.assign({},Ue),{targetRouterState:xt})}),(0,Un.b)(Ue=>{this.currentUrlTree=Ue.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ue.urlAfterRedirects,Ue.rawUrl),this.routerState=Ue.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ue.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ue),this.browserUrlTree=Ue.urlAfterRedirects)}),((D,E,_)=>(0,$t.U)(R=>(new Ii(E,R.targetRouterState,R.currentRouterState,_).activate(D),R)))(this.rootContexts,this.routeReuseStrategy,Ue=>this.triggerEvent(Ue)),(0,Un.b)({next(){X=!0},complete(){X=!0}}),function Ke(D){return E=>E.lift(new ct(D))}(()=>{var Ue;X||Te||this.cancelNavigationTransition(B,`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ue=this.currentNavigation)||void 0===Ue?void 0:Ue.id)===B.id&&(this.currentNavigation=null)}),Ct(Ue=>{if(Te=!0,function It(D){return D&&D[Jn]}(Ue)){const xt=Zr(Ue.url);xt||(this.navigated=!0,this.restoreHistory(B,!0));const ln=new Vn(B.id,this.serializeUrl(B.extractedUrl),Ue.message);R.next(ln),xt?setTimeout(()=>{const fr=this.urlHandlingStrategy.merge(Ue.url,this.rawUrlTree),On={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fs(B.source)};this.scheduleNavigation(fr,"imperative",null,On,{resolve:B.resolve,reject:B.reject,promise:B.promise})},0):B.resolve(!1)}else{this.restoreHistory(B,!0);const xt=new tn(B.id,this.serializeUrl(B.extractedUrl),Ue);R.next(xt);try{B.resolve(this.errorHandler(Ue))}catch(ln){B.reject(ln)}}return ie.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const R="popstate"===_.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{var B;const X={replaceUrl:!0},Te=(null===(B=_.state)||void 0===B?void 0:B.navigationId)?_.state:null;if(Te){const xt=Object.assign({},Te);delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(X.state=xt)}const Ue=this.parseUrl(_.url);this.scheduleNavigation(Ue,R,Te,X)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){gt(_),this.config=_.map(Or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,R={}){const{relativeTo:B,queryParams:X,fragment:Te,queryParamsHandling:Ue,preserveFragment:xt}=R,ln=B||this.routerState.root,fr=xt?this.currentUrlTree.fragment:Te;let On=null;switch(Ue){case"merge":On=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":On=this.currentUrlTree.queryParams;break;default:On=X||null}return null!==On&&(On=this.removeEmptyProps(On)),function _r(D,E,_,R,B){if(0===_.length)return Zi(E.root,E.root,E.root,R,B);const X=function Qi(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new fo(!0,0,D);let E=0,_=!1;const R=D.reduce((B,X,Te)=>{if("object"==typeof X&&null!=X){if(X.outlets){const Ue={};return dt(X.outlets,(xt,ln)=>{Ue[ln]="string"==typeof xt?xt.split("/"):xt}),[...B,{outlets:Ue}]}if(X.segmentPath)return[...B,X.segmentPath]}return"string"!=typeof X?[...B,X]:0===Te?(X.split("/").forEach((Ue,xt)=>{0==xt&&"."===Ue||(0==xt&&""===Ue?_=!0:".."===Ue?E++:""!=Ue&&B.push(Ue))}),B):[...B,X]},[]);return new fo(_,E,R)}(_);if(X.toRoot())return Zi(E.root,E.root,new De([],{}),R,B);const Te=function Rs(D,E,_){if(D.isAbsolute)return new fi(E.root,!0,0);if(-1===_.snapshot._lastPathIndex){const X=_.snapshot._urlSegment;return new fi(X,X===E.root,0)}const R=oi(D.commands[0])?0:1;return function es(D,E,_){let R=D,B=E,X=_;for(;X>B;){if(X-=B,R=R.parent,!R)throw new Error("Invalid number of '../'");B=R.segments.length}return new fi(R,!1,B-X)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+R,D.numberOfDoubleDots)}(X,E,D),Ue=Te.processChildren?Es(Te.segmentGroup,Te.index,X.commands):ms(Te.segmentGroup,Te.index,X.commands);return Zi(E.root,Te.segmentGroup,Ue,R,B)}(ln,this.currentUrlTree,_,On,null!=fr?fr:null)}navigateByUrl(_,R={skipLocationChange:!1}){const B=Zr(_)?_:this.parseUrl(_),X=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,R)}navigate(_,R={skipLocationChange:!1}){return function tu(D){for(let E=0;E<D.length;E++){const _=D[E];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${E}`)}}(_),this.navigateByUrl(this.createUrlTree(_,R),R)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let R;try{R=this.urlSerializer.parse(_)}catch(B){R=this.malformedUriErrorHandler(B,this.urlSerializer,_)}return R}isActive(_,R){let B;if(B=!0===R?Object.assign({},Oa):!1===R?Object.assign({},uo):R,Zr(_))return Vt(this.currentUrlTree,_,B);const X=this.parseUrl(_);return Vt(this.currentUrlTree,X,B)}removeEmptyProps(_){return Object.keys(_).reduce((R,B)=>{const X=_[B];return null!=X&&(R[B]=X),R},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new Rn(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,R,B,X,Te){var Ue,xt;if(this.disposed)return Promise.resolve(!1);let ln,fr,On;Te?(ln=Te.resolve,fr=Te.reject,On=Te.promise):On=new Promise((Hi,Mr)=>{ln=Hi,fr=Mr});const Sn=++this.navigationId;let Ar;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Ar=B&&B.\u0275routerPageId?B.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==(Ue=this.browserPageId)&&void 0!==Ue?Ue:0:(null!==(xt=this.browserPageId)&&void 0!==xt?xt:0)+1):Ar=0,this.setTransition({id:Sn,targetPageId:Ar,source:R,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:X,resolve:ln,reject:fr,promise:On,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),On.catch(Hi=>Promise.reject(Hi))}setBrowserUrl(_,R){const B=this.urlSerializer.serialize(_),X=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(B)||R.extras.replaceUrl?this.location.replaceState(B,"",X):this.location.go(B,"",X)}restoreHistory(_,R=!1){var B,X;if("computed"===this.canceledNavigationResolution){const Te=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)||0===Te?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===Te&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Te)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,R){const B=new Vn(_.id,this.serializeUrl(_.extractedUrl),R);this.triggerEvent(B),_.resolve(!1)}generateNgRouterState(_,R){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:R}:{navigationId:_}}}return D.\u0275fac=function(_){a.$Z()},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})();function fs(D){return"imperative"!==D}let Si=(()=>{class D{constructor(_,R,B,X,Te){this.router=_,this.route=R,this.tabIndexAttribute=B,this.renderer=X,this.el=Te,this.commands=null,this.onChanges=new lt.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const R=this.renderer,B=this.el.nativeElement;null!==_?R.setAttribute(B,"tabindex",_):R.removeAttribute(B,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const _={skipLocationChange:js(this.skipLocationChange),replaceUrl:js(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:js(this.preserveFragment)})}}return D.\u0275fac=function(_){return new(_||D)(a.Y36(Oi),a.Y36(_n),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},D.\u0275dir=a.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,R){1&_&&a.NdJ("click",function(){return R.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),D})();function js(D){return""===D||!!D}class nu{}class di{preload(E,_){return _().pipe(Ct(()=>(0,fe.of)(null)))}}class pa{preload(E,_){return(0,fe.of)(null)}}let So=(()=>{class D{constructor(_,R,B,X){this.router=_,this.injector=B,this.preloadingStrategy=X,this.loader=new Ra(B,R,xt=>_.triggerEvent(new on(xt)),xt=>_.triggerEvent(new Kt(xt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,qe.h)(_=>_ instanceof Rn),be(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(a.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,R){const B=[];for(const X of R)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const Te=X._loadedConfig;B.push(this.processRoutes(Te.module,Te.routes))}else X.loadChildren&&!X.canLoad?B.push(this.preloadConfig(_,X)):X.children&&B.push(this.processRoutes(_,X.children));return(0,ke.D)(B).pipe((0,er.J)(),(0,$t.U)(X=>{}))}preloadConfig(_,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,fe.of)(R._loadedConfig):this.loader.load(_.injector,R)).pipe((0,ae.zg)(X=>(R._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(Oi),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(nu))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})(),yo=(()=>{class D{constructor(_,R,B={}){this.router=_,this.viewportScroller=R,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof dr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof Rn&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof pr&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,R){this.router.triggerEvent(new pr(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(_){a.$Z()},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})();const Ys=new a.OlP("ROUTER_CONFIGURATION"),vo=new a.OlP("ROUTER_FORROOT_GUARD"),ji=[In.Ye,{provide:an,useClass:qn},{provide:Oi,useFactory:function ps(D,E,_,R,B,X,Te={},Ue,xt){const ln=new Oi(null,D,E,_,R,B,Ne(X));return Ue&&(ln.urlHandlingStrategy=Ue),xt&&(ln.routeReuseStrategy=xt),function ga(D,E){D.errorHandler&&(E.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(E.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(E.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(E.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(E.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(E.canceledNavigationResolution=D.canceledNavigationResolution)}(Te,ln),Te.enableTracing&&ln.events.subscribe(fr=>{var On,Sn;null===(On=console.group)||void 0===On||On.call(console,`Router Event: ${fr.constructor.name}`),console.log(fr.toString()),console.log(fr),null===(Sn=console.groupEnd)||void 0===Sn||Sn.call(console)}),ln},deps:[an,W,In.Ye,a.zs3,a.Sil,Di,Ys,[class ao{},new a.FiY],[ca,new a.FiY]]},W,{provide:_n,useFactory:function Dn(D){return D.routerState.root},deps:[Oi]},So,pa,di,{provide:Ys,useValue:{enableTracing:!1}}];function Hs(){return new a.PXZ("Router",Oi)}let Ds=(()=>{class D{constructor(_,R){}static forRoot(_,R){return{ngModule:D,providers:[ji,yi(_),{provide:vo,useFactory:qt,deps:[[Oi,new a.FiY,new a.tp0]]},{provide:Ys,useValue:R||{}},{provide:In.S$,useFactory:Pa,deps:[In.lw,[new a.tBr(In.mr),new a.FiY],Ys]},{provide:yo,useFactory:lo,deps:[Oi,In.EM,Ys]},{provide:nu,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:pa},{provide:a.PXZ,multi:!0,useFactory:Hs},[Hn,{provide:a.ip1,multi:!0,useFactory:Wo,deps:[Hn]},{provide:bt,useFactory:fn,deps:[Hn]},{provide:a.tb,multi:!0,useExisting:bt}]]}}static forChild(_){return{ngModule:D,providers:[yi(_)]}}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(vo,8),a.LFG(Oi,8))},D.\u0275mod=a.oAB({type:D}),D.\u0275inj=a.cJS({}),D})();function lo(D,E,_){return _.scrollOffset&&E.setOffset(_.scrollOffset),new yo(D,E,_)}function Pa(D,E,_={}){return _.useHash?new In.Do(D,E):new In.b0(D,E)}function qt(D){return"guarded"}function yi(D){return[{provide:a.deG,multi:!0,useValue:D},{provide:Di,multi:!0,useValue:D}]}let Hn=(()=>{class D{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt.xQ}appInitializer(){return this.injector.get(In.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const B=new Promise(Ue=>R=Ue),X=this.injector.get(Oi),Te=this.injector.get(Ys);return"disabled"===Te.initialNavigation?(X.setUpLocationChangeListener(),R(!0)):"enabled"===Te.initialNavigation||"enabledBlocking"===Te.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?(0,fe.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),X.initialNavigation()):R(!0),B})}bootstrapListener(_){const R=this.injector.get(Ys),B=this.injector.get(So),X=this.injector.get(yo),Te=this.injector.get(Oi),Ue=this.injector.get(a.z2F);_===Ue.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&Te.initialNavigation(),B.setUpPreloading(),X.init(),Te.resetRootComponentType(Ue.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(_){return new(_||D)(a.LFG(a.zs3))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac}),D})();function Wo(D){return D.appInitializer.bind(D)}function fn(D){return D.bootstrapListener.bind(D)}const bt=new a.OlP("Router Initializer")},3942:(Xt,rt,N)=>{"use strict";N.d(rt,{Z:()=>ke});var a=N(2090),$=N(4859),V=N(9681),Se=N(1877);class Ie{constructor(Ae,fe){this._delegate=Ae,this.firebase=fe,(0,V._addComponent)(Ae,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Ae,fe=V._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const J=this._delegate.container.getProvider(Ae);return!J.isInitialized()&&"EXPLICIT"===(null===(Je=J.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&J.initialize(),J.getImmediate({identifier:fe})}_removeServiceInstance(Ae,fe=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(fe)}_addComponent(Ae){(0,V._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,V._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function ce(){const ie=function Ee(ie){const Ae={},fe={__esModule:!0,initializeApp:function Qe(Be,Ct={}){const le=V.initializeApp(Be,Ct);if((0,a.r3)(Ae,le.name))return Ae[le.name];const Pe=new ie(le,fe);return Ae[le.name]=Pe,Pe},app:J,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function We(Be){const Ct=Be.name,le=Ct.replace("-compat","");if(V._registerComponent(Be)&&"PUBLIC"===Be.type){const Pe=(ae=J())=>{if("function"!=typeof ae[le])throw me.create("invalid-app-argument",{appName:Ct});return ae[le]()};void 0!==Be.serviceProps&&(0,a.ZB)(Pe,Be.serviceProps),fe[le]=Pe,ie.prototype[le]=function(...ae){return this._getService.bind(this,Ct).apply(this,Be.multipleInstances?ae:[])}}return"PUBLIC"===Be.type?fe[le]:null},removeApp:function Je(Be){delete Ae[Be]},useAsService:function lt(Be,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:V}};function J(Be){if(!(0,a.r3)(Ae,Be=Be||V._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Be});return Ae[Be]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function we(){return Object.keys(Ae).map(Be=>Ae[Be])}}),J.App=ie,fe}(Ie);return ie.INTERNAL=Object.assign(Object.assign({},ie.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function Ae(fe){(0,a.ZB)(ie,fe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ie}(),oe=new Se.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ie=self.firebase.SDK_VERSION;ie&&ie.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ke=re;!function Fe(ie){(0,V.registerVersion)("@firebase/app-compat","0.1.21",ie)}()},9681:(Xt,rt,N)=>{"use strict";N.r(rt),N.d(rt,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>vn,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>tt,_addOrOverwriteComponent:()=>Me,_apps:()=>et,_clearComponents:()=>$t,_components:()=>Ze,_getProvider:()=>ct,_registerComponent:()=>Ke,_removeServiceInstance:()=>ft,deleteApp:()=>er,getApp:()=>Un,getApps:()=>Kn,initializeApp:()=>Gn,onLog:()=>dr,registerVersion:()=>kn,setLogLevel:()=>Rn});var a=N(5861),$=N(4859),V=N(1877),Se=N(2090);class Ie{constructor(It){this.container=It}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function ne(zt){const It=zt.getComponent();return"VERSION"===(null==It?void 0:It.type)}(Lt)){const yn=Lt.getImmediate();return`${yn.library}/${yn.version}`}return null}).filter(Lt=>Lt).join(" ")}}const me="@firebase/app",ce=new V.Yd("@firebase/app"),at="[DEFAULT]",it={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Ze=new Map;function tt(zt,It){try{zt.container.addComponent(It)}catch(Lt){ce.debug(`Component ${It.name} failed to register with FirebaseApp ${zt.name}`,Lt)}}function Me(zt,It){zt.container.addOrOverwriteComponent(It)}function Ke(zt){const It=zt.name;if(Ze.has(It))return ce.debug(`There were multiple attempts to register component ${It}.`),!1;Ze.set(It,zt);for(const Lt of et.values())tt(Lt,zt);return!0}function ct(zt,It){const Lt=zt.container.getProvider("heartbeat").getImmediate({optional:!0});return Lt&&Lt.triggerHeartbeat(),zt.container.getProvider(It)}function ft(zt,It,Lt=at){ct(zt,It).clearInstance(Lt)}function $t(){Ze.clear()}const rn=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class sn{constructor(It,Lt,yn){this._isDeleted=!1,this._options=Object.assign({},It),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=yn,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this.checkDestroyed(),this._automaticDataCollectionEnabled=It}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(It){this._isDeleted=It}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}const vn="9.6.10";function Gn(zt,It={}){"object"!=typeof It&&(It={name:It});const Lt=Object.assign({name:at,automaticDataCollectionEnabled:!1},It),yn=Lt.name;if("string"!=typeof yn||!yn)throw rn.create("bad-app-name",{appName:String(yn)});const en=et.get(yn);if(en){if((0,Se.vZ)(zt,en.options)&&(0,Se.vZ)(Lt,en.config))return en;throw rn.create("duplicate-app",{appName:yn})}const Tn=new $.H0(yn);for(const ge of Ze.values())Tn.addComponent(ge);const Ne=new sn(zt,Lt,Tn);return et.set(yn,Ne),Ne}function Un(zt=at){const It=et.get(zt);if(!It)throw rn.create("no-app",{appName:zt});return It}function Kn(){return Array.from(et.values())}function er(zt){return In.apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(zt){const It=zt.name;et.has(It)&&(et.delete(It),yield Promise.all(zt.container.getProviders().map(Lt=>Lt.delete())),zt.isDeleted=!0)})).apply(this,arguments)}function kn(zt,It,Lt){var yn;let en=null!==(yn=it[zt])&&void 0!==yn?yn:zt;Lt&&(en+=`-${Lt}`);const Tn=en.match(/\s|\//),Ne=It.match(/\s|\//);if(Tn||Ne){const ge=[`Unable to register library "${en}" with version "${It}":`];return Tn&&ge.push(`library name "${en}" contains illegal characters (whitespace or "/")`),Tn&&Ne&&ge.push("and"),Ne&&ge.push(`version name "${It}" contains illegal characters (whitespace or "/")`),void ce.warn(ge.join(" "))}Ke(new $.wA(`${en}-version`,()=>({library:en,version:It}),"VERSION"))}function dr(zt,It){if(null!==zt&&"function"!=typeof zt)throw rn.create("invalid-log-argument");(0,V.Am)(zt,It)}function Rn(zt){(0,V.Ub)(zt)}const En="firebase-heartbeat-store";let $r=null;function Ot(){return $r||($r=(0,Se.X3)("firebase-heartbeat-database",1,(zt,It)=>{0===It&&zt.createObjectStore(En)}).catch(zt=>{throw rn.create("storage-open",{originalErrorMessage:zt.message})})),$r}function jn(){return(jn=(0,a.Z)(function*(zt){try{return(yield Ot()).transaction(En).objectStore(En).get(Rr(zt))}catch(It){throw rn.create("storage-get",{originalErrorMessage:It.message})}})).apply(this,arguments)}function on(zt,It){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(zt,It){try{const yn=(yield Ot()).transaction(En,"readwrite");return yield yn.objectStore(En).put(It,Rr(zt)),yn.complete}catch(Lt){throw rn.create("storage-set",{originalErrorMessage:Lt.message})}})).apply(this,arguments)}function Rr(zt){return`${zt.name}!${zt.options.appId}`}class Ur{constructor(It){this.container=It,this._heartbeatsCache=null;const Lt=this.container.getProvider("app").getImmediate();this._storage=new ur(Lt),this._heartbeatsCachePromise=this._storage.read().then(yn=>(this._heartbeatsCache=yn,yn))}triggerHeartbeat(){var It=this;return(0,a.Z)(function*(){const yn=It.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=pr();if(null===It._heartbeatsCache&&(It._heartbeatsCache=yield It._heartbeatsCachePromise),It._heartbeatsCache.lastSentHeartbeatDate!==en&&!It._heartbeatsCache.heartbeats.some(Tn=>Tn.date===en))return It._heartbeatsCache.heartbeats.push({date:en,agent:yn}),It._heartbeatsCache.heartbeats=It._heartbeatsCache.heartbeats.filter(Tn=>{const Ne=new Date(Tn.date).valueOf();return Date.now()-Ne<=2592e6}),It._storage.overwrite(It._heartbeatsCache)})()}getHeartbeatsHeader(){var It=this;return(0,a.Z)(function*(){if(null===It._heartbeatsCache&&(yield It._heartbeatsCachePromise),null===It._heartbeatsCache||0===It._heartbeatsCache.heartbeats.length)return"";const Lt=pr(),{heartbeatsToSend:yn,unsentEntries:en}=function dn(zt,It=1024){const Lt=[];let yn=zt.slice();for(const en of zt){const Tn=Lt.find(Ne=>Ne.agent===en.agent);if(Tn){if(Tn.dates.push(en.date),Pn(Lt)>It){Tn.dates.pop();break}}else if(Lt.push({agent:en.agent,dates:[en.date]}),Pn(Lt)>It){Lt.pop();break}yn=yn.slice(1)}return{heartbeatsToSend:Lt,unsentEntries:yn}}(It._heartbeatsCache.heartbeats),Tn=(0,Se.L)(JSON.stringify({version:2,heartbeats:yn}));return It._heartbeatsCache.lastSentHeartbeatDate=Lt,en.length>0?(It._heartbeatsCache.heartbeats=en,yield It._storage.overwrite(It._heartbeatsCache)):(It._heartbeatsCache.heartbeats=[],It._storage.overwrite(It._heartbeatsCache)),Tn})()}}function pr(){return(new Date).toISOString().substring(0,10)}class ur{constructor(It){this.app=It,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var It=this;return(0,a.Z)(function*(){return(yield It._canUseIndexedDBPromise)&&(yield function Dr(zt){return jn.apply(this,arguments)}(It.app))||{heartbeats:[]}})()}overwrite(It){var Lt=this;return(0,a.Z)(function*(){var yn;if(yield Lt._canUseIndexedDBPromise){const Tn=yield Lt.read();return on(Lt.app,{lastSentHeartbeatDate:null!==(yn=It.lastSentHeartbeatDate)&&void 0!==yn?yn:Tn.lastSentHeartbeatDate,heartbeats:It.heartbeats})}})()}add(It){var Lt=this;return(0,a.Z)(function*(){var yn;if(yield Lt._canUseIndexedDBPromise){const Tn=yield Lt.read();return on(Lt.app,{lastSentHeartbeatDate:null!==(yn=It.lastSentHeartbeatDate)&&void 0!==yn?yn:Tn.lastSentHeartbeatDate,heartbeats:[...Tn.heartbeats,...It.heartbeats]})}})()}}function Pn(zt){return(0,Se.L)(JSON.stringify({version:2,heartbeats:zt})).length}!function Jn(zt){Ke(new $.wA("platform-logger",It=>new Ie(It),"PRIVATE")),Ke(new $.wA("heartbeat",It=>new Ur(It),"PRIVATE")),kn(me,"0.7.20",zt),kn(me,"0.7.20","esm2017"),kn("fire-js","")}("")},4859:(Xt,rt,N)=>{"use strict";N.d(rt,{wA:()=>V,H0:()=>Ee});var a=N(5861),$=N(2090);class V{constructor(re,oe,ue){this.name=re,this.instanceFactory=oe,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const Se="[DEFAULT]";class Ie{constructor(re,oe){this.name=re,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const oe=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(oe)){const ue=new $.BH;if(this.instancesDeferred.set(oe,ue),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:oe});Z&&ue.resolve(Z)}catch(Z){}}return this.instancesDeferred.get(oe).promise}getImmediate(re){var oe;const ue=this.normalizeInstanceIdentifier(null==re?void 0:re.identifier),Z=null!==(oe=null==re?void 0:re.optional)&&void 0!==oe&&oe;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Fe){if(Z)return null;throw Fe}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function me(ce){return"EAGER"===ce.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:Se})}catch(oe){}for(const[oe,ue]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(oe);try{const Fe=this.getOrInitializeService({instanceIdentifier:Z});ue.resolve(Fe)}catch(Fe){}}}}clearInstance(re=Se){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,a.Z)(function*(){const oe=Array.from(re.instances.values());yield Promise.all([...oe.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...oe.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=Se){return this.instances.has(re)}getOptions(re=Se){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:oe={}}=re,ue=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:ue,options:oe});for(const[Fe,ke]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Fe)&&ke.resolve(Z);return Z}onInit(re,oe){var ue;const Z=this.normalizeInstanceIdentifier(oe),Fe=null!==(ue=this.onInitCallbacks.get(Z))&&void 0!==ue?ue:new Set;Fe.add(re),this.onInitCallbacks.set(Z,Fe);const ke=this.instances.get(Z);return ke&&re(ke,Z),()=>{Fe.delete(re)}}invokeOnInitCallbacks(re,oe){const ue=this.onInitCallbacks.get(oe);if(ue)for(const Z of ue)try{Z(re,oe)}catch(Fe){}}getOrInitializeService({instanceIdentifier:re,options:oe={}}){let ue=this.instances.get(re);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=re,ce===Se?void 0:ce),options:oe}),this.instances.set(re,ue),this.instancesOptions.set(re,oe),this.invokeOnInitCallbacks(ue,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ue)}catch(Z){}var ce;return ue||null}normalizeInstanceIdentifier(re=Se){return this.component?this.component.multipleInstances?re:Se:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const oe=this.getProvider(re.name);if(oe.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);oe.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const oe=new Ie(re,this);return this.providers.set(re,oe),oe}getProviders(){return Array.from(this.providers.values())}}},1877:(Xt,rt,N)=>{"use strict";N.d(rt,{in:()=>$,Yd:()=>me,Ub:()=>Ee,Am:()=>ce});const a=[];var $=(()=>{return(re=$||($={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",$;var re})();const V={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},Se=$.INFO,Ie={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ne=(re,oe,...ue)=>{if(oe<re.logLevel)return;const Z=(new Date).toISOString(),Fe=Ie[oe];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Fe](`[${Z}]  ${re.name}:`,...ue)};class me{constructor(oe){this.name=oe,this._logLevel=Se,this._logHandler=ne,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in $))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?V[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...oe),this._logHandler(this,$.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...oe),this._logHandler(this,$.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,$.INFO,...oe),this._logHandler(this,$.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,$.WARN,...oe),this._logHandler(this,$.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...oe),this._logHandler(this,$.ERROR,...oe)}}function Ee(re){a.forEach(oe=>{oe.setLogLevel(re)})}function ce(re,oe){for(const ue of a){let Z=null;oe&&oe.level&&(Z=V[oe.level]),ue.userLogHandler=null===re?null:(Fe,ke,...ie)=>{const Ae=ie.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(Je){return null}}).filter(fe=>fe).join(" ");ke>=(null!=Z?Z:Fe.logLevel)&&re({level:$[ke].toLowerCase(),message:Ae,args:ie,type:Fe.name})}}}},5861:(Xt,rt,N)=>{"use strict";function a(V,Se,Ie,ne,me,Ee,ce){try{var re=V[Ee](ce),oe=re.value}catch(ue){return void Ie(ue)}re.done?Se(oe):Promise.resolve(oe).then(ne,me)}function $(V){return function(){var Se=this,Ie=arguments;return new Promise(function(ne,me){var Ee=V.apply(Se,Ie);function ce(oe){a(Ee,ne,me,ce,re,"next",oe)}function re(oe){a(Ee,ne,me,ce,re,"throw",oe)}ce(void 0)})}}N.d(rt,{Z:()=>$})}},Xt=>{Xt(Xt.s=9964)}]);